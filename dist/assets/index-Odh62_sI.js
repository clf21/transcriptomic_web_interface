var Cf=Object.defineProperty;var ji=t=>{throw TypeError(t)};var Mf=(t,e,n)=>e in t?Cf(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var nt=(t,e,n)=>Mf(t,typeof e!="symbol"?e+"":e,n),eo=(t,e,n)=>e.has(t)||ji("Cannot "+n);var Ye=(t,e,n)=>(eo(t,e,"read from private field"),n?n.call(t):e.get(t)),to=(t,e,n)=>e.has(t)?ji("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),_r=(t,e,n,r)=>(eo(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),no=(t,e,n)=>(eo(t,e,"access private method"),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();function _f(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Oa(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var s=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return t[r]}})}),n}var Aa={exports:{}},Fs={},Ba={exports:{}},b={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jr=Symbol.for("react.element"),Pf=Symbol.for("react.portal"),Tf=Symbol.for("react.fragment"),Rf=Symbol.for("react.strict_mode"),zf=Symbol.for("react.profiler"),Df=Symbol.for("react.provider"),Lf=Symbol.for("react.context"),Ff=Symbol.for("react.forward_ref"),If=Symbol.for("react.suspense"),Vf=Symbol.for("react.memo"),Uf=Symbol.for("react.lazy"),Ni=Symbol.iterator;function $f(t){return t===null||typeof t!="object"?null:(t=Ni&&t[Ni]||t["@@iterator"],typeof t=="function"?t:null)}var ba={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},qa=Object.assign,Wa={};function Dn(t,e,n){this.props=t,this.context=e,this.refs=Wa,this.updater=n||ba}Dn.prototype.isReactComponent={};Dn.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Dn.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Qa(){}Qa.prototype=Dn.prototype;function El(t,e,n){this.props=t,this.context=e,this.refs=Wa,this.updater=n||ba}var Cl=El.prototype=new Qa;Cl.constructor=El;qa(Cl,Dn.prototype);Cl.isPureReactComponent=!0;var Ei=Array.isArray,Ga=Object.prototype.hasOwnProperty,Ml={current:null},Ya={key:!0,ref:!0,__self:!0,__source:!0};function Ka(t,e,n){var r,s={},o=null,l=null;if(e!=null)for(r in e.ref!==void 0&&(l=e.ref),e.key!==void 0&&(o=""+e.key),e)Ga.call(e,r)&&!Ya.hasOwnProperty(r)&&(s[r]=e[r]);var i=arguments.length-2;if(i===1)s.children=n;else if(1<i){for(var a=Array(i),u=0;u<i;u++)a[u]=arguments[u+2];s.children=a}if(t&&t.defaultProps)for(r in i=t.defaultProps,i)s[r]===void 0&&(s[r]=i[r]);return{$$typeof:jr,type:t,key:o,ref:l,props:s,_owner:Ml.current}}function Of(t,e){return{$$typeof:jr,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function _l(t){return typeof t=="object"&&t!==null&&t.$$typeof===jr}function Af(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Ci=/\/+/g;function ro(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Af(""+t.key):e.toString(36)}function Xr(t,e,n,r,s){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var l=!1;if(t===null)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(t.$$typeof){case jr:case Pf:l=!0}}if(l)return l=t,s=s(l),t=r===""?"."+ro(l,0):r,Ei(s)?(n="",t!=null&&(n=t.replace(Ci,"$&/")+"/"),Xr(s,e,n,"",function(u){return u})):s!=null&&(_l(s)&&(s=Of(s,n+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(Ci,"$&/")+"/")+t)),e.push(s)),1;if(l=0,r=r===""?".":r+":",Ei(t))for(var i=0;i<t.length;i++){o=t[i];var a=r+ro(o,i);l+=Xr(o,e,n,a,s)}else if(a=$f(t),typeof a=="function")for(t=a.call(t),i=0;!(o=t.next()).done;)o=o.value,a=r+ro(o,i++),l+=Xr(o,e,n,a,s);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return l}function Pr(t,e,n){if(t==null)return t;var r=[],s=0;return Xr(t,r,"","",function(o){return e.call(n,o,s++)}),r}function Bf(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ee={current:null},Zr={transition:null},bf={ReactCurrentDispatcher:Ee,ReactCurrentBatchConfig:Zr,ReactCurrentOwner:Ml};function Xa(){throw Error("act(...) is not supported in production builds of React.")}b.Children={map:Pr,forEach:function(t,e,n){Pr(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Pr(t,function(){e++}),e},toArray:function(t){return Pr(t,function(e){return e})||[]},only:function(t){if(!_l(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};b.Component=Dn;b.Fragment=Tf;b.Profiler=zf;b.PureComponent=El;b.StrictMode=Rf;b.Suspense=If;b.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=bf;b.act=Xa;b.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=qa({},t.props),s=t.key,o=t.ref,l=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,l=Ml.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var i=t.type.defaultProps;for(a in e)Ga.call(e,a)&&!Ya.hasOwnProperty(a)&&(r[a]=e[a]===void 0&&i!==void 0?i[a]:e[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){i=Array(a);for(var u=0;u<a;u++)i[u]=arguments[u+2];r.children=i}return{$$typeof:jr,type:t.type,key:s,ref:o,props:r,_owner:l}};b.createContext=function(t){return t={$$typeof:Lf,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Df,_context:t},t.Consumer=t};b.createElement=Ka;b.createFactory=function(t){var e=Ka.bind(null,t);return e.type=t,e};b.createRef=function(){return{current:null}};b.forwardRef=function(t){return{$$typeof:Ff,render:t}};b.isValidElement=_l;b.lazy=function(t){return{$$typeof:Uf,_payload:{_status:-1,_result:t},_init:Bf}};b.memo=function(t,e){return{$$typeof:Vf,type:t,compare:e===void 0?null:e}};b.startTransition=function(t){var e=Zr.transition;Zr.transition={};try{t()}finally{Zr.transition=e}};b.unstable_act=Xa;b.useCallback=function(t,e){return Ee.current.useCallback(t,e)};b.useContext=function(t){return Ee.current.useContext(t)};b.useDebugValue=function(){};b.useDeferredValue=function(t){return Ee.current.useDeferredValue(t)};b.useEffect=function(t,e){return Ee.current.useEffect(t,e)};b.useId=function(){return Ee.current.useId()};b.useImperativeHandle=function(t,e,n){return Ee.current.useImperativeHandle(t,e,n)};b.useInsertionEffect=function(t,e){return Ee.current.useInsertionEffect(t,e)};b.useLayoutEffect=function(t,e){return Ee.current.useLayoutEffect(t,e)};b.useMemo=function(t,e){return Ee.current.useMemo(t,e)};b.useReducer=function(t,e,n){return Ee.current.useReducer(t,e,n)};b.useRef=function(t){return Ee.current.useRef(t)};b.useState=function(t){return Ee.current.useState(t)};b.useSyncExternalStore=function(t,e,n){return Ee.current.useSyncExternalStore(t,e,n)};b.useTransition=function(){return Ee.current.useTransition()};b.version="18.3.1";Ba.exports=b;var $=Ba.exports;const Za=_f($);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qf=$,Wf=Symbol.for("react.element"),Qf=Symbol.for("react.fragment"),Gf=Object.prototype.hasOwnProperty,Yf=qf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Kf={key:!0,ref:!0,__self:!0,__source:!0};function Ja(t,e,n){var r,s={},o=null,l=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(l=e.ref);for(r in e)Gf.call(e,r)&&!Kf.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:Wf,type:t,key:o,ref:l,props:s,_owner:Yf.current}}Fs.Fragment=Qf;Fs.jsx=Ja;Fs.jsxs=Ja;Aa.exports=Fs;var h=Aa.exports,Ha={exports:{}},Ue={},eu={exports:{}},tu={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(T,U){var V=T.length;T.push(U);e:for(;0<V;){var G=V-1>>>1,K=T[G];if(0<s(K,U))T[G]=U,T[V]=K,V=G;else break e}}function n(T){return T.length===0?null:T[0]}function r(T){if(T.length===0)return null;var U=T[0],V=T.pop();if(V!==U){T[0]=V;e:for(var G=0,K=T.length,B=K>>>1;G<B;){var Z=2*(G+1)-1,pe=T[Z],ie=Z+1,ee=T[ie];if(0>s(pe,V))ie<K&&0>s(ee,pe)?(T[G]=ee,T[ie]=V,G=ie):(T[G]=pe,T[Z]=V,G=Z);else if(ie<K&&0>s(ee,V))T[G]=ee,T[ie]=V,G=ie;else break e}}return U}function s(T,U){var V=T.sortIndex-U.sortIndex;return V!==0?V:T.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var l=Date,i=l.now();t.unstable_now=function(){return l.now()-i}}var a=[],u=[],d=1,c=null,m=3,x=!1,g=!1,v=!1,N=typeof setTimeout=="function"?setTimeout:null,f=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(T){for(var U=n(u);U!==null;){if(U.callback===null)r(u);else if(U.startTime<=T)r(u),U.sortIndex=U.expirationTime,e(a,U);else break;U=n(u)}}function S(T){if(v=!1,y(T),!g)if(n(a)!==null)g=!0,O(C);else{var U=n(u);U!==null&&W(S,U.startTime-T)}}function C(T,U){g=!1,v&&(v=!1,f(E),E=-1),x=!0;var V=m;try{for(y(U),c=n(a);c!==null&&(!(c.expirationTime>U)||T&&!_());){var G=c.callback;if(typeof G=="function"){c.callback=null,m=c.priorityLevel;var K=G(c.expirationTime<=U);U=t.unstable_now(),typeof K=="function"?c.callback=K:c===n(a)&&r(a),y(U)}else r(a);c=n(a)}if(c!==null)var B=!0;else{var Z=n(u);Z!==null&&W(S,Z.startTime-U),B=!1}return B}finally{c=null,m=V,x=!1}}var M=!1,j=null,E=-1,z=5,w=-1;function _(){return!(t.unstable_now()-w<z)}function R(){if(j!==null){var T=t.unstable_now();w=T;var U=!0;try{U=j(!0,T)}finally{U?k():(M=!1,j=null)}}else M=!1}var k;if(typeof p=="function")k=function(){p(R)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,F=D.port2;D.port1.onmessage=R,k=function(){F.postMessage(null)}}else k=function(){N(R,0)};function O(T){j=T,M||(M=!0,k())}function W(T,U){E=N(function(){T(t.unstable_now())},U)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(T){T.callback=null},t.unstable_continueExecution=function(){g||x||(g=!0,O(C))},t.unstable_forceFrameRate=function(T){0>T||125<T?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<T?Math.floor(1e3/T):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(a)},t.unstable_next=function(T){switch(m){case 1:case 2:case 3:var U=3;break;default:U=m}var V=m;m=U;try{return T()}finally{m=V}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(T,U){switch(T){case 1:case 2:case 3:case 4:case 5:break;default:T=3}var V=m;m=T;try{return U()}finally{m=V}},t.unstable_scheduleCallback=function(T,U,V){var G=t.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?G+V:G):V=G,T){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=V+K,T={id:d++,callback:U,priorityLevel:T,startTime:V,expirationTime:K,sortIndex:-1},V>G?(T.sortIndex=V,e(u,T),n(a)===null&&T===n(u)&&(v?(f(E),E=-1):v=!0,W(S,V-G))):(T.sortIndex=K,e(a,T),g||x||(g=!0,O(C))),T},t.unstable_shouldYield=_,t.unstable_wrapCallback=function(T){var U=m;return function(){var V=m;m=U;try{return T.apply(this,arguments)}finally{m=V}}}})(tu);eu.exports=tu;var Xf=eu.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zf=$,Ie=Xf;function P(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var nu=new Set,sr={};function tn(t,e){Cn(t,e),Cn(t+"Capture",e)}function Cn(t,e){for(sr[t]=e,t=0;t<e.length;t++)nu.add(e[t])}var pt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),To=Object.prototype.hasOwnProperty,Jf=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Mi={},_i={};function Hf(t){return To.call(_i,t)?!0:To.call(Mi,t)?!1:Jf.test(t)?_i[t]=!0:(Mi[t]=!0,!1)}function ed(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function td(t,e,n,r){if(e===null||typeof e>"u"||ed(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ce(t,e,n,r,s,o,l){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=l}var ye={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ye[t]=new Ce(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ye[e]=new Ce(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ye[t]=new Ce(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ye[t]=new Ce(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ye[t]=new Ce(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ye[t]=new Ce(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ye[t]=new Ce(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ye[t]=new Ce(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ye[t]=new Ce(t,5,!1,t.toLowerCase(),null,!1,!1)});var Pl=/[\-:]([a-z])/g;function Tl(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Pl,Tl);ye[e]=new Ce(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Pl,Tl);ye[e]=new Ce(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Pl,Tl);ye[e]=new Ce(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ye[t]=new Ce(t,1,!1,t.toLowerCase(),null,!1,!1)});ye.xlinkHref=new Ce("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ye[t]=new Ce(t,1,!1,t.toLowerCase(),null,!0,!0)});function Rl(t,e,n,r){var s=ye.hasOwnProperty(e)?ye[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(td(e,n,s,r)&&(n=null),r||s===null?Hf(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var wt=Zf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Tr=Symbol.for("react.element"),an=Symbol.for("react.portal"),un=Symbol.for("react.fragment"),zl=Symbol.for("react.strict_mode"),Ro=Symbol.for("react.profiler"),ru=Symbol.for("react.provider"),su=Symbol.for("react.context"),Dl=Symbol.for("react.forward_ref"),zo=Symbol.for("react.suspense"),Do=Symbol.for("react.suspense_list"),Ll=Symbol.for("react.memo"),kt=Symbol.for("react.lazy"),ou=Symbol.for("react.offscreen"),Pi=Symbol.iterator;function Vn(t){return t===null||typeof t!="object"?null:(t=Pi&&t[Pi]||t["@@iterator"],typeof t=="function"?t:null)}var se=Object.assign,so;function Wn(t){if(so===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);so=e&&e[1]||""}return`
`+so+t}var oo=!1;function lo(t,e){if(!t||oo)return"";oo=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),o=r.stack.split(`
`),l=s.length-1,i=o.length-1;1<=l&&0<=i&&s[l]!==o[i];)i--;for(;1<=l&&0<=i;l--,i--)if(s[l]!==o[i]){if(l!==1||i!==1)do if(l--,i--,0>i||s[l]!==o[i]){var a=`
`+s[l].replace(" at new "," at ");return t.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",t.displayName)),a}while(1<=l&&0<=i);break}}}finally{oo=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Wn(t):""}function nd(t){switch(t.tag){case 5:return Wn(t.type);case 16:return Wn("Lazy");case 13:return Wn("Suspense");case 19:return Wn("SuspenseList");case 0:case 2:case 15:return t=lo(t.type,!1),t;case 11:return t=lo(t.type.render,!1),t;case 1:return t=lo(t.type,!0),t;default:return""}}function Lo(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case un:return"Fragment";case an:return"Portal";case Ro:return"Profiler";case zl:return"StrictMode";case zo:return"Suspense";case Do:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case su:return(t.displayName||"Context")+".Consumer";case ru:return(t._context.displayName||"Context")+".Provider";case Dl:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Ll:return e=t.displayName||null,e!==null?e:Lo(t.type)||"Memo";case kt:e=t._payload,t=t._init;try{return Lo(t(e))}catch{}}return null}function rd(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Lo(e);case 8:return e===zl?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function It(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function lu(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function sd(t){var e=lu(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(l){r=""+l,o.call(this,l)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(l){r=""+l},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Rr(t){t._valueTracker||(t._valueTracker=sd(t))}function iu(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=lu(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function cs(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Fo(t,e){var n=e.checked;return se({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Ti(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=It(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function au(t,e){e=e.checked,e!=null&&Rl(t,"checked",e,!1)}function Io(t,e){au(t,e);var n=It(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Vo(t,e.type,n):e.hasOwnProperty("defaultValue")&&Vo(t,e.type,It(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Ri(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Vo(t,e,n){(e!=="number"||cs(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Qn=Array.isArray;function xn(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+It(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Uo(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(P(91));return se({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function zi(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(P(92));if(Qn(n)){if(1<n.length)throw Error(P(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:It(n)}}function uu(t,e){var n=It(e.value),r=It(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Di(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function cu(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function $o(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?cu(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var zr,fu=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(zr=zr||document.createElement("div"),zr.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=zr.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function or(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Kn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},od=["Webkit","ms","Moz","O"];Object.keys(Kn).forEach(function(t){od.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Kn[e]=Kn[t]})});function du(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Kn.hasOwnProperty(t)&&Kn[t]?(""+e).trim():e+"px"}function hu(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=du(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var ld=se({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Oo(t,e){if(e){if(ld[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(P(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(P(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(P(61))}if(e.style!=null&&typeof e.style!="object")throw Error(P(62))}}function Ao(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Bo=null;function Fl(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var bo=null,Sn=null,kn=null;function Li(t){if(t=Cr(t)){if(typeof bo!="function")throw Error(P(280));var e=t.stateNode;e&&(e=Os(e),bo(t.stateNode,t.type,e))}}function pu(t){Sn?kn?kn.push(t):kn=[t]:Sn=t}function mu(){if(Sn){var t=Sn,e=kn;if(kn=Sn=null,Li(t),e)for(t=0;t<e.length;t++)Li(e[t])}}function gu(t,e){return t(e)}function yu(){}var io=!1;function wu(t,e,n){if(io)return t(e,n);io=!0;try{return gu(t,e,n)}finally{io=!1,(Sn!==null||kn!==null)&&(yu(),mu())}}function lr(t,e){var n=t.stateNode;if(n===null)return null;var r=Os(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(P(231,e,typeof n));return n}var qo=!1;if(pt)try{var Un={};Object.defineProperty(Un,"passive",{get:function(){qo=!0}}),window.addEventListener("test",Un,Un),window.removeEventListener("test",Un,Un)}catch{qo=!1}function id(t,e,n,r,s,o,l,i,a){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var Xn=!1,fs=null,ds=!1,Wo=null,ad={onError:function(t){Xn=!0,fs=t}};function ud(t,e,n,r,s,o,l,i,a){Xn=!1,fs=null,id.apply(ad,arguments)}function cd(t,e,n,r,s,o,l,i,a){if(ud.apply(this,arguments),Xn){if(Xn){var u=fs;Xn=!1,fs=null}else throw Error(P(198));ds||(ds=!0,Wo=u)}}function nn(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function vu(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Fi(t){if(nn(t)!==t)throw Error(P(188))}function fd(t){var e=t.alternate;if(!e){if(e=nn(t),e===null)throw Error(P(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var o=s.alternate;if(o===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===o.child){for(o=s.child;o;){if(o===n)return Fi(s),t;if(o===r)return Fi(s),e;o=o.sibling}throw Error(P(188))}if(n.return!==r.return)n=s,r=o;else{for(var l=!1,i=s.child;i;){if(i===n){l=!0,n=s,r=o;break}if(i===r){l=!0,r=s,n=o;break}i=i.sibling}if(!l){for(i=o.child;i;){if(i===n){l=!0,n=o,r=s;break}if(i===r){l=!0,r=o,n=s;break}i=i.sibling}if(!l)throw Error(P(189))}}if(n.alternate!==r)throw Error(P(190))}if(n.tag!==3)throw Error(P(188));return n.stateNode.current===n?t:e}function xu(t){return t=fd(t),t!==null?Su(t):null}function Su(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Su(t);if(e!==null)return e;t=t.sibling}return null}var ku=Ie.unstable_scheduleCallback,Ii=Ie.unstable_cancelCallback,dd=Ie.unstable_shouldYield,hd=Ie.unstable_requestPaint,ae=Ie.unstable_now,pd=Ie.unstable_getCurrentPriorityLevel,Il=Ie.unstable_ImmediatePriority,ju=Ie.unstable_UserBlockingPriority,hs=Ie.unstable_NormalPriority,md=Ie.unstable_LowPriority,Nu=Ie.unstable_IdlePriority,Is=null,lt=null;function gd(t){if(lt&&typeof lt.onCommitFiberRoot=="function")try{lt.onCommitFiberRoot(Is,t,void 0,(t.current.flags&128)===128)}catch{}}var He=Math.clz32?Math.clz32:vd,yd=Math.log,wd=Math.LN2;function vd(t){return t>>>=0,t===0?32:31-(yd(t)/wd|0)|0}var Dr=64,Lr=4194304;function Gn(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function ps(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,o=t.pingedLanes,l=n&268435455;if(l!==0){var i=l&~s;i!==0?r=Gn(i):(o&=l,o!==0&&(r=Gn(o)))}else l=n&~s,l!==0?r=Gn(l):o!==0&&(r=Gn(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,o=e&-e,s>=o||s===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-He(e),s=1<<n,r|=t[n],e&=~s;return r}function xd(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Sd(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,o=t.pendingLanes;0<o;){var l=31-He(o),i=1<<l,a=s[l];a===-1?(!(i&n)||i&r)&&(s[l]=xd(i,e)):a<=e&&(t.expiredLanes|=i),o&=~i}}function Qo(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Eu(){var t=Dr;return Dr<<=1,!(Dr&4194240)&&(Dr=64),t}function ao(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Nr(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-He(e),t[e]=n}function kd(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-He(n),o=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~o}}function Vl(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-He(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var Y=0;function Cu(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Mu,Ul,_u,Pu,Tu,Go=!1,Fr=[],_t=null,Pt=null,Tt=null,ir=new Map,ar=new Map,Nt=[],jd="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Vi(t,e){switch(t){case"focusin":case"focusout":_t=null;break;case"dragenter":case"dragleave":Pt=null;break;case"mouseover":case"mouseout":Tt=null;break;case"pointerover":case"pointerout":ir.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ar.delete(e.pointerId)}}function $n(t,e,n,r,s,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[s]},e!==null&&(e=Cr(e),e!==null&&Ul(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function Nd(t,e,n,r,s){switch(e){case"focusin":return _t=$n(_t,t,e,n,r,s),!0;case"dragenter":return Pt=$n(Pt,t,e,n,r,s),!0;case"mouseover":return Tt=$n(Tt,t,e,n,r,s),!0;case"pointerover":var o=s.pointerId;return ir.set(o,$n(ir.get(o)||null,t,e,n,r,s)),!0;case"gotpointercapture":return o=s.pointerId,ar.set(o,$n(ar.get(o)||null,t,e,n,r,s)),!0}return!1}function Ru(t){var e=bt(t.target);if(e!==null){var n=nn(e);if(n!==null){if(e=n.tag,e===13){if(e=vu(n),e!==null){t.blockedOn=e,Tu(t.priority,function(){_u(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Jr(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Yo(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Bo=r,n.target.dispatchEvent(r),Bo=null}else return e=Cr(n),e!==null&&Ul(e),t.blockedOn=n,!1;e.shift()}return!0}function Ui(t,e,n){Jr(t)&&n.delete(e)}function Ed(){Go=!1,_t!==null&&Jr(_t)&&(_t=null),Pt!==null&&Jr(Pt)&&(Pt=null),Tt!==null&&Jr(Tt)&&(Tt=null),ir.forEach(Ui),ar.forEach(Ui)}function On(t,e){t.blockedOn===e&&(t.blockedOn=null,Go||(Go=!0,Ie.unstable_scheduleCallback(Ie.unstable_NormalPriority,Ed)))}function ur(t){function e(s){return On(s,t)}if(0<Fr.length){On(Fr[0],t);for(var n=1;n<Fr.length;n++){var r=Fr[n];r.blockedOn===t&&(r.blockedOn=null)}}for(_t!==null&&On(_t,t),Pt!==null&&On(Pt,t),Tt!==null&&On(Tt,t),ir.forEach(e),ar.forEach(e),n=0;n<Nt.length;n++)r=Nt[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Nt.length&&(n=Nt[0],n.blockedOn===null);)Ru(n),n.blockedOn===null&&Nt.shift()}var jn=wt.ReactCurrentBatchConfig,ms=!0;function Cd(t,e,n,r){var s=Y,o=jn.transition;jn.transition=null;try{Y=1,$l(t,e,n,r)}finally{Y=s,jn.transition=o}}function Md(t,e,n,r){var s=Y,o=jn.transition;jn.transition=null;try{Y=4,$l(t,e,n,r)}finally{Y=s,jn.transition=o}}function $l(t,e,n,r){if(ms){var s=Yo(t,e,n,r);if(s===null)vo(t,e,r,gs,n),Vi(t,r);else if(Nd(s,t,e,n,r))r.stopPropagation();else if(Vi(t,r),e&4&&-1<jd.indexOf(t)){for(;s!==null;){var o=Cr(s);if(o!==null&&Mu(o),o=Yo(t,e,n,r),o===null&&vo(t,e,r,gs,n),o===s)break;s=o}s!==null&&r.stopPropagation()}else vo(t,e,r,null,n)}}var gs=null;function Yo(t,e,n,r){if(gs=null,t=Fl(r),t=bt(t),t!==null)if(e=nn(t),e===null)t=null;else if(n=e.tag,n===13){if(t=vu(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return gs=t,null}function zu(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(pd()){case Il:return 1;case ju:return 4;case hs:case md:return 16;case Nu:return 536870912;default:return 16}default:return 16}}var Ct=null,Ol=null,Hr=null;function Du(){if(Hr)return Hr;var t,e=Ol,n=e.length,r,s="value"in Ct?Ct.value:Ct.textContent,o=s.length;for(t=0;t<n&&e[t]===s[t];t++);var l=n-t;for(r=1;r<=l&&e[n-r]===s[o-r];r++);return Hr=s.slice(t,1<r?1-r:void 0)}function es(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ir(){return!0}function $i(){return!1}function $e(t){function e(n,r,s,o,l){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=o,this.target=l,this.currentTarget=null;for(var i in t)t.hasOwnProperty(i)&&(n=t[i],this[i]=n?n(o):o[i]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Ir:$i,this.isPropagationStopped=$i,this}return se(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ir)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ir)},persist:function(){},isPersistent:Ir}),e}var Ln={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Al=$e(Ln),Er=se({},Ln,{view:0,detail:0}),_d=$e(Er),uo,co,An,Vs=se({},Er,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Bl,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==An&&(An&&t.type==="mousemove"?(uo=t.screenX-An.screenX,co=t.screenY-An.screenY):co=uo=0,An=t),uo)},movementY:function(t){return"movementY"in t?t.movementY:co}}),Oi=$e(Vs),Pd=se({},Vs,{dataTransfer:0}),Td=$e(Pd),Rd=se({},Er,{relatedTarget:0}),fo=$e(Rd),zd=se({},Ln,{animationName:0,elapsedTime:0,pseudoElement:0}),Dd=$e(zd),Ld=se({},Ln,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Fd=$e(Ld),Id=se({},Ln,{data:0}),Ai=$e(Id),Vd={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ud={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$d={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Od(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=$d[t])?!!e[t]:!1}function Bl(){return Od}var Ad=se({},Er,{key:function(t){if(t.key){var e=Vd[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=es(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Ud[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Bl,charCode:function(t){return t.type==="keypress"?es(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?es(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Bd=$e(Ad),bd=se({},Vs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Bi=$e(bd),qd=se({},Er,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Bl}),Wd=$e(qd),Qd=se({},Ln,{propertyName:0,elapsedTime:0,pseudoElement:0}),Gd=$e(Qd),Yd=se({},Vs,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Kd=$e(Yd),Xd=[9,13,27,32],bl=pt&&"CompositionEvent"in window,Zn=null;pt&&"documentMode"in document&&(Zn=document.documentMode);var Zd=pt&&"TextEvent"in window&&!Zn,Lu=pt&&(!bl||Zn&&8<Zn&&11>=Zn),bi=" ",qi=!1;function Fu(t,e){switch(t){case"keyup":return Xd.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Iu(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var cn=!1;function Jd(t,e){switch(t){case"compositionend":return Iu(e);case"keypress":return e.which!==32?null:(qi=!0,bi);case"textInput":return t=e.data,t===bi&&qi?null:t;default:return null}}function Hd(t,e){if(cn)return t==="compositionend"||!bl&&Fu(t,e)?(t=Du(),Hr=Ol=Ct=null,cn=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Lu&&e.locale!=="ko"?null:e.data;default:return null}}var eh={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wi(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!eh[t.type]:e==="textarea"}function Vu(t,e,n,r){pu(r),e=ys(e,"onChange"),0<e.length&&(n=new Al("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Jn=null,cr=null;function th(t){Yu(t,0)}function Us(t){var e=hn(t);if(iu(e))return t}function nh(t,e){if(t==="change")return e}var Uu=!1;if(pt){var ho;if(pt){var po="oninput"in document;if(!po){var Qi=document.createElement("div");Qi.setAttribute("oninput","return;"),po=typeof Qi.oninput=="function"}ho=po}else ho=!1;Uu=ho&&(!document.documentMode||9<document.documentMode)}function Gi(){Jn&&(Jn.detachEvent("onpropertychange",$u),cr=Jn=null)}function $u(t){if(t.propertyName==="value"&&Us(cr)){var e=[];Vu(e,cr,t,Fl(t)),wu(th,e)}}function rh(t,e,n){t==="focusin"?(Gi(),Jn=e,cr=n,Jn.attachEvent("onpropertychange",$u)):t==="focusout"&&Gi()}function sh(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Us(cr)}function oh(t,e){if(t==="click")return Us(e)}function lh(t,e){if(t==="input"||t==="change")return Us(e)}function ih(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var tt=typeof Object.is=="function"?Object.is:ih;function fr(t,e){if(tt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!To.call(e,s)||!tt(t[s],e[s]))return!1}return!0}function Yi(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ki(t,e){var n=Yi(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Yi(n)}}function Ou(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Ou(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Au(){for(var t=window,e=cs();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=cs(t.document)}return e}function ql(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function ah(t){var e=Au(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Ou(n.ownerDocument.documentElement,n)){if(r!==null&&ql(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,o=Math.min(r.start,s);r=r.end===void 0?o:Math.min(r.end,s),!t.extend&&o>r&&(s=r,r=o,o=s),s=Ki(n,o);var l=Ki(n,r);s&&l&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==l.node||t.focusOffset!==l.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(l.node,l.offset)):(e.setEnd(l.node,l.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var uh=pt&&"documentMode"in document&&11>=document.documentMode,fn=null,Ko=null,Hn=null,Xo=!1;function Xi(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Xo||fn==null||fn!==cs(r)||(r=fn,"selectionStart"in r&&ql(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Hn&&fr(Hn,r)||(Hn=r,r=ys(Ko,"onSelect"),0<r.length&&(e=new Al("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=fn)))}function Vr(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var dn={animationend:Vr("Animation","AnimationEnd"),animationiteration:Vr("Animation","AnimationIteration"),animationstart:Vr("Animation","AnimationStart"),transitionend:Vr("Transition","TransitionEnd")},mo={},Bu={};pt&&(Bu=document.createElement("div").style,"AnimationEvent"in window||(delete dn.animationend.animation,delete dn.animationiteration.animation,delete dn.animationstart.animation),"TransitionEvent"in window||delete dn.transitionend.transition);function $s(t){if(mo[t])return mo[t];if(!dn[t])return t;var e=dn[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Bu)return mo[t]=e[n];return t}var bu=$s("animationend"),qu=$s("animationiteration"),Wu=$s("animationstart"),Qu=$s("transitionend"),Gu=new Map,Zi="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ut(t,e){Gu.set(t,e),tn(e,[t])}for(var go=0;go<Zi.length;go++){var yo=Zi[go],ch=yo.toLowerCase(),fh=yo[0].toUpperCase()+yo.slice(1);Ut(ch,"on"+fh)}Ut(bu,"onAnimationEnd");Ut(qu,"onAnimationIteration");Ut(Wu,"onAnimationStart");Ut("dblclick","onDoubleClick");Ut("focusin","onFocus");Ut("focusout","onBlur");Ut(Qu,"onTransitionEnd");Cn("onMouseEnter",["mouseout","mouseover"]);Cn("onMouseLeave",["mouseout","mouseover"]);Cn("onPointerEnter",["pointerout","pointerover"]);Cn("onPointerLeave",["pointerout","pointerover"]);tn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));tn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));tn("onBeforeInput",["compositionend","keypress","textInput","paste"]);tn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));tn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));tn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Yn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),dh=new Set("cancel close invalid load scroll toggle".split(" ").concat(Yn));function Ji(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,cd(r,e,void 0,t),t.currentTarget=null}function Yu(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var l=r.length-1;0<=l;l--){var i=r[l],a=i.instance,u=i.currentTarget;if(i=i.listener,a!==o&&s.isPropagationStopped())break e;Ji(s,i,u),o=a}else for(l=0;l<r.length;l++){if(i=r[l],a=i.instance,u=i.currentTarget,i=i.listener,a!==o&&s.isPropagationStopped())break e;Ji(s,i,u),o=a}}}if(ds)throw t=Wo,ds=!1,Wo=null,t}function J(t,e){var n=e[tl];n===void 0&&(n=e[tl]=new Set);var r=t+"__bubble";n.has(r)||(Ku(e,t,2,!1),n.add(r))}function wo(t,e,n){var r=0;e&&(r|=4),Ku(n,t,r,e)}var Ur="_reactListening"+Math.random().toString(36).slice(2);function dr(t){if(!t[Ur]){t[Ur]=!0,nu.forEach(function(n){n!=="selectionchange"&&(dh.has(n)||wo(n,!1,t),wo(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Ur]||(e[Ur]=!0,wo("selectionchange",!1,e))}}function Ku(t,e,n,r){switch(zu(e)){case 1:var s=Cd;break;case 4:s=Md;break;default:s=$l}n=s.bind(null,e,n,t),s=void 0,!qo||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function vo(t,e,n,r,s){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var l=r.tag;if(l===3||l===4){var i=r.stateNode.containerInfo;if(i===s||i.nodeType===8&&i.parentNode===s)break;if(l===4)for(l=r.return;l!==null;){var a=l.tag;if((a===3||a===4)&&(a=l.stateNode.containerInfo,a===s||a.nodeType===8&&a.parentNode===s))return;l=l.return}for(;i!==null;){if(l=bt(i),l===null)return;if(a=l.tag,a===5||a===6){r=o=l;continue e}i=i.parentNode}}r=r.return}wu(function(){var u=o,d=Fl(n),c=[];e:{var m=Gu.get(t);if(m!==void 0){var x=Al,g=t;switch(t){case"keypress":if(es(n)===0)break e;case"keydown":case"keyup":x=Bd;break;case"focusin":g="focus",x=fo;break;case"focusout":g="blur",x=fo;break;case"beforeblur":case"afterblur":x=fo;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":x=Oi;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":x=Td;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":x=Wd;break;case bu:case qu:case Wu:x=Dd;break;case Qu:x=Gd;break;case"scroll":x=_d;break;case"wheel":x=Kd;break;case"copy":case"cut":case"paste":x=Fd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":x=Bi}var v=(e&4)!==0,N=!v&&t==="scroll",f=v?m!==null?m+"Capture":null:m;v=[];for(var p=u,y;p!==null;){y=p;var S=y.stateNode;if(y.tag===5&&S!==null&&(y=S,f!==null&&(S=lr(p,f),S!=null&&v.push(hr(p,S,y)))),N)break;p=p.return}0<v.length&&(m=new x(m,g,null,n,d),c.push({event:m,listeners:v}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",x=t==="mouseout"||t==="pointerout",m&&n!==Bo&&(g=n.relatedTarget||n.fromElement)&&(bt(g)||g[mt]))break e;if((x||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,x?(g=n.relatedTarget||n.toElement,x=u,g=g?bt(g):null,g!==null&&(N=nn(g),g!==N||g.tag!==5&&g.tag!==6)&&(g=null)):(x=null,g=u),x!==g)){if(v=Oi,S="onMouseLeave",f="onMouseEnter",p="mouse",(t==="pointerout"||t==="pointerover")&&(v=Bi,S="onPointerLeave",f="onPointerEnter",p="pointer"),N=x==null?m:hn(x),y=g==null?m:hn(g),m=new v(S,p+"leave",x,n,d),m.target=N,m.relatedTarget=y,S=null,bt(d)===u&&(v=new v(f,p+"enter",g,n,d),v.target=y,v.relatedTarget=N,S=v),N=S,x&&g)t:{for(v=x,f=g,p=0,y=v;y;y=rn(y))p++;for(y=0,S=f;S;S=rn(S))y++;for(;0<p-y;)v=rn(v),p--;for(;0<y-p;)f=rn(f),y--;for(;p--;){if(v===f||f!==null&&v===f.alternate)break t;v=rn(v),f=rn(f)}v=null}else v=null;x!==null&&Hi(c,m,x,v,!1),g!==null&&N!==null&&Hi(c,N,g,v,!0)}}e:{if(m=u?hn(u):window,x=m.nodeName&&m.nodeName.toLowerCase(),x==="select"||x==="input"&&m.type==="file")var C=nh;else if(Wi(m))if(Uu)C=lh;else{C=sh;var M=rh}else(x=m.nodeName)&&x.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(C=oh);if(C&&(C=C(t,u))){Vu(c,C,n,d);break e}M&&M(t,m,u),t==="focusout"&&(M=m._wrapperState)&&M.controlled&&m.type==="number"&&Vo(m,"number",m.value)}switch(M=u?hn(u):window,t){case"focusin":(Wi(M)||M.contentEditable==="true")&&(fn=M,Ko=u,Hn=null);break;case"focusout":Hn=Ko=fn=null;break;case"mousedown":Xo=!0;break;case"contextmenu":case"mouseup":case"dragend":Xo=!1,Xi(c,n,d);break;case"selectionchange":if(uh)break;case"keydown":case"keyup":Xi(c,n,d)}var j;if(bl)e:{switch(t){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else cn?Fu(t,n)&&(E="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(Lu&&n.locale!=="ko"&&(cn||E!=="onCompositionStart"?E==="onCompositionEnd"&&cn&&(j=Du()):(Ct=d,Ol="value"in Ct?Ct.value:Ct.textContent,cn=!0)),M=ys(u,E),0<M.length&&(E=new Ai(E,t,null,n,d),c.push({event:E,listeners:M}),j?E.data=j:(j=Iu(n),j!==null&&(E.data=j)))),(j=Zd?Jd(t,n):Hd(t,n))&&(u=ys(u,"onBeforeInput"),0<u.length&&(d=new Ai("onBeforeInput","beforeinput",null,n,d),c.push({event:d,listeners:u}),d.data=j))}Yu(c,e)})}function hr(t,e,n){return{instance:t,listener:e,currentTarget:n}}function ys(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,o=s.stateNode;s.tag===5&&o!==null&&(s=o,o=lr(t,n),o!=null&&r.unshift(hr(t,o,s)),o=lr(t,e),o!=null&&r.push(hr(t,o,s))),t=t.return}return r}function rn(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Hi(t,e,n,r,s){for(var o=e._reactName,l=[];n!==null&&n!==r;){var i=n,a=i.alternate,u=i.stateNode;if(a!==null&&a===r)break;i.tag===5&&u!==null&&(i=u,s?(a=lr(n,o),a!=null&&l.unshift(hr(n,a,i))):s||(a=lr(n,o),a!=null&&l.push(hr(n,a,i)))),n=n.return}l.length!==0&&t.push({event:e,listeners:l})}var hh=/\r\n?/g,ph=/\u0000|\uFFFD/g;function ea(t){return(typeof t=="string"?t:""+t).replace(hh,`
`).replace(ph,"")}function $r(t,e,n){if(e=ea(e),ea(t)!==e&&n)throw Error(P(425))}function ws(){}var Zo=null,Jo=null;function Ho(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var el=typeof setTimeout=="function"?setTimeout:void 0,mh=typeof clearTimeout=="function"?clearTimeout:void 0,ta=typeof Promise=="function"?Promise:void 0,gh=typeof queueMicrotask=="function"?queueMicrotask:typeof ta<"u"?function(t){return ta.resolve(null).then(t).catch(yh)}:el;function yh(t){setTimeout(function(){throw t})}function xo(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),ur(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);ur(e)}function Rt(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function na(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Fn=Math.random().toString(36).slice(2),ot="__reactFiber$"+Fn,pr="__reactProps$"+Fn,mt="__reactContainer$"+Fn,tl="__reactEvents$"+Fn,wh="__reactListeners$"+Fn,vh="__reactHandles$"+Fn;function bt(t){var e=t[ot];if(e)return e;for(var n=t.parentNode;n;){if(e=n[mt]||n[ot]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=na(t);t!==null;){if(n=t[ot])return n;t=na(t)}return e}t=n,n=t.parentNode}return null}function Cr(t){return t=t[ot]||t[mt],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function hn(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(P(33))}function Os(t){return t[pr]||null}var nl=[],pn=-1;function $t(t){return{current:t}}function H(t){0>pn||(t.current=nl[pn],nl[pn]=null,pn--)}function X(t,e){pn++,nl[pn]=t.current,t.current=e}var Vt={},ke=$t(Vt),Te=$t(!1),Xt=Vt;function Mn(t,e){var n=t.type.contextTypes;if(!n)return Vt;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},o;for(o in n)s[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Re(t){return t=t.childContextTypes,t!=null}function vs(){H(Te),H(ke)}function ra(t,e,n){if(ke.current!==Vt)throw Error(P(168));X(ke,e),X(Te,n)}function Xu(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(P(108,rd(t)||"Unknown",s));return se({},n,r)}function xs(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Vt,Xt=ke.current,X(ke,t),X(Te,Te.current),!0}function sa(t,e,n){var r=t.stateNode;if(!r)throw Error(P(169));n?(t=Xu(t,e,Xt),r.__reactInternalMemoizedMergedChildContext=t,H(Te),H(ke),X(ke,t)):H(Te),X(Te,n)}var ut=null,As=!1,So=!1;function Zu(t){ut===null?ut=[t]:ut.push(t)}function xh(t){As=!0,Zu(t)}function Ot(){if(!So&&ut!==null){So=!0;var t=0,e=Y;try{var n=ut;for(Y=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}ut=null,As=!1}catch(s){throw ut!==null&&(ut=ut.slice(t+1)),ku(Il,Ot),s}finally{Y=e,So=!1}}return null}var mn=[],gn=0,Ss=null,ks=0,Be=[],be=0,Zt=null,ft=1,dt="";function At(t,e){mn[gn++]=ks,mn[gn++]=Ss,Ss=t,ks=e}function Ju(t,e,n){Be[be++]=ft,Be[be++]=dt,Be[be++]=Zt,Zt=t;var r=ft;t=dt;var s=32-He(r)-1;r&=~(1<<s),n+=1;var o=32-He(e)+s;if(30<o){var l=s-s%5;o=(r&(1<<l)-1).toString(32),r>>=l,s-=l,ft=1<<32-He(e)+s|n<<s|r,dt=o+t}else ft=1<<o|n<<s|r,dt=t}function Wl(t){t.return!==null&&(At(t,1),Ju(t,1,0))}function Ql(t){for(;t===Ss;)Ss=mn[--gn],mn[gn]=null,ks=mn[--gn],mn[gn]=null;for(;t===Zt;)Zt=Be[--be],Be[be]=null,dt=Be[--be],Be[be]=null,ft=Be[--be],Be[be]=null}var Fe=null,Le=null,te=!1,Je=null;function Hu(t,e){var n=qe(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function oa(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Fe=t,Le=Rt(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Fe=t,Le=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Zt!==null?{id:ft,overflow:dt}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=qe(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Fe=t,Le=null,!0):!1;default:return!1}}function rl(t){return(t.mode&1)!==0&&(t.flags&128)===0}function sl(t){if(te){var e=Le;if(e){var n=e;if(!oa(t,e)){if(rl(t))throw Error(P(418));e=Rt(n.nextSibling);var r=Fe;e&&oa(t,e)?Hu(r,n):(t.flags=t.flags&-4097|2,te=!1,Fe=t)}}else{if(rl(t))throw Error(P(418));t.flags=t.flags&-4097|2,te=!1,Fe=t}}}function la(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Fe=t}function Or(t){if(t!==Fe)return!1;if(!te)return la(t),te=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Ho(t.type,t.memoizedProps)),e&&(e=Le)){if(rl(t))throw ec(),Error(P(418));for(;e;)Hu(t,e),e=Rt(e.nextSibling)}if(la(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(P(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Le=Rt(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Le=null}}else Le=Fe?Rt(t.stateNode.nextSibling):null;return!0}function ec(){for(var t=Le;t;)t=Rt(t.nextSibling)}function _n(){Le=Fe=null,te=!1}function Gl(t){Je===null?Je=[t]:Je.push(t)}var Sh=wt.ReactCurrentBatchConfig;function Bn(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(P(309));var r=n.stateNode}if(!r)throw Error(P(147,t));var s=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(l){var i=s.refs;l===null?delete i[o]:i[o]=l},e._stringRef=o,e)}if(typeof t!="string")throw Error(P(284));if(!n._owner)throw Error(P(290,t))}return t}function Ar(t,e){throw t=Object.prototype.toString.call(e),Error(P(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function ia(t){var e=t._init;return e(t._payload)}function tc(t){function e(f,p){if(t){var y=f.deletions;y===null?(f.deletions=[p],f.flags|=16):y.push(p)}}function n(f,p){if(!t)return null;for(;p!==null;)e(f,p),p=p.sibling;return null}function r(f,p){for(f=new Map;p!==null;)p.key!==null?f.set(p.key,p):f.set(p.index,p),p=p.sibling;return f}function s(f,p){return f=Ft(f,p),f.index=0,f.sibling=null,f}function o(f,p,y){return f.index=y,t?(y=f.alternate,y!==null?(y=y.index,y<p?(f.flags|=2,p):y):(f.flags|=2,p)):(f.flags|=1048576,p)}function l(f){return t&&f.alternate===null&&(f.flags|=2),f}function i(f,p,y,S){return p===null||p.tag!==6?(p=_o(y,f.mode,S),p.return=f,p):(p=s(p,y),p.return=f,p)}function a(f,p,y,S){var C=y.type;return C===un?d(f,p,y.props.children,S,y.key):p!==null&&(p.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===kt&&ia(C)===p.type)?(S=s(p,y.props),S.ref=Bn(f,p,y),S.return=f,S):(S=is(y.type,y.key,y.props,null,f.mode,S),S.ref=Bn(f,p,y),S.return=f,S)}function u(f,p,y,S){return p===null||p.tag!==4||p.stateNode.containerInfo!==y.containerInfo||p.stateNode.implementation!==y.implementation?(p=Po(y,f.mode,S),p.return=f,p):(p=s(p,y.children||[]),p.return=f,p)}function d(f,p,y,S,C){return p===null||p.tag!==7?(p=Gt(y,f.mode,S,C),p.return=f,p):(p=s(p,y),p.return=f,p)}function c(f,p,y){if(typeof p=="string"&&p!==""||typeof p=="number")return p=_o(""+p,f.mode,y),p.return=f,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Tr:return y=is(p.type,p.key,p.props,null,f.mode,y),y.ref=Bn(f,null,p),y.return=f,y;case an:return p=Po(p,f.mode,y),p.return=f,p;case kt:var S=p._init;return c(f,S(p._payload),y)}if(Qn(p)||Vn(p))return p=Gt(p,f.mode,y,null),p.return=f,p;Ar(f,p)}return null}function m(f,p,y,S){var C=p!==null?p.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return C!==null?null:i(f,p,""+y,S);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Tr:return y.key===C?a(f,p,y,S):null;case an:return y.key===C?u(f,p,y,S):null;case kt:return C=y._init,m(f,p,C(y._payload),S)}if(Qn(y)||Vn(y))return C!==null?null:d(f,p,y,S,null);Ar(f,y)}return null}function x(f,p,y,S,C){if(typeof S=="string"&&S!==""||typeof S=="number")return f=f.get(y)||null,i(p,f,""+S,C);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Tr:return f=f.get(S.key===null?y:S.key)||null,a(p,f,S,C);case an:return f=f.get(S.key===null?y:S.key)||null,u(p,f,S,C);case kt:var M=S._init;return x(f,p,y,M(S._payload),C)}if(Qn(S)||Vn(S))return f=f.get(y)||null,d(p,f,S,C,null);Ar(p,S)}return null}function g(f,p,y,S){for(var C=null,M=null,j=p,E=p=0,z=null;j!==null&&E<y.length;E++){j.index>E?(z=j,j=null):z=j.sibling;var w=m(f,j,y[E],S);if(w===null){j===null&&(j=z);break}t&&j&&w.alternate===null&&e(f,j),p=o(w,p,E),M===null?C=w:M.sibling=w,M=w,j=z}if(E===y.length)return n(f,j),te&&At(f,E),C;if(j===null){for(;E<y.length;E++)j=c(f,y[E],S),j!==null&&(p=o(j,p,E),M===null?C=j:M.sibling=j,M=j);return te&&At(f,E),C}for(j=r(f,j);E<y.length;E++)z=x(j,f,E,y[E],S),z!==null&&(t&&z.alternate!==null&&j.delete(z.key===null?E:z.key),p=o(z,p,E),M===null?C=z:M.sibling=z,M=z);return t&&j.forEach(function(_){return e(f,_)}),te&&At(f,E),C}function v(f,p,y,S){var C=Vn(y);if(typeof C!="function")throw Error(P(150));if(y=C.call(y),y==null)throw Error(P(151));for(var M=C=null,j=p,E=p=0,z=null,w=y.next();j!==null&&!w.done;E++,w=y.next()){j.index>E?(z=j,j=null):z=j.sibling;var _=m(f,j,w.value,S);if(_===null){j===null&&(j=z);break}t&&j&&_.alternate===null&&e(f,j),p=o(_,p,E),M===null?C=_:M.sibling=_,M=_,j=z}if(w.done)return n(f,j),te&&At(f,E),C;if(j===null){for(;!w.done;E++,w=y.next())w=c(f,w.value,S),w!==null&&(p=o(w,p,E),M===null?C=w:M.sibling=w,M=w);return te&&At(f,E),C}for(j=r(f,j);!w.done;E++,w=y.next())w=x(j,f,E,w.value,S),w!==null&&(t&&w.alternate!==null&&j.delete(w.key===null?E:w.key),p=o(w,p,E),M===null?C=w:M.sibling=w,M=w);return t&&j.forEach(function(R){return e(f,R)}),te&&At(f,E),C}function N(f,p,y,S){if(typeof y=="object"&&y!==null&&y.type===un&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case Tr:e:{for(var C=y.key,M=p;M!==null;){if(M.key===C){if(C=y.type,C===un){if(M.tag===7){n(f,M.sibling),p=s(M,y.props.children),p.return=f,f=p;break e}}else if(M.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===kt&&ia(C)===M.type){n(f,M.sibling),p=s(M,y.props),p.ref=Bn(f,M,y),p.return=f,f=p;break e}n(f,M);break}else e(f,M);M=M.sibling}y.type===un?(p=Gt(y.props.children,f.mode,S,y.key),p.return=f,f=p):(S=is(y.type,y.key,y.props,null,f.mode,S),S.ref=Bn(f,p,y),S.return=f,f=S)}return l(f);case an:e:{for(M=y.key;p!==null;){if(p.key===M)if(p.tag===4&&p.stateNode.containerInfo===y.containerInfo&&p.stateNode.implementation===y.implementation){n(f,p.sibling),p=s(p,y.children||[]),p.return=f,f=p;break e}else{n(f,p);break}else e(f,p);p=p.sibling}p=Po(y,f.mode,S),p.return=f,f=p}return l(f);case kt:return M=y._init,N(f,p,M(y._payload),S)}if(Qn(y))return g(f,p,y,S);if(Vn(y))return v(f,p,y,S);Ar(f,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,p!==null&&p.tag===6?(n(f,p.sibling),p=s(p,y),p.return=f,f=p):(n(f,p),p=_o(y,f.mode,S),p.return=f,f=p),l(f)):n(f,p)}return N}var Pn=tc(!0),nc=tc(!1),js=$t(null),Ns=null,yn=null,Yl=null;function Kl(){Yl=yn=Ns=null}function Xl(t){var e=js.current;H(js),t._currentValue=e}function ol(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Nn(t,e){Ns=t,Yl=yn=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Pe=!0),t.firstContext=null)}function Qe(t){var e=t._currentValue;if(Yl!==t)if(t={context:t,memoizedValue:e,next:null},yn===null){if(Ns===null)throw Error(P(308));yn=t,Ns.dependencies={lanes:0,firstContext:t}}else yn=yn.next=t;return e}var qt=null;function Zl(t){qt===null?qt=[t]:qt.push(t)}function rc(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Zl(e)):(n.next=s.next,s.next=n),e.interleaved=n,gt(t,r)}function gt(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var jt=!1;function Jl(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function sc(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ht(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function zt(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Q&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,gt(t,n)}return s=r.interleaved,s===null?(e.next=e,Zl(r)):(e.next=s.next,s.next=e),r.interleaved=e,gt(t,n)}function ts(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Vl(t,n)}}function aa(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var l={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?s=o=l:o=o.next=l,n=n.next}while(n!==null);o===null?s=o=e:o=o.next=e}else s=o=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Es(t,e,n,r){var s=t.updateQueue;jt=!1;var o=s.firstBaseUpdate,l=s.lastBaseUpdate,i=s.shared.pending;if(i!==null){s.shared.pending=null;var a=i,u=a.next;a.next=null,l===null?o=u:l.next=u,l=a;var d=t.alternate;d!==null&&(d=d.updateQueue,i=d.lastBaseUpdate,i!==l&&(i===null?d.firstBaseUpdate=u:i.next=u,d.lastBaseUpdate=a))}if(o!==null){var c=s.baseState;l=0,d=u=a=null,i=o;do{var m=i.lane,x=i.eventTime;if((r&m)===m){d!==null&&(d=d.next={eventTime:x,lane:0,tag:i.tag,payload:i.payload,callback:i.callback,next:null});e:{var g=t,v=i;switch(m=e,x=n,v.tag){case 1:if(g=v.payload,typeof g=="function"){c=g.call(x,c,m);break e}c=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=v.payload,m=typeof g=="function"?g.call(x,c,m):g,m==null)break e;c=se({},c,m);break e;case 2:jt=!0}}i.callback!==null&&i.lane!==0&&(t.flags|=64,m=s.effects,m===null?s.effects=[i]:m.push(i))}else x={eventTime:x,lane:m,tag:i.tag,payload:i.payload,callback:i.callback,next:null},d===null?(u=d=x,a=c):d=d.next=x,l|=m;if(i=i.next,i===null){if(i=s.shared.pending,i===null)break;m=i,i=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(!0);if(d===null&&(a=c),s.baseState=a,s.firstBaseUpdate=u,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do l|=s.lane,s=s.next;while(s!==e)}else o===null&&(s.shared.lanes=0);Ht|=l,t.lanes=l,t.memoizedState=c}}function ua(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(P(191,s));s.call(r)}}}var Mr={},it=$t(Mr),mr=$t(Mr),gr=$t(Mr);function Wt(t){if(t===Mr)throw Error(P(174));return t}function Hl(t,e){switch(X(gr,e),X(mr,t),X(it,Mr),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:$o(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=$o(e,t)}H(it),X(it,e)}function Tn(){H(it),H(mr),H(gr)}function oc(t){Wt(gr.current);var e=Wt(it.current),n=$o(e,t.type);e!==n&&(X(mr,t),X(it,n))}function ei(t){mr.current===t&&(H(it),H(mr))}var ne=$t(0);function Cs(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var ko=[];function ti(){for(var t=0;t<ko.length;t++)ko[t]._workInProgressVersionPrimary=null;ko.length=0}var ns=wt.ReactCurrentDispatcher,jo=wt.ReactCurrentBatchConfig,Jt=0,re=null,ce=null,de=null,Ms=!1,er=!1,yr=0,kh=0;function we(){throw Error(P(321))}function ni(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!tt(t[n],e[n]))return!1;return!0}function ri(t,e,n,r,s,o){if(Jt=o,re=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ns.current=t===null||t.memoizedState===null?Ch:Mh,t=n(r,s),er){o=0;do{if(er=!1,yr=0,25<=o)throw Error(P(301));o+=1,de=ce=null,e.updateQueue=null,ns.current=_h,t=n(r,s)}while(er)}if(ns.current=_s,e=ce!==null&&ce.next!==null,Jt=0,de=ce=re=null,Ms=!1,e)throw Error(P(300));return t}function si(){var t=yr!==0;return yr=0,t}function st(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return de===null?re.memoizedState=de=t:de=de.next=t,de}function Ge(){if(ce===null){var t=re.alternate;t=t!==null?t.memoizedState:null}else t=ce.next;var e=de===null?re.memoizedState:de.next;if(e!==null)de=e,ce=t;else{if(t===null)throw Error(P(310));ce=t,t={memoizedState:ce.memoizedState,baseState:ce.baseState,baseQueue:ce.baseQueue,queue:ce.queue,next:null},de===null?re.memoizedState=de=t:de=de.next=t}return de}function wr(t,e){return typeof e=="function"?e(t):e}function No(t){var e=Ge(),n=e.queue;if(n===null)throw Error(P(311));n.lastRenderedReducer=t;var r=ce,s=r.baseQueue,o=n.pending;if(o!==null){if(s!==null){var l=s.next;s.next=o.next,o.next=l}r.baseQueue=s=o,n.pending=null}if(s!==null){o=s.next,r=r.baseState;var i=l=null,a=null,u=o;do{var d=u.lane;if((Jt&d)===d)a!==null&&(a=a.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var c={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};a===null?(i=a=c,l=r):a=a.next=c,re.lanes|=d,Ht|=d}u=u.next}while(u!==null&&u!==o);a===null?l=r:a.next=i,tt(r,e.memoizedState)||(Pe=!0),e.memoizedState=r,e.baseState=l,e.baseQueue=a,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do o=s.lane,re.lanes|=o,Ht|=o,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Eo(t){var e=Ge(),n=e.queue;if(n===null)throw Error(P(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,o=e.memoizedState;if(s!==null){n.pending=null;var l=s=s.next;do o=t(o,l.action),l=l.next;while(l!==s);tt(o,e.memoizedState)||(Pe=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function lc(){}function ic(t,e){var n=re,r=Ge(),s=e(),o=!tt(r.memoizedState,s);if(o&&(r.memoizedState=s,Pe=!0),r=r.queue,oi(cc.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||de!==null&&de.memoizedState.tag&1){if(n.flags|=2048,vr(9,uc.bind(null,n,r,s,e),void 0,null),he===null)throw Error(P(349));Jt&30||ac(n,e,s)}return s}function ac(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=re.updateQueue,e===null?(e={lastEffect:null,stores:null},re.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function uc(t,e,n,r){e.value=n,e.getSnapshot=r,fc(e)&&dc(t)}function cc(t,e,n){return n(function(){fc(e)&&dc(t)})}function fc(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!tt(t,n)}catch{return!0}}function dc(t){var e=gt(t,1);e!==null&&et(e,t,1,-1)}function ca(t){var e=st();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:wr,lastRenderedState:t},e.queue=t,t=t.dispatch=Eh.bind(null,re,t),[e.memoizedState,t]}function vr(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=re.updateQueue,e===null?(e={lastEffect:null,stores:null},re.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function hc(){return Ge().memoizedState}function rs(t,e,n,r){var s=st();re.flags|=t,s.memoizedState=vr(1|e,n,void 0,r===void 0?null:r)}function Bs(t,e,n,r){var s=Ge();r=r===void 0?null:r;var o=void 0;if(ce!==null){var l=ce.memoizedState;if(o=l.destroy,r!==null&&ni(r,l.deps)){s.memoizedState=vr(e,n,o,r);return}}re.flags|=t,s.memoizedState=vr(1|e,n,o,r)}function fa(t,e){return rs(8390656,8,t,e)}function oi(t,e){return Bs(2048,8,t,e)}function pc(t,e){return Bs(4,2,t,e)}function mc(t,e){return Bs(4,4,t,e)}function gc(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function yc(t,e,n){return n=n!=null?n.concat([t]):null,Bs(4,4,gc.bind(null,e,t),n)}function li(){}function wc(t,e){var n=Ge();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&ni(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function vc(t,e){var n=Ge();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&ni(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function xc(t,e,n){return Jt&21?(tt(n,e)||(n=Eu(),re.lanes|=n,Ht|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Pe=!0),t.memoizedState=n)}function jh(t,e){var n=Y;Y=n!==0&&4>n?n:4,t(!0);var r=jo.transition;jo.transition={};try{t(!1),e()}finally{Y=n,jo.transition=r}}function Sc(){return Ge().memoizedState}function Nh(t,e,n){var r=Lt(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},kc(t))jc(e,n);else if(n=rc(t,e,n,r),n!==null){var s=Ne();et(n,t,r,s),Nc(n,e,r)}}function Eh(t,e,n){var r=Lt(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(kc(t))jc(e,s);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var l=e.lastRenderedState,i=o(l,n);if(s.hasEagerState=!0,s.eagerState=i,tt(i,l)){var a=e.interleaved;a===null?(s.next=s,Zl(e)):(s.next=a.next,a.next=s),e.interleaved=s;return}}catch{}finally{}n=rc(t,e,s,r),n!==null&&(s=Ne(),et(n,t,r,s),Nc(n,e,r))}}function kc(t){var e=t.alternate;return t===re||e!==null&&e===re}function jc(t,e){er=Ms=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Nc(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Vl(t,n)}}var _s={readContext:Qe,useCallback:we,useContext:we,useEffect:we,useImperativeHandle:we,useInsertionEffect:we,useLayoutEffect:we,useMemo:we,useReducer:we,useRef:we,useState:we,useDebugValue:we,useDeferredValue:we,useTransition:we,useMutableSource:we,useSyncExternalStore:we,useId:we,unstable_isNewReconciler:!1},Ch={readContext:Qe,useCallback:function(t,e){return st().memoizedState=[t,e===void 0?null:e],t},useContext:Qe,useEffect:fa,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,rs(4194308,4,gc.bind(null,e,t),n)},useLayoutEffect:function(t,e){return rs(4194308,4,t,e)},useInsertionEffect:function(t,e){return rs(4,2,t,e)},useMemo:function(t,e){var n=st();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=st();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=Nh.bind(null,re,t),[r.memoizedState,t]},useRef:function(t){var e=st();return t={current:t},e.memoizedState=t},useState:ca,useDebugValue:li,useDeferredValue:function(t){return st().memoizedState=t},useTransition:function(){var t=ca(!1),e=t[0];return t=jh.bind(null,t[1]),st().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=re,s=st();if(te){if(n===void 0)throw Error(P(407));n=n()}else{if(n=e(),he===null)throw Error(P(349));Jt&30||ac(r,e,n)}s.memoizedState=n;var o={value:n,getSnapshot:e};return s.queue=o,fa(cc.bind(null,r,o,t),[t]),r.flags|=2048,vr(9,uc.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=st(),e=he.identifierPrefix;if(te){var n=dt,r=ft;n=(r&~(1<<32-He(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=yr++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=kh++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Mh={readContext:Qe,useCallback:wc,useContext:Qe,useEffect:oi,useImperativeHandle:yc,useInsertionEffect:pc,useLayoutEffect:mc,useMemo:vc,useReducer:No,useRef:hc,useState:function(){return No(wr)},useDebugValue:li,useDeferredValue:function(t){var e=Ge();return xc(e,ce.memoizedState,t)},useTransition:function(){var t=No(wr)[0],e=Ge().memoizedState;return[t,e]},useMutableSource:lc,useSyncExternalStore:ic,useId:Sc,unstable_isNewReconciler:!1},_h={readContext:Qe,useCallback:wc,useContext:Qe,useEffect:oi,useImperativeHandle:yc,useInsertionEffect:pc,useLayoutEffect:mc,useMemo:vc,useReducer:Eo,useRef:hc,useState:function(){return Eo(wr)},useDebugValue:li,useDeferredValue:function(t){var e=Ge();return ce===null?e.memoizedState=t:xc(e,ce.memoizedState,t)},useTransition:function(){var t=Eo(wr)[0],e=Ge().memoizedState;return[t,e]},useMutableSource:lc,useSyncExternalStore:ic,useId:Sc,unstable_isNewReconciler:!1};function Xe(t,e){if(t&&t.defaultProps){e=se({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function ll(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:se({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var bs={isMounted:function(t){return(t=t._reactInternals)?nn(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Ne(),s=Lt(t),o=ht(r,s);o.payload=e,n!=null&&(o.callback=n),e=zt(t,o,s),e!==null&&(et(e,t,s,r),ts(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Ne(),s=Lt(t),o=ht(r,s);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=zt(t,o,s),e!==null&&(et(e,t,s,r),ts(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Ne(),r=Lt(t),s=ht(n,r);s.tag=2,e!=null&&(s.callback=e),e=zt(t,s,r),e!==null&&(et(e,t,r,n),ts(e,t,r))}};function da(t,e,n,r,s,o,l){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,l):e.prototype&&e.prototype.isPureReactComponent?!fr(n,r)||!fr(s,o):!0}function Ec(t,e,n){var r=!1,s=Vt,o=e.contextType;return typeof o=="object"&&o!==null?o=Qe(o):(s=Re(e)?Xt:ke.current,r=e.contextTypes,o=(r=r!=null)?Mn(t,s):Vt),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=bs,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=o),e}function ha(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&bs.enqueueReplaceState(e,e.state,null)}function il(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},Jl(t);var o=e.contextType;typeof o=="object"&&o!==null?s.context=Qe(o):(o=Re(e)?Xt:ke.current,s.context=Mn(t,o)),s.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(ll(t,e,o,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&bs.enqueueReplaceState(s,s.state,null),Es(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Rn(t,e){try{var n="",r=e;do n+=nd(r),r=r.return;while(r);var s=n}catch(o){s=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:s,digest:null}}function Co(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function al(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Ph=typeof WeakMap=="function"?WeakMap:Map;function Cc(t,e,n){n=ht(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Ts||(Ts=!0,wl=r),al(t,e)},n}function Mc(t,e,n){n=ht(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){al(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){al(t,e),typeof r!="function"&&(Dt===null?Dt=new Set([this]):Dt.add(this));var l=e.stack;this.componentDidCatch(e.value,{componentStack:l!==null?l:""})}),n}function pa(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Ph;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=bh.bind(null,t,e,n),e.then(t,t))}function ma(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function ga(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=ht(-1,1),e.tag=2,zt(n,e,1))),n.lanes|=1),t)}var Th=wt.ReactCurrentOwner,Pe=!1;function je(t,e,n,r){e.child=t===null?nc(e,null,n,r):Pn(e,t.child,n,r)}function ya(t,e,n,r,s){n=n.render;var o=e.ref;return Nn(e,s),r=ri(t,e,n,r,o,s),n=si(),t!==null&&!Pe?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,yt(t,e,s)):(te&&n&&Wl(e),e.flags|=1,je(t,e,r,s),e.child)}function wa(t,e,n,r,s){if(t===null){var o=n.type;return typeof o=="function"&&!pi(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,_c(t,e,o,r,s)):(t=is(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&s)){var l=o.memoizedProps;if(n=n.compare,n=n!==null?n:fr,n(l,r)&&t.ref===e.ref)return yt(t,e,s)}return e.flags|=1,t=Ft(o,r),t.ref=e.ref,t.return=e,e.child=t}function _c(t,e,n,r,s){if(t!==null){var o=t.memoizedProps;if(fr(o,r)&&t.ref===e.ref)if(Pe=!1,e.pendingProps=r=o,(t.lanes&s)!==0)t.flags&131072&&(Pe=!0);else return e.lanes=t.lanes,yt(t,e,s)}return ul(t,e,n,r,s)}function Pc(t,e,n){var r=e.pendingProps,s=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},X(vn,De),De|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,X(vn,De),De|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,X(vn,De),De|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,X(vn,De),De|=r;return je(t,e,s,n),e.child}function Tc(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function ul(t,e,n,r,s){var o=Re(n)?Xt:ke.current;return o=Mn(e,o),Nn(e,s),n=ri(t,e,n,r,o,s),r=si(),t!==null&&!Pe?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,yt(t,e,s)):(te&&r&&Wl(e),e.flags|=1,je(t,e,n,s),e.child)}function va(t,e,n,r,s){if(Re(n)){var o=!0;xs(e)}else o=!1;if(Nn(e,s),e.stateNode===null)ss(t,e),Ec(e,n,r),il(e,n,r,s),r=!0;else if(t===null){var l=e.stateNode,i=e.memoizedProps;l.props=i;var a=l.context,u=n.contextType;typeof u=="object"&&u!==null?u=Qe(u):(u=Re(n)?Xt:ke.current,u=Mn(e,u));var d=n.getDerivedStateFromProps,c=typeof d=="function"||typeof l.getSnapshotBeforeUpdate=="function";c||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(i!==r||a!==u)&&ha(e,l,r,u),jt=!1;var m=e.memoizedState;l.state=m,Es(e,r,l,s),a=e.memoizedState,i!==r||m!==a||Te.current||jt?(typeof d=="function"&&(ll(e,n,d,r),a=e.memoizedState),(i=jt||da(e,n,i,r,m,a,u))?(c||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(e.flags|=4194308)):(typeof l.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=a),l.props=r,l.state=a,l.context=u,r=i):(typeof l.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{l=e.stateNode,sc(t,e),i=e.memoizedProps,u=e.type===e.elementType?i:Xe(e.type,i),l.props=u,c=e.pendingProps,m=l.context,a=n.contextType,typeof a=="object"&&a!==null?a=Qe(a):(a=Re(n)?Xt:ke.current,a=Mn(e,a));var x=n.getDerivedStateFromProps;(d=typeof x=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(i!==c||m!==a)&&ha(e,l,r,a),jt=!1,m=e.memoizedState,l.state=m,Es(e,r,l,s);var g=e.memoizedState;i!==c||m!==g||Te.current||jt?(typeof x=="function"&&(ll(e,n,x,r),g=e.memoizedState),(u=jt||da(e,n,u,r,m,g,a)||!1)?(d||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(r,g,a),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(r,g,a)),typeof l.componentDidUpdate=="function"&&(e.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof l.componentDidUpdate!="function"||i===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||i===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=g),l.props=r,l.state=g,l.context=a,r=u):(typeof l.componentDidUpdate!="function"||i===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||i===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),r=!1)}return cl(t,e,n,r,o,s)}function cl(t,e,n,r,s,o){Tc(t,e);var l=(e.flags&128)!==0;if(!r&&!l)return s&&sa(e,n,!1),yt(t,e,o);r=e.stateNode,Th.current=e;var i=l&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&l?(e.child=Pn(e,t.child,null,o),e.child=Pn(e,null,i,o)):je(t,e,i,o),e.memoizedState=r.state,s&&sa(e,n,!0),e.child}function Rc(t){var e=t.stateNode;e.pendingContext?ra(t,e.pendingContext,e.pendingContext!==e.context):e.context&&ra(t,e.context,!1),Hl(t,e.containerInfo)}function xa(t,e,n,r,s){return _n(),Gl(s),e.flags|=256,je(t,e,n,r),e.child}var fl={dehydrated:null,treeContext:null,retryLane:0};function dl(t){return{baseLanes:t,cachePool:null,transitions:null}}function zc(t,e,n){var r=e.pendingProps,s=ne.current,o=!1,l=(e.flags&128)!==0,i;if((i=l)||(i=t!==null&&t.memoizedState===null?!1:(s&2)!==0),i?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),X(ne,s&1),t===null)return sl(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(l=r.children,t=r.fallback,o?(r=e.mode,o=e.child,l={mode:"hidden",children:l},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=l):o=Qs(l,r,0,null),t=Gt(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=dl(n),e.memoizedState=fl,t):ii(e,l));if(s=t.memoizedState,s!==null&&(i=s.dehydrated,i!==null))return Rh(t,e,l,r,i,s,n);if(o){o=r.fallback,l=e.mode,s=t.child,i=s.sibling;var a={mode:"hidden",children:r.children};return!(l&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=a,e.deletions=null):(r=Ft(s,a),r.subtreeFlags=s.subtreeFlags&14680064),i!==null?o=Ft(i,o):(o=Gt(o,l,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,l=t.child.memoizedState,l=l===null?dl(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=t.childLanes&~n,e.memoizedState=fl,r}return o=t.child,t=o.sibling,r=Ft(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function ii(t,e){return e=Qs({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Br(t,e,n,r){return r!==null&&Gl(r),Pn(e,t.child,null,n),t=ii(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Rh(t,e,n,r,s,o,l){if(n)return e.flags&256?(e.flags&=-257,r=Co(Error(P(422))),Br(t,e,l,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,s=e.mode,r=Qs({mode:"visible",children:r.children},s,0,null),o=Gt(o,s,l,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&Pn(e,t.child,null,l),e.child.memoizedState=dl(l),e.memoizedState=fl,o);if(!(e.mode&1))return Br(t,e,l,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var i=r.dgst;return r=i,o=Error(P(419)),r=Co(o,r,void 0),Br(t,e,l,r)}if(i=(l&t.childLanes)!==0,Pe||i){if(r=he,r!==null){switch(l&-l){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|l)?0:s,s!==0&&s!==o.retryLane&&(o.retryLane=s,gt(t,s),et(r,t,s,-1))}return hi(),r=Co(Error(P(421))),Br(t,e,l,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=qh.bind(null,t),s._reactRetry=e,null):(t=o.treeContext,Le=Rt(s.nextSibling),Fe=e,te=!0,Je=null,t!==null&&(Be[be++]=ft,Be[be++]=dt,Be[be++]=Zt,ft=t.id,dt=t.overflow,Zt=e),e=ii(e,r.children),e.flags|=4096,e)}function Sa(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),ol(t.return,e,n)}function Mo(t,e,n,r,s){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=s)}function Dc(t,e,n){var r=e.pendingProps,s=r.revealOrder,o=r.tail;if(je(t,e,r.children,n),r=ne.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Sa(t,n,e);else if(t.tag===19)Sa(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(X(ne,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Cs(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Mo(e,!1,s,n,o);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Cs(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Mo(e,!0,n,null,o);break;case"together":Mo(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function ss(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function yt(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ht|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(P(153));if(e.child!==null){for(t=e.child,n=Ft(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ft(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function zh(t,e,n){switch(e.tag){case 3:Rc(e),_n();break;case 5:oc(e);break;case 1:Re(e.type)&&xs(e);break;case 4:Hl(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;X(js,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(X(ne,ne.current&1),e.flags|=128,null):n&e.child.childLanes?zc(t,e,n):(X(ne,ne.current&1),t=yt(t,e,n),t!==null?t.sibling:null);X(ne,ne.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Dc(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),X(ne,ne.current),r)break;return null;case 22:case 23:return e.lanes=0,Pc(t,e,n)}return yt(t,e,n)}var Lc,hl,Fc,Ic;Lc=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};hl=function(){};Fc=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Wt(it.current);var o=null;switch(n){case"input":s=Fo(t,s),r=Fo(t,r),o=[];break;case"select":s=se({},s,{value:void 0}),r=se({},r,{value:void 0}),o=[];break;case"textarea":s=Uo(t,s),r=Uo(t,r),o=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=ws)}Oo(n,r);var l;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var i=s[u];for(l in i)i.hasOwnProperty(l)&&(n||(n={}),n[l]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(sr.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var a=r[u];if(i=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&a!==i&&(a!=null||i!=null))if(u==="style")if(i){for(l in i)!i.hasOwnProperty(l)||a&&a.hasOwnProperty(l)||(n||(n={}),n[l]="");for(l in a)a.hasOwnProperty(l)&&i[l]!==a[l]&&(n||(n={}),n[l]=a[l])}else n||(o||(o=[]),o.push(u,n)),n=a;else u==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,i=i?i.__html:void 0,a!=null&&i!==a&&(o=o||[]).push(u,a)):u==="children"?typeof a!="string"&&typeof a!="number"||(o=o||[]).push(u,""+a):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(sr.hasOwnProperty(u)?(a!=null&&u==="onScroll"&&J("scroll",t),o||i===a||(o=[])):(o=o||[]).push(u,a))}n&&(o=o||[]).push("style",n);var u=o;(e.updateQueue=u)&&(e.flags|=4)}};Ic=function(t,e,n,r){n!==r&&(e.flags|=4)};function bn(t,e){if(!te)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function ve(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Dh(t,e,n){var r=e.pendingProps;switch(Ql(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ve(e),null;case 1:return Re(e.type)&&vs(),ve(e),null;case 3:return r=e.stateNode,Tn(),H(Te),H(ke),ti(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Or(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Je!==null&&(Sl(Je),Je=null))),hl(t,e),ve(e),null;case 5:ei(e);var s=Wt(gr.current);if(n=e.type,t!==null&&e.stateNode!=null)Fc(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(P(166));return ve(e),null}if(t=Wt(it.current),Or(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[ot]=e,r[pr]=o,t=(e.mode&1)!==0,n){case"dialog":J("cancel",r),J("close",r);break;case"iframe":case"object":case"embed":J("load",r);break;case"video":case"audio":for(s=0;s<Yn.length;s++)J(Yn[s],r);break;case"source":J("error",r);break;case"img":case"image":case"link":J("error",r),J("load",r);break;case"details":J("toggle",r);break;case"input":Ti(r,o),J("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},J("invalid",r);break;case"textarea":zi(r,o),J("invalid",r)}Oo(n,o),s=null;for(var l in o)if(o.hasOwnProperty(l)){var i=o[l];l==="children"?typeof i=="string"?r.textContent!==i&&(o.suppressHydrationWarning!==!0&&$r(r.textContent,i,t),s=["children",i]):typeof i=="number"&&r.textContent!==""+i&&(o.suppressHydrationWarning!==!0&&$r(r.textContent,i,t),s=["children",""+i]):sr.hasOwnProperty(l)&&i!=null&&l==="onScroll"&&J("scroll",r)}switch(n){case"input":Rr(r),Ri(r,o,!0);break;case"textarea":Rr(r),Di(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=ws)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{l=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=cu(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=l.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=l.createElement(n,{is:r.is}):(t=l.createElement(n),n==="select"&&(l=t,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):t=l.createElementNS(t,n),t[ot]=e,t[pr]=r,Lc(t,e,!1,!1),e.stateNode=t;e:{switch(l=Ao(n,r),n){case"dialog":J("cancel",t),J("close",t),s=r;break;case"iframe":case"object":case"embed":J("load",t),s=r;break;case"video":case"audio":for(s=0;s<Yn.length;s++)J(Yn[s],t);s=r;break;case"source":J("error",t),s=r;break;case"img":case"image":case"link":J("error",t),J("load",t),s=r;break;case"details":J("toggle",t),s=r;break;case"input":Ti(t,r),s=Fo(t,r),J("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=se({},r,{value:void 0}),J("invalid",t);break;case"textarea":zi(t,r),s=Uo(t,r),J("invalid",t);break;default:s=r}Oo(n,s),i=s;for(o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="style"?hu(t,a):o==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&fu(t,a)):o==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&or(t,a):typeof a=="number"&&or(t,""+a):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(sr.hasOwnProperty(o)?a!=null&&o==="onScroll"&&J("scroll",t):a!=null&&Rl(t,o,a,l))}switch(n){case"input":Rr(t),Ri(t,r,!1);break;case"textarea":Rr(t),Di(t);break;case"option":r.value!=null&&t.setAttribute("value",""+It(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?xn(t,!!r.multiple,o,!1):r.defaultValue!=null&&xn(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=ws)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ve(e),null;case 6:if(t&&e.stateNode!=null)Ic(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(P(166));if(n=Wt(gr.current),Wt(it.current),Or(e)){if(r=e.stateNode,n=e.memoizedProps,r[ot]=e,(o=r.nodeValue!==n)&&(t=Fe,t!==null))switch(t.tag){case 3:$r(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&$r(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ot]=e,e.stateNode=r}return ve(e),null;case 13:if(H(ne),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(te&&Le!==null&&e.mode&1&&!(e.flags&128))ec(),_n(),e.flags|=98560,o=!1;else if(o=Or(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(P(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(P(317));o[ot]=e}else _n(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ve(e),o=!1}else Je!==null&&(Sl(Je),Je=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||ne.current&1?fe===0&&(fe=3):hi())),e.updateQueue!==null&&(e.flags|=4),ve(e),null);case 4:return Tn(),hl(t,e),t===null&&dr(e.stateNode.containerInfo),ve(e),null;case 10:return Xl(e.type._context),ve(e),null;case 17:return Re(e.type)&&vs(),ve(e),null;case 19:if(H(ne),o=e.memoizedState,o===null)return ve(e),null;if(r=(e.flags&128)!==0,l=o.rendering,l===null)if(r)bn(o,!1);else{if(fe!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(l=Cs(t),l!==null){for(e.flags|=128,bn(o,!1),r=l.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,l=o.alternate,l===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,t=l.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return X(ne,ne.current&1|2),e.child}t=t.sibling}o.tail!==null&&ae()>zn&&(e.flags|=128,r=!0,bn(o,!1),e.lanes=4194304)}else{if(!r)if(t=Cs(l),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),bn(o,!0),o.tail===null&&o.tailMode==="hidden"&&!l.alternate&&!te)return ve(e),null}else 2*ae()-o.renderingStartTime>zn&&n!==1073741824&&(e.flags|=128,r=!0,bn(o,!1),e.lanes=4194304);o.isBackwards?(l.sibling=e.child,e.child=l):(n=o.last,n!==null?n.sibling=l:e.child=l,o.last=l)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=ae(),e.sibling=null,n=ne.current,X(ne,r?n&1|2:n&1),e):(ve(e),null);case 22:case 23:return di(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?De&1073741824&&(ve(e),e.subtreeFlags&6&&(e.flags|=8192)):ve(e),null;case 24:return null;case 25:return null}throw Error(P(156,e.tag))}function Lh(t,e){switch(Ql(e),e.tag){case 1:return Re(e.type)&&vs(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Tn(),H(Te),H(ke),ti(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return ei(e),null;case 13:if(H(ne),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(P(340));_n()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return H(ne),null;case 4:return Tn(),null;case 10:return Xl(e.type._context),null;case 22:case 23:return di(),null;case 24:return null;default:return null}}var br=!1,Se=!1,Fh=typeof WeakSet=="function"?WeakSet:Set,I=null;function wn(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){le(t,e,r)}else n.current=null}function pl(t,e,n){try{n()}catch(r){le(t,e,r)}}var ka=!1;function Ih(t,e){if(Zo=ms,t=Au(),ql(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var l=0,i=-1,a=-1,u=0,d=0,c=t,m=null;t:for(;;){for(var x;c!==n||s!==0&&c.nodeType!==3||(i=l+s),c!==o||r!==0&&c.nodeType!==3||(a=l+r),c.nodeType===3&&(l+=c.nodeValue.length),(x=c.firstChild)!==null;)m=c,c=x;for(;;){if(c===t)break t;if(m===n&&++u===s&&(i=l),m===o&&++d===r&&(a=l),(x=c.nextSibling)!==null)break;c=m,m=c.parentNode}c=x}n=i===-1||a===-1?null:{start:i,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(Jo={focusedElem:t,selectionRange:n},ms=!1,I=e;I!==null;)if(e=I,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,I=t;else for(;I!==null;){e=I;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var v=g.memoizedProps,N=g.memoizedState,f=e.stateNode,p=f.getSnapshotBeforeUpdate(e.elementType===e.type?v:Xe(e.type,v),N);f.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var y=e.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(P(163))}}catch(S){le(e,e.return,S)}if(t=e.sibling,t!==null){t.return=e.return,I=t;break}I=e.return}return g=ka,ka=!1,g}function tr(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var o=s.destroy;s.destroy=void 0,o!==void 0&&pl(e,n,o)}s=s.next}while(s!==r)}}function qs(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function ml(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Vc(t){var e=t.alternate;e!==null&&(t.alternate=null,Vc(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ot],delete e[pr],delete e[tl],delete e[wh],delete e[vh])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Uc(t){return t.tag===5||t.tag===3||t.tag===4}function ja(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Uc(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function gl(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=ws));else if(r!==4&&(t=t.child,t!==null))for(gl(t,e,n),t=t.sibling;t!==null;)gl(t,e,n),t=t.sibling}function yl(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(yl(t,e,n),t=t.sibling;t!==null;)yl(t,e,n),t=t.sibling}var me=null,Ze=!1;function xt(t,e,n){for(n=n.child;n!==null;)$c(t,e,n),n=n.sibling}function $c(t,e,n){if(lt&&typeof lt.onCommitFiberUnmount=="function")try{lt.onCommitFiberUnmount(Is,n)}catch{}switch(n.tag){case 5:Se||wn(n,e);case 6:var r=me,s=Ze;me=null,xt(t,e,n),me=r,Ze=s,me!==null&&(Ze?(t=me,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):me.removeChild(n.stateNode));break;case 18:me!==null&&(Ze?(t=me,n=n.stateNode,t.nodeType===8?xo(t.parentNode,n):t.nodeType===1&&xo(t,n),ur(t)):xo(me,n.stateNode));break;case 4:r=me,s=Ze,me=n.stateNode.containerInfo,Ze=!0,xt(t,e,n),me=r,Ze=s;break;case 0:case 11:case 14:case 15:if(!Se&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var o=s,l=o.destroy;o=o.tag,l!==void 0&&(o&2||o&4)&&pl(n,e,l),s=s.next}while(s!==r)}xt(t,e,n);break;case 1:if(!Se&&(wn(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(i){le(n,e,i)}xt(t,e,n);break;case 21:xt(t,e,n);break;case 22:n.mode&1?(Se=(r=Se)||n.memoizedState!==null,xt(t,e,n),Se=r):xt(t,e,n);break;default:xt(t,e,n)}}function Na(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Fh),e.forEach(function(r){var s=Wh.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Ke(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var o=t,l=e,i=l;e:for(;i!==null;){switch(i.tag){case 5:me=i.stateNode,Ze=!1;break e;case 3:me=i.stateNode.containerInfo,Ze=!0;break e;case 4:me=i.stateNode.containerInfo,Ze=!0;break e}i=i.return}if(me===null)throw Error(P(160));$c(o,l,s),me=null,Ze=!1;var a=s.alternate;a!==null&&(a.return=null),s.return=null}catch(u){le(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Oc(e,t),e=e.sibling}function Oc(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Ke(e,t),rt(t),r&4){try{tr(3,t,t.return),qs(3,t)}catch(v){le(t,t.return,v)}try{tr(5,t,t.return)}catch(v){le(t,t.return,v)}}break;case 1:Ke(e,t),rt(t),r&512&&n!==null&&wn(n,n.return);break;case 5:if(Ke(e,t),rt(t),r&512&&n!==null&&wn(n,n.return),t.flags&32){var s=t.stateNode;try{or(s,"")}catch(v){le(t,t.return,v)}}if(r&4&&(s=t.stateNode,s!=null)){var o=t.memoizedProps,l=n!==null?n.memoizedProps:o,i=t.type,a=t.updateQueue;if(t.updateQueue=null,a!==null)try{i==="input"&&o.type==="radio"&&o.name!=null&&au(s,o),Ao(i,l);var u=Ao(i,o);for(l=0;l<a.length;l+=2){var d=a[l],c=a[l+1];d==="style"?hu(s,c):d==="dangerouslySetInnerHTML"?fu(s,c):d==="children"?or(s,c):Rl(s,d,c,u)}switch(i){case"input":Io(s,o);break;case"textarea":uu(s,o);break;case"select":var m=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!o.multiple;var x=o.value;x!=null?xn(s,!!o.multiple,x,!1):m!==!!o.multiple&&(o.defaultValue!=null?xn(s,!!o.multiple,o.defaultValue,!0):xn(s,!!o.multiple,o.multiple?[]:"",!1))}s[pr]=o}catch(v){le(t,t.return,v)}}break;case 6:if(Ke(e,t),rt(t),r&4){if(t.stateNode===null)throw Error(P(162));s=t.stateNode,o=t.memoizedProps;try{s.nodeValue=o}catch(v){le(t,t.return,v)}}break;case 3:if(Ke(e,t),rt(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ur(e.containerInfo)}catch(v){le(t,t.return,v)}break;case 4:Ke(e,t),rt(t);break;case 13:Ke(e,t),rt(t),s=t.child,s.flags&8192&&(o=s.memoizedState!==null,s.stateNode.isHidden=o,!o||s.alternate!==null&&s.alternate.memoizedState!==null||(ci=ae())),r&4&&Na(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(Se=(u=Se)||d,Ke(e,t),Se=u):Ke(e,t),rt(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(I=t,d=t.child;d!==null;){for(c=I=d;I!==null;){switch(m=I,x=m.child,m.tag){case 0:case 11:case 14:case 15:tr(4,m,m.return);break;case 1:wn(m,m.return);var g=m.stateNode;if(typeof g.componentWillUnmount=="function"){r=m,n=m.return;try{e=r,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(v){le(r,n,v)}}break;case 5:wn(m,m.return);break;case 22:if(m.memoizedState!==null){Ca(c);continue}}x!==null?(x.return=m,I=x):Ca(c)}d=d.sibling}e:for(d=null,c=t;;){if(c.tag===5){if(d===null){d=c;try{s=c.stateNode,u?(o=s.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(i=c.stateNode,a=c.memoizedProps.style,l=a!=null&&a.hasOwnProperty("display")?a.display:null,i.style.display=du("display",l))}catch(v){le(t,t.return,v)}}}else if(c.tag===6){if(d===null)try{c.stateNode.nodeValue=u?"":c.memoizedProps}catch(v){le(t,t.return,v)}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===t)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===t)break e;for(;c.sibling===null;){if(c.return===null||c.return===t)break e;d===c&&(d=null),c=c.return}d===c&&(d=null),c.sibling.return=c.return,c=c.sibling}}break;case 19:Ke(e,t),rt(t),r&4&&Na(t);break;case 21:break;default:Ke(e,t),rt(t)}}function rt(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Uc(n)){var r=n;break e}n=n.return}throw Error(P(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(or(s,""),r.flags&=-33);var o=ja(t);yl(t,o,s);break;case 3:case 4:var l=r.stateNode.containerInfo,i=ja(t);gl(t,i,l);break;default:throw Error(P(161))}}catch(a){le(t,t.return,a)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Vh(t,e,n){I=t,Ac(t)}function Ac(t,e,n){for(var r=(t.mode&1)!==0;I!==null;){var s=I,o=s.child;if(s.tag===22&&r){var l=s.memoizedState!==null||br;if(!l){var i=s.alternate,a=i!==null&&i.memoizedState!==null||Se;i=br;var u=Se;if(br=l,(Se=a)&&!u)for(I=s;I!==null;)l=I,a=l.child,l.tag===22&&l.memoizedState!==null?Ma(s):a!==null?(a.return=l,I=a):Ma(s);for(;o!==null;)I=o,Ac(o),o=o.sibling;I=s,br=i,Se=u}Ea(t)}else s.subtreeFlags&8772&&o!==null?(o.return=s,I=o):Ea(t)}}function Ea(t){for(;I!==null;){var e=I;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Se||qs(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Se)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Xe(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&ua(e,o,r);break;case 3:var l=e.updateQueue;if(l!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}ua(e,l,n)}break;case 5:var i=e.stateNode;if(n===null&&e.flags&4){n=i;var a=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var c=d.dehydrated;c!==null&&ur(c)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(P(163))}Se||e.flags&512&&ml(e)}catch(m){le(e,e.return,m)}}if(e===t){I=null;break}if(n=e.sibling,n!==null){n.return=e.return,I=n;break}I=e.return}}function Ca(t){for(;I!==null;){var e=I;if(e===t){I=null;break}var n=e.sibling;if(n!==null){n.return=e.return,I=n;break}I=e.return}}function Ma(t){for(;I!==null;){var e=I;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{qs(4,e)}catch(a){le(e,n,a)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(a){le(e,s,a)}}var o=e.return;try{ml(e)}catch(a){le(e,o,a)}break;case 5:var l=e.return;try{ml(e)}catch(a){le(e,l,a)}}}catch(a){le(e,e.return,a)}if(e===t){I=null;break}var i=e.sibling;if(i!==null){i.return=e.return,I=i;break}I=e.return}}var Uh=Math.ceil,Ps=wt.ReactCurrentDispatcher,ai=wt.ReactCurrentOwner,We=wt.ReactCurrentBatchConfig,Q=0,he=null,ue=null,ge=0,De=0,vn=$t(0),fe=0,xr=null,Ht=0,Ws=0,ui=0,nr=null,Me=null,ci=0,zn=1/0,at=null,Ts=!1,wl=null,Dt=null,qr=!1,Mt=null,Rs=0,rr=0,vl=null,os=-1,ls=0;function Ne(){return Q&6?ae():os!==-1?os:os=ae()}function Lt(t){return t.mode&1?Q&2&&ge!==0?ge&-ge:Sh.transition!==null?(ls===0&&(ls=Eu()),ls):(t=Y,t!==0||(t=window.event,t=t===void 0?16:zu(t.type)),t):1}function et(t,e,n,r){if(50<rr)throw rr=0,vl=null,Error(P(185));Nr(t,n,r),(!(Q&2)||t!==he)&&(t===he&&(!(Q&2)&&(Ws|=n),fe===4&&Et(t,ge)),ze(t,r),n===1&&Q===0&&!(e.mode&1)&&(zn=ae()+500,As&&Ot()))}function ze(t,e){var n=t.callbackNode;Sd(t,e);var r=ps(t,t===he?ge:0);if(r===0)n!==null&&Ii(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Ii(n),e===1)t.tag===0?xh(_a.bind(null,t)):Zu(_a.bind(null,t)),gh(function(){!(Q&6)&&Ot()}),n=null;else{switch(Cu(r)){case 1:n=Il;break;case 4:n=ju;break;case 16:n=hs;break;case 536870912:n=Nu;break;default:n=hs}n=Kc(n,Bc.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Bc(t,e){if(os=-1,ls=0,Q&6)throw Error(P(327));var n=t.callbackNode;if(En()&&t.callbackNode!==n)return null;var r=ps(t,t===he?ge:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=zs(t,r);else{e=r;var s=Q;Q|=2;var o=qc();(he!==t||ge!==e)&&(at=null,zn=ae()+500,Qt(t,e));do try{Ah();break}catch(i){bc(t,i)}while(!0);Kl(),Ps.current=o,Q=s,ue!==null?e=0:(he=null,ge=0,e=fe)}if(e!==0){if(e===2&&(s=Qo(t),s!==0&&(r=s,e=xl(t,s))),e===1)throw n=xr,Qt(t,0),Et(t,r),ze(t,ae()),n;if(e===6)Et(t,r);else{if(s=t.current.alternate,!(r&30)&&!$h(s)&&(e=zs(t,r),e===2&&(o=Qo(t),o!==0&&(r=o,e=xl(t,o))),e===1))throw n=xr,Qt(t,0),Et(t,r),ze(t,ae()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(P(345));case 2:Bt(t,Me,at);break;case 3:if(Et(t,r),(r&130023424)===r&&(e=ci+500-ae(),10<e)){if(ps(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Ne(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=el(Bt.bind(null,t,Me,at),e);break}Bt(t,Me,at);break;case 4:if(Et(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var l=31-He(r);o=1<<l,l=e[l],l>s&&(s=l),r&=~o}if(r=s,r=ae()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Uh(r/1960))-r,10<r){t.timeoutHandle=el(Bt.bind(null,t,Me,at),r);break}Bt(t,Me,at);break;case 5:Bt(t,Me,at);break;default:throw Error(P(329))}}}return ze(t,ae()),t.callbackNode===n?Bc.bind(null,t):null}function xl(t,e){var n=nr;return t.current.memoizedState.isDehydrated&&(Qt(t,e).flags|=256),t=zs(t,e),t!==2&&(e=Me,Me=n,e!==null&&Sl(e)),t}function Sl(t){Me===null?Me=t:Me.push.apply(Me,t)}function $h(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],o=s.getSnapshot;s=s.value;try{if(!tt(o(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Et(t,e){for(e&=~ui,e&=~Ws,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-He(e),r=1<<n;t[n]=-1,e&=~r}}function _a(t){if(Q&6)throw Error(P(327));En();var e=ps(t,0);if(!(e&1))return ze(t,ae()),null;var n=zs(t,e);if(t.tag!==0&&n===2){var r=Qo(t);r!==0&&(e=r,n=xl(t,r))}if(n===1)throw n=xr,Qt(t,0),Et(t,e),ze(t,ae()),n;if(n===6)throw Error(P(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Bt(t,Me,at),ze(t,ae()),null}function fi(t,e){var n=Q;Q|=1;try{return t(e)}finally{Q=n,Q===0&&(zn=ae()+500,As&&Ot())}}function en(t){Mt!==null&&Mt.tag===0&&!(Q&6)&&En();var e=Q;Q|=1;var n=We.transition,r=Y;try{if(We.transition=null,Y=1,t)return t()}finally{Y=r,We.transition=n,Q=e,!(Q&6)&&Ot()}}function di(){De=vn.current,H(vn)}function Qt(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,mh(n)),ue!==null)for(n=ue.return;n!==null;){var r=n;switch(Ql(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&vs();break;case 3:Tn(),H(Te),H(ke),ti();break;case 5:ei(r);break;case 4:Tn();break;case 13:H(ne);break;case 19:H(ne);break;case 10:Xl(r.type._context);break;case 22:case 23:di()}n=n.return}if(he=t,ue=t=Ft(t.current,null),ge=De=e,fe=0,xr=null,ui=Ws=Ht=0,Me=nr=null,qt!==null){for(e=0;e<qt.length;e++)if(n=qt[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,o=n.pending;if(o!==null){var l=o.next;o.next=s,r.next=l}n.pending=r}qt=null}return t}function bc(t,e){do{var n=ue;try{if(Kl(),ns.current=_s,Ms){for(var r=re.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Ms=!1}if(Jt=0,de=ce=re=null,er=!1,yr=0,ai.current=null,n===null||n.return===null){fe=1,xr=e,ue=null;break}e:{var o=t,l=n.return,i=n,a=e;if(e=ge,i.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var u=a,d=i,c=d.tag;if(!(d.mode&1)&&(c===0||c===11||c===15)){var m=d.alternate;m?(d.updateQueue=m.updateQueue,d.memoizedState=m.memoizedState,d.lanes=m.lanes):(d.updateQueue=null,d.memoizedState=null)}var x=ma(l);if(x!==null){x.flags&=-257,ga(x,l,i,o,e),x.mode&1&&pa(o,u,e),e=x,a=u;var g=e.updateQueue;if(g===null){var v=new Set;v.add(a),e.updateQueue=v}else g.add(a);break e}else{if(!(e&1)){pa(o,u,e),hi();break e}a=Error(P(426))}}else if(te&&i.mode&1){var N=ma(l);if(N!==null){!(N.flags&65536)&&(N.flags|=256),ga(N,l,i,o,e),Gl(Rn(a,i));break e}}o=a=Rn(a,i),fe!==4&&(fe=2),nr===null?nr=[o]:nr.push(o),o=l;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var f=Cc(o,a,e);aa(o,f);break e;case 1:i=a;var p=o.type,y=o.stateNode;if(!(o.flags&128)&&(typeof p.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Dt===null||!Dt.has(y)))){o.flags|=65536,e&=-e,o.lanes|=e;var S=Mc(o,i,e);aa(o,S);break e}}o=o.return}while(o!==null)}Qc(n)}catch(C){e=C,ue===n&&n!==null&&(ue=n=n.return);continue}break}while(!0)}function qc(){var t=Ps.current;return Ps.current=_s,t===null?_s:t}function hi(){(fe===0||fe===3||fe===2)&&(fe=4),he===null||!(Ht&268435455)&&!(Ws&268435455)||Et(he,ge)}function zs(t,e){var n=Q;Q|=2;var r=qc();(he!==t||ge!==e)&&(at=null,Qt(t,e));do try{Oh();break}catch(s){bc(t,s)}while(!0);if(Kl(),Q=n,Ps.current=r,ue!==null)throw Error(P(261));return he=null,ge=0,fe}function Oh(){for(;ue!==null;)Wc(ue)}function Ah(){for(;ue!==null&&!dd();)Wc(ue)}function Wc(t){var e=Yc(t.alternate,t,De);t.memoizedProps=t.pendingProps,e===null?Qc(t):ue=e,ai.current=null}function Qc(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Lh(n,e),n!==null){n.flags&=32767,ue=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{fe=6,ue=null;return}}else if(n=Dh(n,e,De),n!==null){ue=n;return}if(e=e.sibling,e!==null){ue=e;return}ue=e=t}while(e!==null);fe===0&&(fe=5)}function Bt(t,e,n){var r=Y,s=We.transition;try{We.transition=null,Y=1,Bh(t,e,n,r)}finally{We.transition=s,Y=r}return null}function Bh(t,e,n,r){do En();while(Mt!==null);if(Q&6)throw Error(P(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(P(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(kd(t,o),t===he&&(ue=he=null,ge=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||qr||(qr=!0,Kc(hs,function(){return En(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=We.transition,We.transition=null;var l=Y;Y=1;var i=Q;Q|=4,ai.current=null,Ih(t,n),Oc(n,t),ah(Jo),ms=!!Zo,Jo=Zo=null,t.current=n,Vh(n),hd(),Q=i,Y=l,We.transition=o}else t.current=n;if(qr&&(qr=!1,Mt=t,Rs=s),o=t.pendingLanes,o===0&&(Dt=null),gd(n.stateNode),ze(t,ae()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Ts)throw Ts=!1,t=wl,wl=null,t;return Rs&1&&t.tag!==0&&En(),o=t.pendingLanes,o&1?t===vl?rr++:(rr=0,vl=t):rr=0,Ot(),null}function En(){if(Mt!==null){var t=Cu(Rs),e=We.transition,n=Y;try{if(We.transition=null,Y=16>t?16:t,Mt===null)var r=!1;else{if(t=Mt,Mt=null,Rs=0,Q&6)throw Error(P(331));var s=Q;for(Q|=4,I=t.current;I!==null;){var o=I,l=o.child;if(I.flags&16){var i=o.deletions;if(i!==null){for(var a=0;a<i.length;a++){var u=i[a];for(I=u;I!==null;){var d=I;switch(d.tag){case 0:case 11:case 15:tr(8,d,o)}var c=d.child;if(c!==null)c.return=d,I=c;else for(;I!==null;){d=I;var m=d.sibling,x=d.return;if(Vc(d),d===u){I=null;break}if(m!==null){m.return=x,I=m;break}I=x}}}var g=o.alternate;if(g!==null){var v=g.child;if(v!==null){g.child=null;do{var N=v.sibling;v.sibling=null,v=N}while(v!==null)}}I=o}}if(o.subtreeFlags&2064&&l!==null)l.return=o,I=l;else e:for(;I!==null;){if(o=I,o.flags&2048)switch(o.tag){case 0:case 11:case 15:tr(9,o,o.return)}var f=o.sibling;if(f!==null){f.return=o.return,I=f;break e}I=o.return}}var p=t.current;for(I=p;I!==null;){l=I;var y=l.child;if(l.subtreeFlags&2064&&y!==null)y.return=l,I=y;else e:for(l=p;I!==null;){if(i=I,i.flags&2048)try{switch(i.tag){case 0:case 11:case 15:qs(9,i)}}catch(C){le(i,i.return,C)}if(i===l){I=null;break e}var S=i.sibling;if(S!==null){S.return=i.return,I=S;break e}I=i.return}}if(Q=s,Ot(),lt&&typeof lt.onPostCommitFiberRoot=="function")try{lt.onPostCommitFiberRoot(Is,t)}catch{}r=!0}return r}finally{Y=n,We.transition=e}}return!1}function Pa(t,e,n){e=Rn(n,e),e=Cc(t,e,1),t=zt(t,e,1),e=Ne(),t!==null&&(Nr(t,1,e),ze(t,e))}function le(t,e,n){if(t.tag===3)Pa(t,t,n);else for(;e!==null;){if(e.tag===3){Pa(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Dt===null||!Dt.has(r))){t=Rn(n,t),t=Mc(e,t,1),e=zt(e,t,1),t=Ne(),e!==null&&(Nr(e,1,t),ze(e,t));break}}e=e.return}}function bh(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Ne(),t.pingedLanes|=t.suspendedLanes&n,he===t&&(ge&n)===n&&(fe===4||fe===3&&(ge&130023424)===ge&&500>ae()-ci?Qt(t,0):ui|=n),ze(t,e)}function Gc(t,e){e===0&&(t.mode&1?(e=Lr,Lr<<=1,!(Lr&130023424)&&(Lr=4194304)):e=1);var n=Ne();t=gt(t,e),t!==null&&(Nr(t,e,n),ze(t,n))}function qh(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Gc(t,n)}function Wh(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(P(314))}r!==null&&r.delete(e),Gc(t,n)}var Yc;Yc=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Te.current)Pe=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Pe=!1,zh(t,e,n);Pe=!!(t.flags&131072)}else Pe=!1,te&&e.flags&1048576&&Ju(e,ks,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;ss(t,e),t=e.pendingProps;var s=Mn(e,ke.current);Nn(e,n),s=ri(null,e,r,t,s,n);var o=si();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Re(r)?(o=!0,xs(e)):o=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Jl(e),s.updater=bs,e.stateNode=s,s._reactInternals=e,il(e,r,t,n),e=cl(null,e,r,!0,o,n)):(e.tag=0,te&&o&&Wl(e),je(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(ss(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=Gh(r),t=Xe(r,t),s){case 0:e=ul(null,e,r,t,n);break e;case 1:e=va(null,e,r,t,n);break e;case 11:e=ya(null,e,r,t,n);break e;case 14:e=wa(null,e,r,Xe(r.type,t),n);break e}throw Error(P(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Xe(r,s),ul(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Xe(r,s),va(t,e,r,s,n);case 3:e:{if(Rc(e),t===null)throw Error(P(387));r=e.pendingProps,o=e.memoizedState,s=o.element,sc(t,e),Es(e,r,null,n);var l=e.memoizedState;if(r=l.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){s=Rn(Error(P(423)),e),e=xa(t,e,r,n,s);break e}else if(r!==s){s=Rn(Error(P(424)),e),e=xa(t,e,r,n,s);break e}else for(Le=Rt(e.stateNode.containerInfo.firstChild),Fe=e,te=!0,Je=null,n=nc(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(_n(),r===s){e=yt(t,e,n);break e}je(t,e,r,n)}e=e.child}return e;case 5:return oc(e),t===null&&sl(e),r=e.type,s=e.pendingProps,o=t!==null?t.memoizedProps:null,l=s.children,Ho(r,s)?l=null:o!==null&&Ho(r,o)&&(e.flags|=32),Tc(t,e),je(t,e,l,n),e.child;case 6:return t===null&&sl(e),null;case 13:return zc(t,e,n);case 4:return Hl(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Pn(e,null,r,n):je(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Xe(r,s),ya(t,e,r,s,n);case 7:return je(t,e,e.pendingProps,n),e.child;case 8:return je(t,e,e.pendingProps.children,n),e.child;case 12:return je(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,o=e.memoizedProps,l=s.value,X(js,r._currentValue),r._currentValue=l,o!==null)if(tt(o.value,l)){if(o.children===s.children&&!Te.current){e=yt(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var i=o.dependencies;if(i!==null){l=o.child;for(var a=i.firstContext;a!==null;){if(a.context===r){if(o.tag===1){a=ht(-1,n&-n),a.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?a.next=a:(a.next=d.next,d.next=a),u.pending=a}}o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),ol(o.return,n,e),i.lanes|=n;break}a=a.next}}else if(o.tag===10)l=o.type===e.type?null:o.child;else if(o.tag===18){if(l=o.return,l===null)throw Error(P(341));l.lanes|=n,i=l.alternate,i!==null&&(i.lanes|=n),ol(l,n,e),l=o.sibling}else l=o.child;if(l!==null)l.return=o;else for(l=o;l!==null;){if(l===e){l=null;break}if(o=l.sibling,o!==null){o.return=l.return,l=o;break}l=l.return}o=l}je(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Nn(e,n),s=Qe(s),r=r(s),e.flags|=1,je(t,e,r,n),e.child;case 14:return r=e.type,s=Xe(r,e.pendingProps),s=Xe(r.type,s),wa(t,e,r,s,n);case 15:return _c(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Xe(r,s),ss(t,e),e.tag=1,Re(r)?(t=!0,xs(e)):t=!1,Nn(e,n),Ec(e,r,s),il(e,r,s,n),cl(null,e,r,!0,t,n);case 19:return Dc(t,e,n);case 22:return Pc(t,e,n)}throw Error(P(156,e.tag))};function Kc(t,e){return ku(t,e)}function Qh(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qe(t,e,n,r){return new Qh(t,e,n,r)}function pi(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Gh(t){if(typeof t=="function")return pi(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Dl)return 11;if(t===Ll)return 14}return 2}function Ft(t,e){var n=t.alternate;return n===null?(n=qe(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function is(t,e,n,r,s,o){var l=2;if(r=t,typeof t=="function")pi(t)&&(l=1);else if(typeof t=="string")l=5;else e:switch(t){case un:return Gt(n.children,s,o,e);case zl:l=8,s|=8;break;case Ro:return t=qe(12,n,e,s|2),t.elementType=Ro,t.lanes=o,t;case zo:return t=qe(13,n,e,s),t.elementType=zo,t.lanes=o,t;case Do:return t=qe(19,n,e,s),t.elementType=Do,t.lanes=o,t;case ou:return Qs(n,s,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ru:l=10;break e;case su:l=9;break e;case Dl:l=11;break e;case Ll:l=14;break e;case kt:l=16,r=null;break e}throw Error(P(130,t==null?t:typeof t,""))}return e=qe(l,n,e,s),e.elementType=t,e.type=r,e.lanes=o,e}function Gt(t,e,n,r){return t=qe(7,t,r,e),t.lanes=n,t}function Qs(t,e,n,r){return t=qe(22,t,r,e),t.elementType=ou,t.lanes=n,t.stateNode={isHidden:!1},t}function _o(t,e,n){return t=qe(6,t,null,e),t.lanes=n,t}function Po(t,e,n){return e=qe(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Yh(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ao(0),this.expirationTimes=ao(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ao(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function mi(t,e,n,r,s,o,l,i,a){return t=new Yh(t,e,n,i,a),e===1?(e=1,o===!0&&(e|=8)):e=0,o=qe(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Jl(o),t}function Kh(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:an,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Xc(t){if(!t)return Vt;t=t._reactInternals;e:{if(nn(t)!==t||t.tag!==1)throw Error(P(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Re(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(P(171))}if(t.tag===1){var n=t.type;if(Re(n))return Xu(t,n,e)}return e}function Zc(t,e,n,r,s,o,l,i,a){return t=mi(n,r,!0,t,s,o,l,i,a),t.context=Xc(null),n=t.current,r=Ne(),s=Lt(n),o=ht(r,s),o.callback=e??null,zt(n,o,s),t.current.lanes=s,Nr(t,s,r),ze(t,r),t}function Gs(t,e,n,r){var s=e.current,o=Ne(),l=Lt(s);return n=Xc(n),e.context===null?e.context=n:e.pendingContext=n,e=ht(o,l),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=zt(s,e,l),t!==null&&(et(t,s,l,o),ts(t,s,l)),l}function Ds(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Ta(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function gi(t,e){Ta(t,e),(t=t.alternate)&&Ta(t,e)}function Xh(){return null}var Jc=typeof reportError=="function"?reportError:function(t){console.error(t)};function yi(t){this._internalRoot=t}Ys.prototype.render=yi.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(P(409));Gs(t,e,null,null)};Ys.prototype.unmount=yi.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;en(function(){Gs(null,t,null,null)}),e[mt]=null}};function Ys(t){this._internalRoot=t}Ys.prototype.unstable_scheduleHydration=function(t){if(t){var e=Pu();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Nt.length&&e!==0&&e<Nt[n].priority;n++);Nt.splice(n,0,t),n===0&&Ru(t)}};function wi(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Ks(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Ra(){}function Zh(t,e,n,r,s){if(s){if(typeof r=="function"){var o=r;r=function(){var u=Ds(l);o.call(u)}}var l=Zc(e,r,t,0,null,!1,!1,"",Ra);return t._reactRootContainer=l,t[mt]=l.current,dr(t.nodeType===8?t.parentNode:t),en(),l}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var i=r;r=function(){var u=Ds(a);i.call(u)}}var a=mi(t,0,!1,null,null,!1,!1,"",Ra);return t._reactRootContainer=a,t[mt]=a.current,dr(t.nodeType===8?t.parentNode:t),en(function(){Gs(e,a,n,r)}),a}function Xs(t,e,n,r,s){var o=n._reactRootContainer;if(o){var l=o;if(typeof s=="function"){var i=s;s=function(){var a=Ds(l);i.call(a)}}Gs(e,l,t,s)}else l=Zh(n,e,t,s,r);return Ds(l)}Mu=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Gn(e.pendingLanes);n!==0&&(Vl(e,n|1),ze(e,ae()),!(Q&6)&&(zn=ae()+500,Ot()))}break;case 13:en(function(){var r=gt(t,1);if(r!==null){var s=Ne();et(r,t,1,s)}}),gi(t,1)}};Ul=function(t){if(t.tag===13){var e=gt(t,134217728);if(e!==null){var n=Ne();et(e,t,134217728,n)}gi(t,134217728)}};_u=function(t){if(t.tag===13){var e=Lt(t),n=gt(t,e);if(n!==null){var r=Ne();et(n,t,e,r)}gi(t,e)}};Pu=function(){return Y};Tu=function(t,e){var n=Y;try{return Y=t,e()}finally{Y=n}};bo=function(t,e,n){switch(e){case"input":if(Io(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Os(r);if(!s)throw Error(P(90));iu(r),Io(r,s)}}}break;case"textarea":uu(t,n);break;case"select":e=n.value,e!=null&&xn(t,!!n.multiple,e,!1)}};gu=fi;yu=en;var Jh={usingClientEntryPoint:!1,Events:[Cr,hn,Os,pu,mu,fi]},qn={findFiberByHostInstance:bt,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Hh={bundleType:qn.bundleType,version:qn.version,rendererPackageName:qn.rendererPackageName,rendererConfig:qn.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:wt.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=xu(t),t===null?null:t.stateNode},findFiberByHostInstance:qn.findFiberByHostInstance||Xh,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Wr=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Wr.isDisabled&&Wr.supportsFiber)try{Is=Wr.inject(Hh),lt=Wr}catch{}}Ue.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Jh;Ue.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!wi(e))throw Error(P(200));return Kh(t,e,null,n)};Ue.createRoot=function(t,e){if(!wi(t))throw Error(P(299));var n=!1,r="",s=Jc;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=mi(t,1,!1,null,null,n,!1,r,s),t[mt]=e.current,dr(t.nodeType===8?t.parentNode:t),new yi(e)};Ue.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(P(188)):(t=Object.keys(t).join(","),Error(P(268,t)));return t=xu(e),t=t===null?null:t.stateNode,t};Ue.flushSync=function(t){return en(t)};Ue.hydrate=function(t,e,n){if(!Ks(e))throw Error(P(200));return Xs(null,t,e,!0,n)};Ue.hydrateRoot=function(t,e,n){if(!wi(t))throw Error(P(405));var r=n!=null&&n.hydratedSources||null,s=!1,o="",l=Jc;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(l=n.onRecoverableError)),e=Zc(e,null,t,1,n??null,s,!1,o,l),t[mt]=e.current,dr(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Ys(e)};Ue.render=function(t,e,n){if(!Ks(e))throw Error(P(200));return Xs(null,t,e,!1,n)};Ue.unmountComponentAtNode=function(t){if(!Ks(t))throw Error(P(40));return t._reactRootContainer?(en(function(){Xs(null,null,t,!1,function(){t._reactRootContainer=null,t[mt]=null})}),!0):!1};Ue.unstable_batchedUpdates=fi;Ue.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Ks(n))throw Error(P(200));if(t==null||t._reactInternals===void 0)throw Error(P(38));return Xs(t,e,n,!1,r)};Ue.version="18.3.1-next-f1338f8080-20240426";function Hc(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Hc)}catch(t){console.error(t)}}Hc(),Ha.exports=Ue;var ep=Ha.exports,ef,za=ep;ef=za.createRoot,za.hydrateRoot;/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var tp={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const np=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),oe=(t,e)=>{const n=$.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:o=2,absoluteStrokeWidth:l,className:i="",children:a,...u},d)=>$.createElement("svg",{ref:d,...tp,width:s,height:s,stroke:r,strokeWidth:l?Number(o)*24/Number(s):o,className:["lucide",`lucide-${np(t)}`,i].join(" "),...u},[...e.map(([c,m])=>$.createElement(c,m)),...Array.isArray(a)?a:[a]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tf=oe("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kl=oe("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rp=oe("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nf=oe("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sp=oe("BarChart",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qr=oe("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const op=oe("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rf=oe("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lp=oe("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ip=oe("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Da=oe("GitCompare",[["circle",{cx:"18",cy:"18",r:"3",key:"1xkwt0"}],["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M13 6h3a2 2 0 0 1 2 2v7",key:"1yeb86"}],["path",{d:"M11 18H8a2 2 0 0 1-2-2V9",key:"19pyzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ap=oe("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const La=oe("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const up=oe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cp=oe("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fp=oe("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dp=oe("ScatterChart",[["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}],["circle",{cx:"18.5",cy:"5.5",r:".5",fill:"currentColor",key:"lysivs"}],["circle",{cx:"11.5",cy:"11.5",r:".5",fill:"currentColor",key:"byv1b8"}],["circle",{cx:"7.5",cy:"16.5",r:".5",fill:"currentColor",key:"nkw3mc"}],["circle",{cx:"17.5",cy:"14.5",r:".5",fill:"currentColor",key:"1gjh6j"}],["path",{d:"M3 3v18h18",key:"1s2lah"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hp=oe("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sf=oe("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const of=oe("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lf=oe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pp=oe("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mp=oe("ZoomOut",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);class gp extends $.Component{constructor(){super(...arguments);nt(this,"state",{hasError:!1})}static getDerivedStateFromError(n){return{hasError:!0,error:n}}componentDidCatch(n,r){var s,o;console.error("ErrorBoundary caught an error:",n,r),(o=(s=this.props).onError)==null||o.call(s,n,r)}render(){return this.state.hasError?this.props.fallback?this.props.fallback:h.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6 m-4",children:[h.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[h.jsx(rp,{className:"text-red-600",size:24}),h.jsx("h3",{className:"text-lg font-semibold text-red-900",children:"Visualization Error"})]}),h.jsxs("div",{className:"space-y-3",children:[h.jsx("p",{className:"text-red-700",children:"There was an error rendering the plot. Your data is still safe."}),this.state.error&&h.jsxs("details",{className:"text-sm",children:[h.jsx("summary",{className:"cursor-pointer text-red-600 hover:text-red-800",children:"Error Details"}),h.jsx("pre",{className:"mt-2 p-3 bg-red-100 rounded text-red-800 overflow-auto",children:this.state.error.message})]}),h.jsxs("button",{onClick:()=>this.setState({hasError:!1,error:void 0}),className:"flex items-center gap-2 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:[h.jsx(cp,{size:16}),"Try Again"]})]})]}):this.props.children}}const yp=({samples:t,availableTraits:e,onSampleSelect:n})=>{const[r,s]=$.useState(""),[o,l]=$.useState("all"),[i,a]=$.useState("name"),[u,d]=$.useState("asc"),c=S=>{const C=new Set;return t.forEach(M=>{const j=M[S];j!=null&&j!==""&&C.add(String(j))}),Array.from(C).sort()},x=(()=>{const S=["condition","treatment","group","type"];for(const C of S){const M=e.find(j=>j.name.toLowerCase().includes(C)&&j.type==="categorical");if(M)return M}return e.find(C=>C.type==="categorical")})(),g=x?c(x.name):[],v=t.filter(S=>S.name.toLowerCase().includes(r.toLowerCase())&&(o==="all"||x&&S[x.name]===o)).sort((S,C)=>{const M=S[i],j=C[i],E=u==="asc"?1:-1;return typeof M=="string"&&typeof j=="string"?M.localeCompare(j)*E:(M-j)*E}),N=S=>{S===i?d(u==="asc"?"desc":"asc"):(a(S),d("asc"))},f=()=>{if(t.length===0)return;const S=["name",...e.map(z=>z.name)],C=[S.join(","),...v.map(z=>S.map(w=>z[w]||"").join(","))].join(`
`),M=new Blob([C],{type:"text/csv"}),j=URL.createObjectURL(M),E=document.createElement("a");E.href=j,E.download="sample_info.csv",E.click()},p=(S,C)=>{if(C==null||C==="")return"-";if(S.type==="numerical"){const M=Number(C);return isNaN(M)?String(C):M.toFixed(2)}return String(C)},y=(S,C)=>{if(S.type!=="categorical"||!C)return"";const M=["bg-blue-100 text-blue-800","bg-orange-100 text-orange-800","bg-green-100 text-green-800","bg-purple-100 text-purple-800","bg-red-100 text-red-800","bg-yellow-100 text-yellow-800"],j=S.values.indexOf(String(C));return j>=0?M[j%M.length]:"bg-gray-100 text-gray-800"};return h.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[h.jsxs("div",{className:"mb-6",children:[h.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[h.jsx("h2",{className:"text-2xl font-semibold text-gray-900",children:"Sample Information"}),h.jsxs("button",{onClick:f,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[h.jsx(rf,{size:16}),"Export CSV"]})]}),h.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mt-4",children:[h.jsxs("div",{className:"relative flex-1",children:[h.jsx(hp,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),h.jsx("input",{type:"text",placeholder:"Search samples...",value:r,onChange:S=>s(S.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),x&&h.jsxs("div",{className:"relative",children:[h.jsx(ip,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),h.jsxs("select",{value:o,onChange:S=>l(S.target.value),className:"pl-10 pr-8 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent appearance-none bg-white",children:[h.jsxs("option",{value:"all",children:["All ",x.name]}),g.map(S=>h.jsx("option",{value:S,children:S},S))]})]})]})]}),h.jsx("div",{className:"overflow-x-auto",children:h.jsxs("table",{className:"w-full border-collapse",children:[h.jsx("thead",{children:h.jsxs("tr",{className:"border-b-2 border-gray-200",children:[h.jsx("th",{className:"text-left py-3 px-4 cursor-pointer hover:bg-gray-50 transition-colors",onClick:()=>N("name"),children:h.jsxs("div",{className:"flex items-center gap-1",children:["Sample Name",i==="name"&&h.jsx("span",{className:"text-blue-600",children:u==="asc"?"":""})]})}),e.map(S=>h.jsx("th",{className:"text-left py-3 px-4 cursor-pointer hover:bg-gray-50 transition-colors",onClick:()=>N(S.name),children:h.jsxs("div",{className:"flex items-center gap-1",children:[S.name.replace(/_/g," ").replace(/\b\w/g,C=>C.toUpperCase()),h.jsxs("span",{className:"text-xs text-gray-500 ml-1",children:["(",S.type==="categorical"?`${S.uniqueCount} groups`:"numeric",")"]}),i===S.name&&h.jsx("span",{className:"text-blue-600",children:u==="asc"?"":""})]})},S.name))]})}),h.jsx("tbody",{children:v.map((S,C)=>h.jsxs("tr",{className:`border-b border-gray-100 hover:bg-gray-50 transition-colors cursor-pointer ${C%2===0?"bg-white":"bg-gray-25"}`,onClick:()=>n==null?void 0:n(S),children:[h.jsx("td",{className:"py-3 px-4 font-medium text-gray-900",children:S.name}),e.map(M=>{const j=S[M.name],E=p(M,j);return h.jsx("td",{className:"py-3 px-4",children:M.type==="categorical"&&j?h.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${y(M,j)}`,children:E}):h.jsx("span",{className:"text-gray-600",children:E})},M.name)})]},S.id))})]})}),h.jsxs("div",{className:"mt-4 text-sm text-gray-600",children:["Showing ",v.length," of ",t.length," samples"]})]})},wp=({data:t,config:e,onPointClick:n,legendData:r})=>{const s=$.useRef(null),[o,l]=$.useState(null),[i,a]=$.useState({x:0,y:0}),u={top:20,right:20,bottom:50,left:60},d=e.width-u.left-u.right,c=e.height-u.top-u.bottom;if(!t||t.length===0)return h.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[h.jsx("div",{className:"flex justify-between items-center mb-4",children:h.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:e.title})}),h.jsx("div",{className:"flex items-center justify-center h-96 text-gray-500",children:h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"text-lg font-medium mb-2",children:"No data available"}),h.jsx("div",{className:"text-sm",children:"Upload data and run analysis to see results"})]})})]});const m=t.filter(k=>k&&typeof k.x=="number"&&typeof k.y=="number"&&isFinite(k.x)&&isFinite(k.y));if(m.length===0)return h.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[h.jsx("div",{className:"flex justify-between items-center mb-4",children:h.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:e.title})}),h.jsx("div",{className:"flex items-center justify-center h-96 text-gray-500",children:h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"text-lg font-medium mb-2",children:"Invalid data"}),h.jsx("div",{className:"text-sm",children:"All data points contain invalid values"})]})})]});const x=m.map(k=>k.x),g=m.map(k=>k.y),v=Math.min(...x)*1.1,N=Math.max(...x)*1.1,f=Math.min(...g)*1.1,p=Math.max(...g)*1.1,y=isFinite(v)?v:-10,S=isFinite(N)?N:10,C=isFinite(f)?f:-10,M=isFinite(p)?p:10,j=k=>isFinite(k)?(k-y)/(S-y)*d:d/2,E=k=>isFinite(k)?c-(k-C)/(M-C)*c:c/2,z=Array.from({length:6},(k,D)=>y+(S-y)*(D/5)),w=Array.from({length:6},(k,D)=>C+(M-C)*(D/5)),_=k=>{var F;const D=(F=s.current)==null?void 0:F.getBoundingClientRect();D&&a({x:k.clientX-D.left,y:k.clientY-D.top})},R=()=>{if(!s.current)return;const D=new XMLSerializer().serializeToString(s.current),F=document.createElement("canvas"),O=F.getContext("2d"),W=new Image;F.width=e.width,F.height=e.height,W.onload=()=>{O==null||O.drawImage(W,0,0);const T=document.createElement("a");T.download=`${e.title.replace(/\s+/g,"_").toLowerCase()}.png`,T.href=F.toDataURL(),T.click()},W.src="data:image/svg+xml;base64,"+btoa(D)};return h.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[h.jsxs("div",{className:"flex justify-between items-center mb-4",children:[h.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:e.title}),h.jsxs("div",{className:"flex gap-2",children:[h.jsx("button",{onClick:R,className:"p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors",title:"Export Plot",children:h.jsx(rf,{size:18})}),h.jsx("button",{className:"p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors",title:"Zoom In",children:h.jsx(pp,{size:18})}),h.jsx("button",{className:"p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors",title:"Zoom Out",children:h.jsx(mp,{size:18})}),h.jsx("button",{className:"p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors",title:"Reset View",children:h.jsx(fp,{size:18})})]})]}),h.jsxs("div",{className:"relative",children:[h.jsxs("svg",{ref:s,width:e.width,height:e.height,className:"border border-gray-200 rounded",onMouseMove:_,onMouseLeave:()=>l(null),children:[h.jsx("rect",{width:e.width,height:e.height,fill:"white"}),e.showGrid&&h.jsxs("g",{children:[z.map((k,D)=>h.jsx("line",{x1:u.left+j(k),y1:u.top,x2:u.left+j(k),y2:e.height-u.bottom,stroke:"#f3f4f6",strokeWidth:1},`x-grid-${D}`)),w.map((k,D)=>h.jsx("line",{x1:u.left,y1:u.top+E(k),x2:e.width-u.right,y2:u.top+E(k),stroke:"#f3f4f6",strokeWidth:1},`y-grid-${D}`))]}),h.jsxs("g",{children:[h.jsx("line",{x1:u.left,y1:e.height-u.bottom,x2:e.width-u.right,y2:e.height-u.bottom,stroke:"#374151",strokeWidth:2}),h.jsx("line",{x1:u.left,y1:u.top,x2:u.left,y2:e.height-u.bottom,stroke:"#374151",strokeWidth:2})]}),h.jsx("text",{x:u.left+d/2,y:e.height-10,textAnchor:"middle",className:"fill-gray-700 text-sm font-medium",children:e.xLabel}),h.jsx("text",{x:15,y:u.top+c/2,textAnchor:"middle",transform:`rotate(-90, 15, ${u.top+c/2})`,className:"fill-gray-700 text-sm font-medium",children:e.yLabel}),z.map((k,D)=>h.jsx("text",{x:u.left+j(k),y:e.height-u.bottom+15,textAnchor:"middle",className:"fill-gray-600 text-xs",children:isFinite(k)?k.toFixed(1):"0"},`x-tick-${D}`)),w.map((k,D)=>h.jsx("text",{x:u.left-10,y:u.top+E(k)+4,textAnchor:"end",className:"fill-gray-600 text-xs",children:isFinite(k)?k.toFixed(1):"0"},`y-tick-${D}`)),m.map((k,D)=>h.jsx("circle",{cx:u.left+j(k.x),cy:u.top+E(k.y),r:k.size||4,fill:k.color||"#2563EB",stroke:"white",strokeWidth:1,className:"cursor-pointer hover:stroke-2 transition-all",onMouseEnter:()=>l(k),onClick:()=>n==null?void 0:n(k)},D))]}),o&&h.jsxs("div",{className:"absolute bg-gray-900 text-white px-3 py-2 rounded-lg shadow-lg pointer-events-none z-10 text-sm",style:{left:i.x+10,top:i.y-10,transform:i.x>e.width-150?"translateX(-100%)":"none"},children:[h.jsx("div",{className:"font-medium",children:o.label}),h.jsxs("div",{children:["X: ",isFinite(o.x)?o.x.toFixed(3):"N/A"]}),h.jsxs("div",{children:["Y: ",isFinite(o.y)?o.y.toFixed(3):"N/A"]})]})]}),r&&r.length>0&&h.jsxs("div",{className:"mt-4 bg-gray-50 rounded-lg p-4",children:[h.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-3",children:"Legend"}),h.jsx("div",{className:"flex flex-wrap gap-x-6 gap-y-3",children:r.map((k,D)=>h.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[h.jsx("div",{className:"w-3 h-3 rounded-full flex-shrink-0",style:{backgroundColor:k.color}}),h.jsx("span",{className:"text-sm text-gray-700",title:k.label,style:{maxWidth:"250px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:k.label})]},D))})]})]})},vp=({selectedPlot:t,onPlotChange:e})=>{const n=[{type:"pca",label:"PCA Plot",description:"Principal Component Analysis",icon:dp},{type:"volcano",label:"Volcano Plot",description:"Differential Expression",icon:sf},{type:"ma",label:"MA Plot",description:"Mean vs Average",icon:nf}];return h.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[h.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Visualization Type"}),h.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3",children:n.map(({type:r,label:s,description:o,icon:l})=>h.jsx("button",{onClick:()=>e(r),className:`p-4 rounded-lg border-2 transition-all hover:shadow-md ${t===r?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-200 hover:border-gray-300 text-gray-700"}`,children:h.jsxs("div",{className:"flex flex-col items-center text-center gap-2",children:[h.jsx(l,{size:24}),h.jsxs("div",{children:[h.jsx("div",{className:"font-medium",children:s}),h.jsx("div",{className:"text-xs text-gray-500",children:o})]})]})},r))})]})},xp=({availableTraits:t,onContrastChange:e,disabled:n=!1})=>{const[r,s]=$.useState(""),[o,l]=$.useState(""),[i,a]=$.useState(""),[u,d]=$.useState(!1),c=t.find(N=>N.name===r),m=N=>{s(N),l(""),a("")},x=()=>{r&&o&&i&&o!==i&&e(r,o,i)},v=(()=>{const N=[],f=t.find(y=>y.name.toLowerCase().includes("condition")||y.name.toLowerCase().includes("treatment")||y.name.toLowerCase().includes("group"));f&&f.values.length===2&&N.push({name:`${f.values[1]} vs ${f.values[0]}`,trait:f.name,group1:f.values[1],group2:f.values[0]});const p=t.find(y=>y.name.toLowerCase().includes("batch"));return p&&p.values.length>=2&&N.push({name:`${p.values[1]} vs ${p.values[0]}`,trait:p.name,group1:p.values[1],group2:p.values[0]}),N})();return t.length===0?h.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[h.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[h.jsx(Da,{className:"text-gray-400",size:20}),h.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Contrast Selection"})]}),h.jsx("div",{className:"text-gray-500 text-center py-4",children:"Upload sample data to enable differential expression analysis"})]}):h.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[h.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[h.jsx(Da,{className:"text-blue-600",size:20}),h.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Contrast Selection"})]}),h.jsxs("div",{className:"space-y-4",children:[v.length>0&&!u&&h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Quick Contrasts:"}),h.jsx("div",{className:"space-y-2",children:v.map((N,f)=>h.jsxs("button",{onClick:()=>e(N.trait,N.group1,N.group2),disabled:n,className:"w-full text-left p-3 border border-gray-200 rounded-lg hover:border-blue-300 hover:bg-blue-50 transition-colors disabled:bg-gray-100 disabled:cursor-not-allowed",children:[h.jsx("div",{className:"font-medium text-gray-900",children:N.name}),h.jsxs("div",{className:"text-sm text-gray-600",children:["Based on ",N.trait]})]},f))}),h.jsxs("button",{onClick:()=>d(!0),className:"mt-3 flex items-center gap-2 text-blue-600 hover:text-blue-700 text-sm",children:[h.jsx(up,{size:16}),"Create custom contrast"]})]}),(u||v.length===0)&&h.jsxs("div",{className:"space-y-4",children:[u&&h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Custom Contrast:"}),h.jsx("button",{onClick:()=>d(!1),className:"text-gray-400 hover:text-gray-600",children:h.jsx(lf,{size:16})})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select trait to compare:"}),h.jsxs("select",{value:r,onChange:N=>m(N.target.value),disabled:n,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:bg-gray-100 disabled:cursor-not-allowed",children:[h.jsx("option",{value:"",children:"Choose a trait..."}),t.filter(N=>N.type==="categorical"&&N.uniqueCount>=2).map(N=>h.jsxs("option",{value:N.name,children:[N.name," (",N.uniqueCount," groups)"]},N.name))]})]}),c&&h.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Group 1:"}),h.jsxs("select",{value:o,onChange:N=>l(N.target.value),disabled:n,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:bg-gray-100 disabled:cursor-not-allowed",children:[h.jsx("option",{value:"",children:"Select group..."}),c.values.map(N=>h.jsx("option",{value:N,children:N},N))]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Group 2:"}),h.jsxs("select",{value:i,onChange:N=>a(N.target.value),disabled:n,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:bg-gray-100 disabled:cursor-not-allowed",children:[h.jsx("option",{value:"",children:"Select group..."}),c.values.filter(N=>N!==o).map(N=>h.jsx("option",{value:N,children:N},N))]})]})]}),r&&o&&i&&h.jsxs("div",{className:"space-y-3",children:[h.jsxs("button",{onClick:x,disabled:n,className:"w-full px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:bg-gray-400 disabled:cursor-not-allowed",children:["Create Contrast: ",o," vs ",i]}),h.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:h.jsxs("div",{className:"flex items-start gap-2",children:[h.jsx(ap,{className:"text-blue-600 mt-0.5 flex-shrink-0",size:16}),h.jsxs("div",{className:"text-sm",children:[h.jsxs("div",{className:"font-medium text-blue-900 mb-1",children:[o," vs ",i]}),h.jsxs("div",{className:"text-blue-700",children:["Comparing samples with ",r,' = "',o,'" against ',r,' = "',i,'"']})]})]})})]})]}),h.jsx("div",{className:"text-xs text-gray-500 pt-4 border-t border-gray-200",children:h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsxs("div",{className:"flex items-center gap-1",children:[h.jsx("div",{className:"w-3 h-3 bg-orange-500 rounded-full"}),h.jsx("span",{children:"Upregulated"})]}),h.jsxs("div",{className:"flex items-center gap-1",children:[h.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full"}),h.jsx("span",{children:"Downregulated"})]}),h.jsxs("div",{className:"flex items-center gap-1",children:[h.jsx("div",{className:"w-3 h-3 bg-gray-400 rounded-full"}),h.jsx("span",{children:"Not significant"})]})]})})]})]})},Sp=({availableTraits:t,samples:e,selectedTrait:n,onTraitChange:r,className:s=""})=>{const o=d=>{if(e.length===0)return"categorical";const c=e.map(x=>x[d]).filter(x=>x!=null);return c.length===0?"categorical":c.every(x=>typeof x=="number"||!isNaN(Number(x))&&x!=="")?"numerical":"categorical"},i=(()=>{if(e.length===0)return[];const d=new Set;return e.forEach(c=>{Object.keys(c).forEach(m=>{["id","name"].includes(m)||d.add(m)})}),Array.from(d)})(),a=new Set(t.map(d=>d.name)),u=[...t.filter(d=>i.includes(d.name)).map(d=>({name:d.name,displayName:d.name.replace(/_/g," ").replace(/\b\w/g,c=>c.toUpperCase()),type:d.type})),...i.filter(d=>!a.has(d)).map(d=>({name:d,displayName:d.replace(/_/g," ").replace(/\b\w/g,c=>c.toUpperCase()),type:o(d)}))].sort((d,c)=>d.displayName.localeCompare(c.displayName));return Za.useEffect(()=>{if(u.length>0&&!u.some(d=>d.name===n)){const d=u.find(c=>c.name==="condition")||u[0];r(d.name)}},[u,n,r]),u.length===0?h.jsxs("div",{className:`bg-white rounded-lg shadow-lg p-4 ${s}`,children:[h.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[h.jsx(La,{size:18,className:"text-gray-400"}),h.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Color Points By"})]}),h.jsx("div",{className:"text-sm text-gray-500",children:"No traits available for coloring. Upload data with sample metadata to enable trait-based coloring."})]}):h.jsxs("div",{className:`bg-white rounded-lg shadow-lg p-4 ${s}`,children:[h.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[h.jsx(La,{size:18,className:"text-blue-600"}),h.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Color Points By"})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx("label",{htmlFor:"trait-selector",className:"block text-sm font-medium text-gray-700",children:"Select trait for coloring:"}),h.jsx("select",{id:"trait-selector",value:n,onChange:d=>r(d.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent appearance-none bg-white",children:u.map(d=>h.jsxs("option",{value:d.name,children:[d.displayName," (",d.type,")"]},d.name))})]}),n&&h.jsx("div",{className:"mt-3 text-xs text-gray-500",children:"Points will be colored based on the selected trait values"})]})},af=t=>t.trim().split(`
`).map(n=>{const r=[];let s="",o=!1;for(let l=0;l<n.length;l++){const i=n[l];i==='"'?o=!o:i===","&&!o?(r.push(s.trim()),s=""):s+=i}return r.push(s.trim()),r}),kp=t=>{const e=[];if(t.length<2)return e.push({type:"error",message:"File must contain at least a header row and one data row"}),e;const r=t[0].map(s=>s.toLowerCase().trim()).findIndex(s=>s.includes("sample")&&s.includes("name")||s==="sample_name"||s==="samplename");if(r===-1&&e.push({type:"error",message:'Sample information table must contain a "Sample Name" column',field:"Sample Name"}),r!==-1){const s=t.slice(1).map(l=>l[r]),o=s.filter((l,i)=>s.indexOf(l)!==i);o.length>0&&e.push({type:"error",message:`Duplicate sample names found: ${[...new Set(o)].join(", ")}`})}return e},jp=(t,e)=>{const n=[];if(t.length<2)return n.push({type:"error",message:"Expression matrix must contain at least a header row and one data row"}),n;const r=t[0],s=r.findIndex(a=>a.toLowerCase().includes("gene")||a.toLowerCase().includes("id"));s===-1&&n.push({type:"error",message:'Expression matrix must contain a gene identifier column (e.g., "Gene ID", "Gene Name")'});const o=r.slice(1).filter((a,u)=>u!==s-1),l=e.filter(a=>!o.includes(a)),i=o.filter(a=>!e.includes(a));return l.length>0&&n.push({type:"error",message:`Expression matrix missing columns for samples: ${l.join(", ")}`}),i.length>0&&n.push({type:"warning",message:`Expression matrix contains extra samples not in sample info: ${i.join(", ")}`}),n},Np=t=>{try{const e=af(t),n=kp(e);if(n.some(d=>d.type==="error"))return{samples:[],errors:n,availableTraits:[]};const r=e[0].map(d=>d.toLowerCase().trim()),s=r.findIndex(d=>d.includes("sample")&&d.includes("name")||d==="sample_name"||d==="samplename"),o=r.findIndex(d=>d.includes("condition")||d.includes("group")),l=r.findIndex(d=>d.includes("replicate")||d.includes("rep")),i=r.findIndex(d=>d.includes("batch")),a=e.slice(1).map((d,c)=>({id:d[s]||`sample_${c}`,name:d[s]||`Sample_${c}`,condition:o!==-1?d[o]:"Unknown",replicate:l!==-1&&parseInt(d[l])||1,batch:i!==-1?d[i]:"Batch_1",librarySize:45e6,mappingRate:92,rnaIntegrity:8,sequencingDepth:5e7,...Object.fromEntries(r.map((m,x)=>[m.replace(/[^a-zA-Z0-9]/g,"_"),d[x]||""]))})),u=r.filter(d=>d!==r[s]).map(d=>{const c=d.replace(/[^a-zA-Z0-9]/g,"_"),m=e.slice(1).map(v=>v[r.indexOf(d)]||""),x=[...new Set(m)].filter(v=>v!==""),g=x.every(v=>!isNaN(Number(v))&&v!=="");return{name:c,type:g&&x.length>5?"numerical":"categorical",values:x,uniqueCount:x.length}}).filter(d=>d.uniqueCount>1&&d.uniqueCount<20);return{samples:a,errors:n,availableTraits:u}}catch(e){return{samples:[],errors:[{type:"error",message:`Failed to parse sample data: ${e instanceof Error?e.message:"Unknown error"}`}],availableTraits:[]}}},Ep=(t,e)=>{try{const n=af(t),r=jp(n,e);if(r.some(i=>i.type==="error"))return{geneExpression:[],errors:r};const s=n[0],o=s.findIndex(i=>i.toLowerCase().includes("gene")||i.toLowerCase().includes("id"));return{geneExpression:n.slice(1).map((i,a)=>{const u={};return s.forEach((d,c)=>{if(c!==o&&e.includes(d)){const m=parseFloat(i[c]);u[d]=isNaN(m)?0:m}}),{geneId:`gene_${a}`,geneName:i[o]||`Gene_${a}`,samples:u}}),errors:r}}catch(n){return{geneExpression:[],errors:[{type:"error",message:`Failed to parse expression data: ${n instanceof Error?n.message:"Unknown error"}`}]}}},Cp=({onDataUpload:t,onClose:e})=>{const[n,r]=$.useState(null),[s,o]=$.useState(null),[l,i]=$.useState([]),[a,u]=$.useState([]),[d,c]=$.useState(!1),[m,x]=$.useState("sample"),[g,v]=$.useState([]),N=$.useRef(null),f=$.useRef(null),p=async M=>{r(M),c(!0);try{const j=await M.text(),{samples:E,errors:z,availableTraits:w}=Np(j);i(z),z.every(_=>_.type!=="error")&&(v(E),window.availableTraits=w,x("expression"))}catch{i([{type:"error",message:"Failed to read file. Please ensure it is a valid CSV file."}])}finally{c(!1)}},y=async M=>{o(M),c(!0);try{const j=await M.text(),E=g.map(_=>_.name),{geneExpression:z,errors:w}=Ep(j,E);u(w),w.every(_=>_.type!=="error")&&(t(g,z),x("complete"),console.log("Data upload completed successfully",{samples:g.length,genes:z.length}))}catch{u([{type:"error",message:"Failed to read file. Please ensure it is a valid CSV file."}])}finally{c(!1)}},S=()=>{r(null),o(null),i([]),u([]),v([]),x("sample")},C=({errors:M})=>h.jsx("div",{className:"space-y-2",children:M.map((j,E)=>h.jsxs("div",{className:`flex items-start gap-2 p-3 rounded-lg ${j.type==="error"?"bg-red-50 border border-red-200":"bg-yellow-50 border border-yellow-200"}`,children:[h.jsx(kl,{size:16,className:j.type==="error"?"text-red-600 mt-0.5":"text-yellow-600 mt-0.5"}),h.jsxs("div",{className:"text-sm",children:[h.jsx("div",{className:j.type==="error"?"text-red-800":"text-yellow-800",children:j.message}),j.field&&h.jsxs("div",{className:j.type==="error"?"text-red-600":"text-yellow-600",children:["Field: ",j.field]})]})]},E))});return h.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:h.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[h.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-200",children:[h.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Upload RNA-seq Data"}),h.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 transition-colors",children:h.jsx(lf,{size:24})})]}),h.jsxs("div",{className:"p-6 space-y-6",children:[h.jsxs("div",{className:"flex items-center justify-center space-x-4",children:[h.jsxs("div",{className:`flex items-center ${m==="sample"?"text-blue-600":"text-green-600"}`,children:[h.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${m==="sample"?"bg-blue-100":"bg-green-100"}`,children:m==="sample"?"1":h.jsx(Qr,{size:16})}),h.jsx("span",{className:"ml-2 font-medium",children:"Sample Info"})]}),h.jsx("div",{className:"w-8 h-0.5 bg-gray-300"}),h.jsxs("div",{className:`flex items-center ${m==="expression"?"text-blue-600":m==="complete"?"text-green-600":"text-gray-400"}`,children:[h.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${m==="expression"?"bg-blue-100":m==="complete"?"bg-green-100":"bg-gray-100"}`,children:m==="complete"?h.jsx(Qr,{size:16}):"2"}),h.jsx("span",{className:"ml-2 font-medium",children:"Expression Data"})]})]}),m==="sample"&&h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Step 1: Upload Sample Information"}),h.jsx("p",{className:"text-sm text-gray-600 mb-4",children:'Upload a CSV file containing sample metadata. Must include a "Sample Name" column.'})]}),h.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center hover:border-gray-400 transition-colors cursor-pointer",onClick:()=>{var M;return(M=N.current)==null?void 0:M.click()},children:[h.jsx("input",{ref:N,type:"file",accept:".csv,.txt",onChange:M=>{var j;return((j=M.target.files)==null?void 0:j[0])&&p(M.target.files[0])},className:"hidden"}),h.jsx(of,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),h.jsx("div",{className:"text-lg font-medium text-gray-900 mb-2",children:n?n.name:"Choose sample information file"}),h.jsx("div",{className:"text-sm text-gray-500",children:'CSV format with headers including "Sample Name"'})]}),l.length>0&&h.jsx(C,{errors:l}),g.length>0&&h.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[h.jsxs("div",{className:"flex items-center gap-2 text-green-800",children:[h.jsx(Qr,{size:16}),h.jsx("span",{className:"font-medium",children:"Sample data parsed successfully!"})]}),h.jsxs("div",{className:"text-sm text-green-700 mt-1",children:["Found ",g.length," samples"]})]})]}),m==="expression"&&h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Step 2: Upload Expression Matrix"}),h.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Upload a CSV file with gene expression counts. Column names must match sample names from step 1."})]}),h.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:h.jsxs("div",{className:"text-sm text-blue-800",children:[h.jsx("div",{className:"font-medium mb-1",children:"Expected sample names:"}),h.jsx("div",{className:"text-blue-700",children:g.map(M=>M.name).join(", ")})]})}),h.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center hover:border-gray-400 transition-colors cursor-pointer",onClick:()=>{var M;return(M=f.current)==null?void 0:M.click()},children:[h.jsx("input",{ref:f,type:"file",accept:".csv,.txt",onChange:M=>{var j;return((j=M.target.files)==null?void 0:j[0])&&y(M.target.files[0])},className:"hidden"}),h.jsx(lp,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),h.jsx("div",{className:"text-lg font-medium text-gray-900 mb-2",children:s?s.name:"Choose expression matrix file"}),h.jsx("div",{className:"text-sm text-gray-500",children:"CSV format with gene identifiers and sample columns"})]}),a.length>0&&h.jsx(C,{errors:a}),h.jsx("div",{className:"flex gap-3",children:h.jsx("button",{onClick:S,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:"Back to Step 1"})})]}),m==="complete"&&h.jsxs("div",{className:"text-center space-y-4",children:[h.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto",children:h.jsx(Qr,{className:"text-green-600",size:32})}),h.jsxs("div",{children:[h.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Upload Complete!"}),h.jsx("p",{className:"text-gray-600",children:"Your data has been successfully uploaded and is ready for analysis."})]}),h.jsx("button",{onClick:e,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Start Analysis"})]}),d&&h.jsxs("div",{className:"flex items-center justify-center py-4",children:[h.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),h.jsx("span",{className:"ml-3 text-gray-600",children:"Processing file..."})]})]})]})})};var q={};const Mp=Object.prototype.toString;function Sr(t){const e=Mp.call(t);return e.endsWith("Array]")&&!e.includes("Big")}const _p=Object.freeze(Object.defineProperty({__proto__:null,isAnyArray:Sr},Symbol.toStringTag,{value:"Module"})),Pp=Oa(_p);function Tp(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!Sr(t))throw new TypeError("input must be an array");if(t.length===0)throw new TypeError("input must not be empty");var n=e.fromIndex,r=n===void 0?0:n,s=e.toIndex,o=s===void 0?t.length:s;if(r<0||r>=t.length||!Number.isInteger(r))throw new Error("fromIndex must be a positive integer smaller than length");if(o<=r||o>t.length||!Number.isInteger(o))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var l=t[r],i=r+1;i<o;i++)t[i]>l&&(l=t[i]);return l}function Rp(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!Sr(t))throw new TypeError("input must be an array");if(t.length===0)throw new TypeError("input must not be empty");var n=e.fromIndex,r=n===void 0?0:n,s=e.toIndex,o=s===void 0?t.length:s;if(r<0||r>=t.length||!Number.isInteger(r))throw new Error("fromIndex must be a positive integer smaller than length");if(o<=r||o>t.length||!Number.isInteger(o))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var l=t[r],i=r+1;i<o;i++)t[i]<l&&(l=t[i]);return l}function zp(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(Sr(t)){if(t.length===0)throw new TypeError("input must not be empty")}else throw new TypeError("input must be an array");var n;if(e.output!==void 0){if(!Sr(e.output))throw new TypeError("output option must be an array if specified");n=e.output}else n=new Array(t.length);var r=Rp(t),s=Tp(t);if(r===s)throw new RangeError("minimum and maximum input values are equal. Cannot rescale a constant array");var o=e.min,l=o===void 0?e.autoMinMax?r:0:o,i=e.max,a=i===void 0?e.autoMinMax?s:1:i;if(l>=a)throw new RangeError("min option must be smaller than max option");for(var u=(a-l)/(s-r),d=0;d<t.length;d++)n[d]=(t[d]-r)*u+l;return n}const Dp=Object.freeze(Object.defineProperty({__proto__:null,default:zp},Symbol.toStringTag,{value:"Module"})),Lp=Oa(Dp);Object.defineProperty(q,"__esModule",{value:!0});var _e=Pp,Fa=Lp;const Gr=" ".repeat(2),uf=" ".repeat(4);function Fp(){return cf(this)}function cf(t,e={}){const{maxRows:n=15,maxColumns:r=10,maxNumSize:s=8,padMinus:o="auto"}=e;return`${t.constructor.name} {
${Gr}[
${uf}${Ip(t,n,r,s,o)}
${Gr}]
${Gr}rows: ${t.rows}
${Gr}columns: ${t.columns}
}`}function Ip(t,e,n,r,s){const{rows:o,columns:l}=t,i=Math.min(o,e),a=Math.min(l,n),u=[];if(s==="auto"){s=!1;e:for(let d=0;d<i;d++)for(let c=0;c<a;c++)if(t.get(d,c)<0){s=!0;break e}}for(let d=0;d<i;d++){let c=[];for(let m=0;m<a;m++)c.push(Vp(t.get(d,m),r,s));u.push(`${c.join(" ")}`)}return a!==l&&(u[u.length-1]+=` ... ${l-n} more columns`),i!==o&&u.push(`... ${o-e} more rows`),u.join(`
${uf}`)}function Vp(t,e,n){return(t>=0&&n?` ${Ia(t,e-1)}`:Ia(t,e)).padEnd(e)}function Ia(t,e){let n=t.toString();if(n.length<=e)return n;let r=t.toFixed(e);if(r.length>e&&(r=t.toFixed(Math.max(0,e-(r.length-e)))),r.length<=e&&!r.startsWith("0.000")&&!r.startsWith("-0.000"))return r;let s=t.toExponential(e);return s.length>e&&(s=t.toExponential(Math.max(0,e-(s.length-e)))),s.slice(0)}function Up(t,e){t.prototype.add=function(r){return typeof r=="number"?this.addS(r):this.addM(r)},t.prototype.addS=function(r){for(let s=0;s<this.rows;s++)for(let o=0;o<this.columns;o++)this.set(s,o,this.get(s,o)+r);return this},t.prototype.addM=function(r){if(r=e.checkMatrix(r),this.rows!==r.rows||this.columns!==r.columns)throw new RangeError("Matrices dimensions must be equal");for(let s=0;s<this.rows;s++)for(let o=0;o<this.columns;o++)this.set(s,o,this.get(s,o)+r.get(s,o));return this},t.add=function(r,s){return new e(r).add(s)},t.prototype.sub=function(r){return typeof r=="number"?this.subS(r):this.subM(r)},t.prototype.subS=function(r){for(let s=0;s<this.rows;s++)for(let o=0;o<this.columns;o++)this.set(s,o,this.get(s,o)-r);return this},t.prototype.subM=function(r){if(r=e.checkMatrix(r),this.rows!==r.rows||this.columns!==r.columns)throw new RangeError("Matrices dimensions must be equal");for(let s=0;s<this.rows;s++)for(let o=0;o<this.columns;o++)this.set(s,o,this.get(s,o)-r.get(s,o));return this},t.sub=function(r,s){return new e(r).sub(s)},t.prototype.subtract=t.prototype.sub,t.prototype.subtractS=t.prototype.subS,t.prototype.subtractM=t.prototype.subM,t.subtract=t.sub,t.prototype.mul=function(r){return typeof r=="number"?this.mulS(r):this.mulM(r)},t.prototype.mulS=function(r){for(let s=0;s<this.rows;s++)for(let o=0;o<this.columns;o++)this.set(s,o,this.get(s,o)*r);return this},t.prototype.mulM=function(r){if(r=e.checkMatrix(r),this.rows!==r.rows||this.columns!==r.columns)throw new RangeError("Matrices dimensions must be equal");for(let s=0;s<this.rows;s++)for(let o=0;o<this.columns;o++)this.set(s,o,this.get(s,o)*r.get(s,o));return this},t.mul=function(r,s){return new e(r).mul(s)},t.prototype.multiply=t.prototype.mul,t.prototype.multiplyS=t.prototype.mulS,t.prototype.multiplyM=t.prototype.mulM,t.multiply=t.mul,t.prototype.div=function(r){return typeof r=="number"?this.divS(r):this.divM(r)},t.prototype.divS=function(r){for(let s=0;s<this.rows;s++)for(let o=0;o<this.columns;o++)this.set(s,o,this.get(s,o)/r);return this},t.prototype.divM=function(r){if(r=e.checkMatrix(r),this.rows!==r.rows||this.columns!==r.columns)throw new RangeError("Matrices dimensions must be equal");for(let s=0;s<this.rows;s++)for(let o=0;o<this.columns;o++)this.set(s,o,this.get(s,o)/r.get(s,o));return this},t.div=function(r,s){return new e(r).div(s)},t.prototype.divide=t.prototype.div,t.prototype.divideS=t.prototype.divS,t.prototype.divideM=t.prototype.divM,t.divide=t.div,t.prototype.mod=function(r){return typeof r=="number"?this.modS(r):this.modM(r)},t.prototype.modS=function(r){for(let s=0;s<this.rows;s++)for(let o=0;o<this.columns;o++)this.set(s,o,this.get(s,o)%r);return this},t.prototype.modM=function(r){if(r=e.checkMatrix(r),this.rows!==r.rows||this.columns!==r.columns)throw new RangeError("Matrices dimensions must be equal");for(let s=0;s<this.rows;s++)for(let o=0;o<this.columns;o++)this.set(s,o,this.get(s,o)%r.get(s,o));return this},t.mod=function(r,s){return new e(r).mod(s)},t.prototype.modulus=t.prototype.mod,t.prototype.modulusS=t.prototype.modS,t.prototype.modulusM=t.prototype.modM,t.modulus=t.mod,t.prototype.and=function(r){return typeof r=="number"?this.andS(r):this.andM(r)},t.prototype.andS=function(r){for(let s=0;s<this.rows;s++)for(let o=0;o<this.columns;o++)this.set(s,o,this.get(s,o)&r);return this},t.prototype.andM=function(r){if(r=e.checkMatrix(r),this.rows!==r.rows||this.columns!==r.columns)throw new RangeError("Matrices dimensions must be equal");for(let s=0;s<this.rows;s++)for(let o=0;o<this.columns;o++)this.set(s,o,this.get(s,o)&r.get(s,o));return this},t.and=function(r,s){return new e(r).and(s)},t.prototype.or=function(r){return typeof r=="number"?this.orS(r):this.orM(r)},t.prototype.orS=function(r){for(let s=0;s<this.rows;s++)for(let o=0;o<this.columns;o++)this.set(s,o,this.get(s,o)|r);return this},t.prototype.orM=function(r){if(r=e.checkMatrix(r),this.rows!==r.rows||this.columns!==r.columns)throw new RangeError("Matrices dimensions must be equal");for(let s=0;s<this.rows;s++)for(let o=0;o<this.columns;o++)this.set(s,o,this.get(s,o)|r.get(s,o));return this},t.or=function(r,s){return new e(r).or(s)},t.prototype.xor=function(r){return typeof r=="number"?this.xorS(r):this.xorM(r)},t.prototype.xorS=function(r){for(let s=0;s<this.rows;s++)for(let o=0;o<this.columns;o++)this.set(s,o,this.get(s,o)^r);return this},t.prototype.xorM=function(r){if(r=e.checkMatrix(r),this.rows!==r.rows||this.columns!==r.columns)throw new RangeError("Matrices dimensions must be equal");for(let s=0;s<this.rows;s++)for(let o=0;o<this.columns;o++)this.set(s,o,this.get(s,o)^r.get(s,o));return this},t.xor=function(r,s){return new e(r).xor(s)},t.prototype.leftShift=function(r){return typeof r=="number"?this.leftShiftS(r):this.leftShiftM(r)},t.prototype.leftShiftS=function(r){for(let s=0;s<this.rows;s++)for(let o=0;o<this.columns;o++)this.set(s,o,this.get(s,o)<<r);return this},t.prototype.leftShiftM=function(r){if(r=e.checkMatrix(r),this.rows!==r.rows||this.columns!==r.columns)throw new RangeError("Matrices dimensions must be equal");for(let s=0;s<this.rows;s++)for(let o=0;o<this.columns;o++)this.set(s,o,this.get(s,o)<<r.get(s,o));return this},t.leftShift=function(r,s){return new e(r).leftShift(s)},t.prototype.signPropagatingRightShift=function(r){return typeof r=="number"?this.signPropagatingRightShiftS(r):this.signPropagatingRightShiftM(r)},t.prototype.signPropagatingRightShiftS=function(r){for(let s=0;s<this.rows;s++)for(let o=0;o<this.columns;o++)this.set(s,o,this.get(s,o)>>r);return this},t.prototype.signPropagatingRightShiftM=function(r){if(r=e.checkMatrix(r),this.rows!==r.rows||this.columns!==r.columns)throw new RangeError("Matrices dimensions must be equal");for(let s=0;s<this.rows;s++)for(let o=0;o<this.columns;o++)this.set(s,o,this.get(s,o)>>r.get(s,o));return this},t.signPropagatingRightShift=function(r,s){return new e(r).signPropagatingRightShift(s)},t.prototype.rightShift=function(r){return typeof r=="number"?this.rightShiftS(r):this.rightShiftM(r)},t.prototype.rightShiftS=function(r){for(let s=0;s<this.rows;s++)for(let o=0;o<this.columns;o++)this.set(s,o,this.get(s,o)>>>r);return this},t.prototype.rightShiftM=function(r){if(r=e.checkMatrix(r),this.rows!==r.rows||this.columns!==r.columns)throw new RangeError("Matrices dimensions must be equal");for(let s=0;s<this.rows;s++)for(let o=0;o<this.columns;o++)this.set(s,o,this.get(s,o)>>>r.get(s,o));return this},t.rightShift=function(r,s){return new e(r).rightShift(s)},t.prototype.zeroFillRightShift=t.prototype.rightShift,t.prototype.zeroFillRightShiftS=t.prototype.rightShiftS,t.prototype.zeroFillRightShiftM=t.prototype.rightShiftM,t.zeroFillRightShift=t.rightShift,t.prototype.not=function(){for(let r=0;r<this.rows;r++)for(let s=0;s<this.columns;s++)this.set(r,s,~this.get(r,s));return this},t.not=function(r){return new e(r).not()},t.prototype.abs=function(){for(let r=0;r<this.rows;r++)for(let s=0;s<this.columns;s++)this.set(r,s,Math.abs(this.get(r,s)));return this},t.abs=function(r){return new e(r).abs()},t.prototype.acos=function(){for(let r=0;r<this.rows;r++)for(let s=0;s<this.columns;s++)this.set(r,s,Math.acos(this.get(r,s)));return this},t.acos=function(r){return new e(r).acos()},t.prototype.acosh=function(){for(let r=0;r<this.rows;r++)for(let s=0;s<this.columns;s++)this.set(r,s,Math.acosh(this.get(r,s)));return this},t.acosh=function(r){return new e(r).acosh()},t.prototype.asin=function(){for(let r=0;r<this.rows;r++)for(let s=0;s<this.columns;s++)this.set(r,s,Math.asin(this.get(r,s)));return this},t.asin=function(r){return new e(r).asin()},t.prototype.asinh=function(){for(let r=0;r<this.rows;r++)for(let s=0;s<this.columns;s++)this.set(r,s,Math.asinh(this.get(r,s)));return this},t.asinh=function(r){return new e(r).asinh()},t.prototype.atan=function(){for(let r=0;r<this.rows;r++)for(let s=0;s<this.columns;s++)this.set(r,s,Math.atan(this.get(r,s)));return this},t.atan=function(r){return new e(r).atan()},t.prototype.atanh=function(){for(let r=0;r<this.rows;r++)for(let s=0;s<this.columns;s++)this.set(r,s,Math.atanh(this.get(r,s)));return this},t.atanh=function(r){return new e(r).atanh()},t.prototype.cbrt=function(){for(let r=0;r<this.rows;r++)for(let s=0;s<this.columns;s++)this.set(r,s,Math.cbrt(this.get(r,s)));return this},t.cbrt=function(r){return new e(r).cbrt()},t.prototype.ceil=function(){for(let r=0;r<this.rows;r++)for(let s=0;s<this.columns;s++)this.set(r,s,Math.ceil(this.get(r,s)));return this},t.ceil=function(r){return new e(r).ceil()},t.prototype.clz32=function(){for(let r=0;r<this.rows;r++)for(let s=0;s<this.columns;s++)this.set(r,s,Math.clz32(this.get(r,s)));return this},t.clz32=function(r){return new e(r).clz32()},t.prototype.cos=function(){for(let r=0;r<this.rows;r++)for(let s=0;s<this.columns;s++)this.set(r,s,Math.cos(this.get(r,s)));return this},t.cos=function(r){return new e(r).cos()},t.prototype.cosh=function(){for(let r=0;r<this.rows;r++)for(let s=0;s<this.columns;s++)this.set(r,s,Math.cosh(this.get(r,s)));return this},t.cosh=function(r){return new e(r).cosh()},t.prototype.exp=function(){for(let r=0;r<this.rows;r++)for(let s=0;s<this.columns;s++)this.set(r,s,Math.exp(this.get(r,s)));return this},t.exp=function(r){return new e(r).exp()},t.prototype.expm1=function(){for(let r=0;r<this.rows;r++)for(let s=0;s<this.columns;s++)this.set(r,s,Math.expm1(this.get(r,s)));return this},t.expm1=function(r){return new e(r).expm1()},t.prototype.floor=function(){for(let r=0;r<this.rows;r++)for(let s=0;s<this.columns;s++)this.set(r,s,Math.floor(this.get(r,s)));return this},t.floor=function(r){return new e(r).floor()},t.prototype.fround=function(){for(let r=0;r<this.rows;r++)for(let s=0;s<this.columns;s++)this.set(r,s,Math.fround(this.get(r,s)));return this},t.fround=function(r){return new e(r).fround()},t.prototype.log=function(){for(let r=0;r<this.rows;r++)for(let s=0;s<this.columns;s++)this.set(r,s,Math.log(this.get(r,s)));return this},t.log=function(r){return new e(r).log()},t.prototype.log1p=function(){for(let r=0;r<this.rows;r++)for(let s=0;s<this.columns;s++)this.set(r,s,Math.log1p(this.get(r,s)));return this},t.log1p=function(r){return new e(r).log1p()},t.prototype.log10=function(){for(let r=0;r<this.rows;r++)for(let s=0;s<this.columns;s++)this.set(r,s,Math.log10(this.get(r,s)));return this},t.log10=function(r){return new e(r).log10()},t.prototype.log2=function(){for(let r=0;r<this.rows;r++)for(let s=0;s<this.columns;s++)this.set(r,s,Math.log2(this.get(r,s)));return this},t.log2=function(r){return new e(r).log2()},t.prototype.round=function(){for(let r=0;r<this.rows;r++)for(let s=0;s<this.columns;s++)this.set(r,s,Math.round(this.get(r,s)));return this},t.round=function(r){return new e(r).round()},t.prototype.sign=function(){for(let r=0;r<this.rows;r++)for(let s=0;s<this.columns;s++)this.set(r,s,Math.sign(this.get(r,s)));return this},t.sign=function(r){return new e(r).sign()},t.prototype.sin=function(){for(let r=0;r<this.rows;r++)for(let s=0;s<this.columns;s++)this.set(r,s,Math.sin(this.get(r,s)));return this},t.sin=function(r){return new e(r).sin()},t.prototype.sinh=function(){for(let r=0;r<this.rows;r++)for(let s=0;s<this.columns;s++)this.set(r,s,Math.sinh(this.get(r,s)));return this},t.sinh=function(r){return new e(r).sinh()},t.prototype.sqrt=function(){for(let r=0;r<this.rows;r++)for(let s=0;s<this.columns;s++)this.set(r,s,Math.sqrt(this.get(r,s)));return this},t.sqrt=function(r){return new e(r).sqrt()},t.prototype.tan=function(){for(let r=0;r<this.rows;r++)for(let s=0;s<this.columns;s++)this.set(r,s,Math.tan(this.get(r,s)));return this},t.tan=function(r){return new e(r).tan()},t.prototype.tanh=function(){for(let r=0;r<this.rows;r++)for(let s=0;s<this.columns;s++)this.set(r,s,Math.tanh(this.get(r,s)));return this},t.tanh=function(r){return new e(r).tanh()},t.prototype.trunc=function(){for(let r=0;r<this.rows;r++)for(let s=0;s<this.columns;s++)this.set(r,s,Math.trunc(this.get(r,s)));return this},t.trunc=function(r){return new e(r).trunc()},t.pow=function(r,s){return new e(r).pow(s)},t.prototype.pow=function(r){return typeof r=="number"?this.powS(r):this.powM(r)},t.prototype.powS=function(r){for(let s=0;s<this.rows;s++)for(let o=0;o<this.columns;o++)this.set(s,o,this.get(s,o)**r);return this},t.prototype.powM=function(r){if(r=e.checkMatrix(r),this.rows!==r.rows||this.columns!==r.columns)throw new RangeError("Matrices dimensions must be equal");for(let s=0;s<this.rows;s++)for(let o=0;o<this.columns;o++)this.set(s,o,this.get(s,o)**r.get(s,o));return this}}function Oe(t,e,n){let r=n?t.rows:t.rows-1;if(e<0||e>r)throw new RangeError("Row index out of range")}function Ae(t,e,n){let r=n?t.columns:t.columns-1;if(e<0||e>r)throw new RangeError("Column index out of range")}function on(t,e){if(e.to1DArray&&(e=e.to1DArray()),e.length!==t.columns)throw new RangeError("vector size must be the same as the number of columns");return e}function ln(t,e){if(e.to1DArray&&(e=e.to1DArray()),e.length!==t.rows)throw new RangeError("vector size must be the same as the number of rows");return e}function vi(t,e){if(!_e.isAnyArray(e))throw new TypeError("row indices must be an array");for(let n=0;n<e.length;n++)if(e[n]<0||e[n]>=t.rows)throw new RangeError("row indices are out of range")}function xi(t,e){if(!_e.isAnyArray(e))throw new TypeError("column indices must be an array");for(let n=0;n<e.length;n++)if(e[n]<0||e[n]>=t.columns)throw new RangeError("column indices are out of range")}function jl(t,e,n,r,s){if(arguments.length!==5)throw new RangeError("expected 4 arguments");if(Yr("startRow",e),Yr("endRow",n),Yr("startColumn",r),Yr("endColumn",s),e>n||r>s||e<0||e>=t.rows||n<0||n>=t.rows||r<0||r>=t.columns||s<0||s>=t.columns)throw new RangeError("Submatrix indices are out of range")}function Zs(t,e=0){let n=[];for(let r=0;r<t;r++)n.push(e);return n}function Yr(t,e){if(typeof e!="number")throw new TypeError(`${t} must be a number`)}function sn(t){if(t.isEmpty())throw new Error("Empty matrix has no elements to index")}function $p(t){let e=Zs(t.rows);for(let n=0;n<t.rows;++n)for(let r=0;r<t.columns;++r)e[n]+=t.get(n,r);return e}function Op(t){let e=Zs(t.columns);for(let n=0;n<t.rows;++n)for(let r=0;r<t.columns;++r)e[r]+=t.get(n,r);return e}function Ap(t){let e=0;for(let n=0;n<t.rows;n++)for(let r=0;r<t.columns;r++)e+=t.get(n,r);return e}function Bp(t){let e=Zs(t.rows,1);for(let n=0;n<t.rows;++n)for(let r=0;r<t.columns;++r)e[n]*=t.get(n,r);return e}function bp(t){let e=Zs(t.columns,1);for(let n=0;n<t.rows;++n)for(let r=0;r<t.columns;++r)e[r]*=t.get(n,r);return e}function qp(t){let e=1;for(let n=0;n<t.rows;n++)for(let r=0;r<t.columns;r++)e*=t.get(n,r);return e}function Wp(t,e,n){const r=t.rows,s=t.columns,o=[];for(let l=0;l<r;l++){let i=0,a=0,u=0;for(let d=0;d<s;d++)u=t.get(l,d)-n[l],i+=u,a+=u*u;e?o.push((a-i*i/s)/(s-1)):o.push((a-i*i/s)/s)}return o}function Qp(t,e,n){const r=t.rows,s=t.columns,o=[];for(let l=0;l<s;l++){let i=0,a=0,u=0;for(let d=0;d<r;d++)u=t.get(d,l)-n[l],i+=u,a+=u*u;e?o.push((a-i*i/r)/(r-1)):o.push((a-i*i/r)/r)}return o}function Gp(t,e,n){const r=t.rows,s=t.columns,o=r*s;let l=0,i=0,a=0;for(let u=0;u<r;u++)for(let d=0;d<s;d++)a=t.get(u,d)-n,l+=a,i+=a*a;return e?(i-l*l/o)/(o-1):(i-l*l/o)/o}function Yp(t,e){for(let n=0;n<t.rows;n++)for(let r=0;r<t.columns;r++)t.set(n,r,t.get(n,r)-e[n])}function Kp(t,e){for(let n=0;n<t.rows;n++)for(let r=0;r<t.columns;r++)t.set(n,r,t.get(n,r)-e[r])}function Xp(t,e){for(let n=0;n<t.rows;n++)for(let r=0;r<t.columns;r++)t.set(n,r,t.get(n,r)-e)}function Zp(t){const e=[];for(let n=0;n<t.rows;n++){let r=0;for(let s=0;s<t.columns;s++)r+=t.get(n,s)**2/(t.columns-1);e.push(Math.sqrt(r))}return e}function Jp(t,e){for(let n=0;n<t.rows;n++)for(let r=0;r<t.columns;r++)t.set(n,r,t.get(n,r)/e[n])}function Hp(t){const e=[];for(let n=0;n<t.columns;n++){let r=0;for(let s=0;s<t.rows;s++)r+=t.get(s,n)**2/(t.rows-1);e.push(Math.sqrt(r))}return e}function em(t,e){for(let n=0;n<t.rows;n++)for(let r=0;r<t.columns;r++)t.set(n,r,t.get(n,r)/e[r])}function tm(t){const e=t.size-1;let n=0;for(let r=0;r<t.columns;r++)for(let s=0;s<t.rows;s++)n+=t.get(s,r)**2/e;return Math.sqrt(n)}function nm(t,e){for(let n=0;n<t.rows;n++)for(let r=0;r<t.columns;r++)t.set(n,r,t.get(n,r)/e)}class A{static from1DArray(e,n,r){if(e*n!==r.length)throw new RangeError("data length does not match given dimensions");let o=new L(e,n);for(let l=0;l<e;l++)for(let i=0;i<n;i++)o.set(l,i,r[l*n+i]);return o}static rowVector(e){let n=new L(1,e.length);for(let r=0;r<e.length;r++)n.set(0,r,e[r]);return n}static columnVector(e){let n=new L(e.length,1);for(let r=0;r<e.length;r++)n.set(r,0,e[r]);return n}static zeros(e,n){return new L(e,n)}static ones(e,n){return new L(e,n).fill(1)}static rand(e,n,r={}){if(typeof r!="object")throw new TypeError("options must be an object");const{random:s=Math.random}=r;let o=new L(e,n);for(let l=0;l<e;l++)for(let i=0;i<n;i++)o.set(l,i,s());return o}static randInt(e,n,r={}){if(typeof r!="object")throw new TypeError("options must be an object");const{min:s=0,max:o=1e3,random:l=Math.random}=r;if(!Number.isInteger(s))throw new TypeError("min must be an integer");if(!Number.isInteger(o))throw new TypeError("max must be an integer");if(s>=o)throw new RangeError("min must be smaller than max");let i=o-s,a=new L(e,n);for(let u=0;u<e;u++)for(let d=0;d<n;d++){let c=s+Math.round(l()*i);a.set(u,d,c)}return a}static eye(e,n,r){n===void 0&&(n=e),r===void 0&&(r=1);let s=Math.min(e,n),o=this.zeros(e,n);for(let l=0;l<s;l++)o.set(l,l,r);return o}static diag(e,n,r){let s=e.length;n===void 0&&(n=s),r===void 0&&(r=n);let o=Math.min(s,n,r),l=this.zeros(n,r);for(let i=0;i<o;i++)l.set(i,i,e[i]);return l}static min(e,n){e=this.checkMatrix(e),n=this.checkMatrix(n);let r=e.rows,s=e.columns,o=new L(r,s);for(let l=0;l<r;l++)for(let i=0;i<s;i++)o.set(l,i,Math.min(e.get(l,i),n.get(l,i)));return o}static max(e,n){e=this.checkMatrix(e),n=this.checkMatrix(n);let r=e.rows,s=e.columns,o=new this(r,s);for(let l=0;l<r;l++)for(let i=0;i<s;i++)o.set(l,i,Math.max(e.get(l,i),n.get(l,i)));return o}static checkMatrix(e){return A.isMatrix(e)?e:new L(e)}static isMatrix(e){return e!=null&&e.klass==="Matrix"}get size(){return this.rows*this.columns}apply(e){if(typeof e!="function")throw new TypeError("callback must be a function");for(let n=0;n<this.rows;n++)for(let r=0;r<this.columns;r++)e.call(this,n,r);return this}to1DArray(){let e=[];for(let n=0;n<this.rows;n++)for(let r=0;r<this.columns;r++)e.push(this.get(n,r));return e}to2DArray(){let e=[];for(let n=0;n<this.rows;n++){e.push([]);for(let r=0;r<this.columns;r++)e[n].push(this.get(n,r))}return e}toJSON(){return this.to2DArray()}isRowVector(){return this.rows===1}isColumnVector(){return this.columns===1}isVector(){return this.rows===1||this.columns===1}isSquare(){return this.rows===this.columns}isEmpty(){return this.rows===0||this.columns===0}isSymmetric(){if(this.isSquare()){for(let e=0;e<this.rows;e++)for(let n=0;n<=e;n++)if(this.get(e,n)!==this.get(n,e))return!1;return!0}return!1}isDistance(){if(!this.isSymmetric())return!1;for(let e=0;e<this.rows;e++)if(this.get(e,e)!==0)return!1;return!0}isEchelonForm(){let e=0,n=0,r=-1,s=!0,o=!1;for(;e<this.rows&&s;){for(n=0,o=!1;n<this.columns&&o===!1;)this.get(e,n)===0?n++:this.get(e,n)===1&&n>r?(o=!0,r=n):(s=!1,o=!0);e++}return s}isReducedEchelonForm(){let e=0,n=0,r=-1,s=!0,o=!1;for(;e<this.rows&&s;){for(n=0,o=!1;n<this.columns&&o===!1;)this.get(e,n)===0?n++:this.get(e,n)===1&&n>r?(o=!0,r=n):(s=!1,o=!0);for(let l=n+1;l<this.rows;l++)this.get(e,l)!==0&&(s=!1);e++}return s}echelonForm(){let e=this.clone(),n=0,r=0;for(;n<e.rows&&r<e.columns;){let s=n;for(let o=n;o<e.rows;o++)e.get(o,r)>e.get(s,r)&&(s=o);if(e.get(s,r)===0)r++;else{e.swapRows(n,s);let o=e.get(n,r);for(let l=r;l<e.columns;l++)e.set(n,l,e.get(n,l)/o);for(let l=n+1;l<e.rows;l++){let i=e.get(l,r)/e.get(n,r);e.set(l,r,0);for(let a=r+1;a<e.columns;a++)e.set(l,a,e.get(l,a)-e.get(n,a)*i)}n++,r++}}return e}reducedEchelonForm(){let e=this.echelonForm(),n=e.columns,r=e.rows,s=r-1;for(;s>=0;)if(e.maxRow(s)===0)s--;else{let o=0,l=!1;for(;o<r&&l===!1;)e.get(s,o)===1?l=!0:o++;for(let i=0;i<s;i++){let a=e.get(i,o);for(let u=o;u<n;u++){let d=e.get(i,u)-a*e.get(s,u);e.set(i,u,d)}}s--}return e}set(){throw new Error("set method is unimplemented")}get(){throw new Error("get method is unimplemented")}repeat(e={}){if(typeof e!="object")throw new TypeError("options must be an object");const{rows:n=1,columns:r=1}=e;if(!Number.isInteger(n)||n<=0)throw new TypeError("rows must be a positive integer");if(!Number.isInteger(r)||r<=0)throw new TypeError("columns must be a positive integer");let s=new L(this.rows*n,this.columns*r);for(let o=0;o<n;o++)for(let l=0;l<r;l++)s.setSubMatrix(this,this.rows*o,this.columns*l);return s}fill(e){for(let n=0;n<this.rows;n++)for(let r=0;r<this.columns;r++)this.set(n,r,e);return this}neg(){return this.mulS(-1)}getRow(e){Oe(this,e);let n=[];for(let r=0;r<this.columns;r++)n.push(this.get(e,r));return n}getRowVector(e){return L.rowVector(this.getRow(e))}setRow(e,n){Oe(this,e),n=on(this,n);for(let r=0;r<this.columns;r++)this.set(e,r,n[r]);return this}swapRows(e,n){Oe(this,e),Oe(this,n);for(let r=0;r<this.columns;r++){let s=this.get(e,r);this.set(e,r,this.get(n,r)),this.set(n,r,s)}return this}getColumn(e){Ae(this,e);let n=[];for(let r=0;r<this.rows;r++)n.push(this.get(r,e));return n}getColumnVector(e){return L.columnVector(this.getColumn(e))}setColumn(e,n){Ae(this,e),n=ln(this,n);for(let r=0;r<this.rows;r++)this.set(r,e,n[r]);return this}swapColumns(e,n){Ae(this,e),Ae(this,n);for(let r=0;r<this.rows;r++){let s=this.get(r,e);this.set(r,e,this.get(r,n)),this.set(r,n,s)}return this}addRowVector(e){e=on(this,e);for(let n=0;n<this.rows;n++)for(let r=0;r<this.columns;r++)this.set(n,r,this.get(n,r)+e[r]);return this}subRowVector(e){e=on(this,e);for(let n=0;n<this.rows;n++)for(let r=0;r<this.columns;r++)this.set(n,r,this.get(n,r)-e[r]);return this}mulRowVector(e){e=on(this,e);for(let n=0;n<this.rows;n++)for(let r=0;r<this.columns;r++)this.set(n,r,this.get(n,r)*e[r]);return this}divRowVector(e){e=on(this,e);for(let n=0;n<this.rows;n++)for(let r=0;r<this.columns;r++)this.set(n,r,this.get(n,r)/e[r]);return this}addColumnVector(e){e=ln(this,e);for(let n=0;n<this.rows;n++)for(let r=0;r<this.columns;r++)this.set(n,r,this.get(n,r)+e[n]);return this}subColumnVector(e){e=ln(this,e);for(let n=0;n<this.rows;n++)for(let r=0;r<this.columns;r++)this.set(n,r,this.get(n,r)-e[n]);return this}mulColumnVector(e){e=ln(this,e);for(let n=0;n<this.rows;n++)for(let r=0;r<this.columns;r++)this.set(n,r,this.get(n,r)*e[n]);return this}divColumnVector(e){e=ln(this,e);for(let n=0;n<this.rows;n++)for(let r=0;r<this.columns;r++)this.set(n,r,this.get(n,r)/e[n]);return this}mulRow(e,n){Oe(this,e);for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)*n);return this}mulColumn(e,n){Ae(this,e);for(let r=0;r<this.rows;r++)this.set(r,e,this.get(r,e)*n);return this}max(e){if(this.isEmpty())return NaN;switch(e){case"row":{const n=new Array(this.rows).fill(Number.NEGATIVE_INFINITY);for(let r=0;r<this.rows;r++)for(let s=0;s<this.columns;s++)this.get(r,s)>n[r]&&(n[r]=this.get(r,s));return n}case"column":{const n=new Array(this.columns).fill(Number.NEGATIVE_INFINITY);for(let r=0;r<this.rows;r++)for(let s=0;s<this.columns;s++)this.get(r,s)>n[s]&&(n[s]=this.get(r,s));return n}case void 0:{let n=this.get(0,0);for(let r=0;r<this.rows;r++)for(let s=0;s<this.columns;s++)this.get(r,s)>n&&(n=this.get(r,s));return n}default:throw new Error(`invalid option: ${e}`)}}maxIndex(){sn(this);let e=this.get(0,0),n=[0,0];for(let r=0;r<this.rows;r++)for(let s=0;s<this.columns;s++)this.get(r,s)>e&&(e=this.get(r,s),n[0]=r,n[1]=s);return n}min(e){if(this.isEmpty())return NaN;switch(e){case"row":{const n=new Array(this.rows).fill(Number.POSITIVE_INFINITY);for(let r=0;r<this.rows;r++)for(let s=0;s<this.columns;s++)this.get(r,s)<n[r]&&(n[r]=this.get(r,s));return n}case"column":{const n=new Array(this.columns).fill(Number.POSITIVE_INFINITY);for(let r=0;r<this.rows;r++)for(let s=0;s<this.columns;s++)this.get(r,s)<n[s]&&(n[s]=this.get(r,s));return n}case void 0:{let n=this.get(0,0);for(let r=0;r<this.rows;r++)for(let s=0;s<this.columns;s++)this.get(r,s)<n&&(n=this.get(r,s));return n}default:throw new Error(`invalid option: ${e}`)}}minIndex(){sn(this);let e=this.get(0,0),n=[0,0];for(let r=0;r<this.rows;r++)for(let s=0;s<this.columns;s++)this.get(r,s)<e&&(e=this.get(r,s),n[0]=r,n[1]=s);return n}maxRow(e){if(Oe(this,e),this.isEmpty())return NaN;let n=this.get(e,0);for(let r=1;r<this.columns;r++)this.get(e,r)>n&&(n=this.get(e,r));return n}maxRowIndex(e){Oe(this,e),sn(this);let n=this.get(e,0),r=[e,0];for(let s=1;s<this.columns;s++)this.get(e,s)>n&&(n=this.get(e,s),r[1]=s);return r}minRow(e){if(Oe(this,e),this.isEmpty())return NaN;let n=this.get(e,0);for(let r=1;r<this.columns;r++)this.get(e,r)<n&&(n=this.get(e,r));return n}minRowIndex(e){Oe(this,e),sn(this);let n=this.get(e,0),r=[e,0];for(let s=1;s<this.columns;s++)this.get(e,s)<n&&(n=this.get(e,s),r[1]=s);return r}maxColumn(e){if(Ae(this,e),this.isEmpty())return NaN;let n=this.get(0,e);for(let r=1;r<this.rows;r++)this.get(r,e)>n&&(n=this.get(r,e));return n}maxColumnIndex(e){Ae(this,e),sn(this);let n=this.get(0,e),r=[0,e];for(let s=1;s<this.rows;s++)this.get(s,e)>n&&(n=this.get(s,e),r[0]=s);return r}minColumn(e){if(Ae(this,e),this.isEmpty())return NaN;let n=this.get(0,e);for(let r=1;r<this.rows;r++)this.get(r,e)<n&&(n=this.get(r,e));return n}minColumnIndex(e){Ae(this,e),sn(this);let n=this.get(0,e),r=[0,e];for(let s=1;s<this.rows;s++)this.get(s,e)<n&&(n=this.get(s,e),r[0]=s);return r}diag(){let e=Math.min(this.rows,this.columns),n=[];for(let r=0;r<e;r++)n.push(this.get(r,r));return n}norm(e="frobenius"){switch(e){case"max":return this.max();case"frobenius":return Math.sqrt(this.dot(this));default:throw new RangeError(`unknown norm type: ${e}`)}}cumulativeSum(){let e=0;for(let n=0;n<this.rows;n++)for(let r=0;r<this.columns;r++)e+=this.get(n,r),this.set(n,r,e);return this}dot(e){A.isMatrix(e)&&(e=e.to1DArray());let n=this.to1DArray();if(n.length!==e.length)throw new RangeError("vectors do not have the same size");let r=0;for(let s=0;s<n.length;s++)r+=n[s]*e[s];return r}mmul(e){e=L.checkMatrix(e);let n=this.rows,r=this.columns,s=e.columns,o=new L(n,s),l=new Float64Array(r);for(let i=0;i<s;i++){for(let a=0;a<r;a++)l[a]=e.get(a,i);for(let a=0;a<n;a++){let u=0;for(let d=0;d<r;d++)u+=this.get(a,d)*l[d];o.set(a,i,u)}}return o}mpow(e){if(!this.isSquare())throw new RangeError("Matrix must be square");if(!Number.isInteger(e)||e<0)throw new RangeError("Exponent must be a non-negative integer");let n=L.eye(this.rows),r=this;for(let s=e;s>=1;s/=2)s&1&&(n=n.mmul(r)),r=r.mmul(r);return n}strassen2x2(e){e=L.checkMatrix(e);let n=new L(2,2);const r=this.get(0,0),s=e.get(0,0),o=this.get(0,1),l=e.get(0,1),i=this.get(1,0),a=e.get(1,0),u=this.get(1,1),d=e.get(1,1),c=(r+u)*(s+d),m=(i+u)*s,x=r*(l-d),g=u*(a-s),v=(r+o)*d,N=(i-r)*(s+l),f=(o-u)*(a+d),p=c+g-v+f,y=x+v,S=m+g,C=c-m+x+N;return n.set(0,0,p),n.set(0,1,y),n.set(1,0,S),n.set(1,1,C),n}strassen3x3(e){e=L.checkMatrix(e);let n=new L(3,3);const r=this.get(0,0),s=this.get(0,1),o=this.get(0,2),l=this.get(1,0),i=this.get(1,1),a=this.get(1,2),u=this.get(2,0),d=this.get(2,1),c=this.get(2,2),m=e.get(0,0),x=e.get(0,1),g=e.get(0,2),v=e.get(1,0),N=e.get(1,1),f=e.get(1,2),p=e.get(2,0),y=e.get(2,1),S=e.get(2,2),C=(r+s+o-l-i-d-c)*N,M=(r-l)*(-x+N),j=i*(-m+x+v-N-f-p+S),E=(-r+l+i)*(m-x+N),z=(l+i)*(-m+x),w=r*m,_=(-r+u+d)*(m-g+f),R=(-r+u)*(g-f),k=(u+d)*(-m+g),D=(r+s+o-i-a-u-d)*f,F=d*(-m+g+v-N-f-p+y),O=(-o+d+c)*(N+p-y),W=(o-c)*(N-y),T=o*p,U=(d+c)*(-p+y),V=(-o+i+a)*(f+p-S),G=(o-a)*(f-S),K=(i+a)*(-p+S),B=s*v,Z=a*y,pe=l*g,ie=u*x,ee=c*S,yf=w+T+B,wf=C+E+z+w+O+T+U,vf=w+_+k+D+T+V+K,xf=M+j+E+w+T+V+G,Sf=M+E+z+w+Z,kf=T+V+G+K+pe,jf=w+_+R+F+O+W+T,Nf=O+W+T+U+ie,Ef=w+_+R+k+ee;return n.set(0,0,yf),n.set(0,1,wf),n.set(0,2,vf),n.set(1,0,xf),n.set(1,1,Sf),n.set(1,2,kf),n.set(2,0,jf),n.set(2,1,Nf),n.set(2,2,Ef),n}mmulStrassen(e){e=L.checkMatrix(e);let n=this.clone(),r=n.rows,s=n.columns,o=e.rows,l=e.columns;s!==o&&console.warn(`Multiplying ${r} x ${s} and ${o} x ${l} matrix: dimensions do not match.`);function i(c,m,x){let g=c.rows,v=c.columns;if(g===m&&v===x)return c;{let N=A.zeros(m,x);return N=N.setSubMatrix(c,0,0),N}}let a=Math.max(r,o),u=Math.max(s,l);n=i(n,a,u),e=i(e,a,u);function d(c,m,x,g){if(x<=512||g<=512)return c.mmul(m);x%2===1&&g%2===1?(c=i(c,x+1,g+1),m=i(m,x+1,g+1)):x%2===1?(c=i(c,x+1,g),m=i(m,x+1,g)):g%2===1&&(c=i(c,x,g+1),m=i(m,x,g+1));let v=parseInt(c.rows/2,10),N=parseInt(c.columns/2,10),f=c.subMatrix(0,v-1,0,N-1),p=m.subMatrix(0,v-1,0,N-1),y=c.subMatrix(0,v-1,N,c.columns-1),S=m.subMatrix(0,v-1,N,m.columns-1),C=c.subMatrix(v,c.rows-1,0,N-1),M=m.subMatrix(v,m.rows-1,0,N-1),j=c.subMatrix(v,c.rows-1,N,c.columns-1),E=m.subMatrix(v,m.rows-1,N,m.columns-1),z=d(A.add(f,j),A.add(p,E),v,N),w=d(A.add(C,j),p,v,N),_=d(f,A.sub(S,E),v,N),R=d(j,A.sub(M,p),v,N),k=d(A.add(f,y),E,v,N),D=d(A.sub(C,f),A.add(p,S),v,N),F=d(A.sub(y,j),A.add(M,E),v,N),O=A.add(z,R);O.sub(k),O.add(F);let W=A.add(_,k),T=A.add(w,R),U=A.sub(z,w);U.add(_),U.add(D);let V=A.zeros(2*O.rows,2*O.columns);return V=V.setSubMatrix(O,0,0),V=V.setSubMatrix(W,O.rows,0),V=V.setSubMatrix(T,0,O.columns),V=V.setSubMatrix(U,O.rows,O.columns),V.subMatrix(0,x-1,0,g-1)}return d(n,e,a,u)}scaleRows(e={}){if(typeof e!="object")throw new TypeError("options must be an object");const{min:n=0,max:r=1}=e;if(!Number.isFinite(n))throw new TypeError("min must be a number");if(!Number.isFinite(r))throw new TypeError("max must be a number");if(n>=r)throw new RangeError("min must be smaller than max");let s=new L(this.rows,this.columns);for(let o=0;o<this.rows;o++){const l=this.getRow(o);l.length>0&&Fa(l,{min:n,max:r,output:l}),s.setRow(o,l)}return s}scaleColumns(e={}){if(typeof e!="object")throw new TypeError("options must be an object");const{min:n=0,max:r=1}=e;if(!Number.isFinite(n))throw new TypeError("min must be a number");if(!Number.isFinite(r))throw new TypeError("max must be a number");if(n>=r)throw new RangeError("min must be smaller than max");let s=new L(this.rows,this.columns);for(let o=0;o<this.columns;o++){const l=this.getColumn(o);l.length&&Fa(l,{min:n,max:r,output:l}),s.setColumn(o,l)}return s}flipRows(){const e=Math.ceil(this.columns/2);for(let n=0;n<this.rows;n++)for(let r=0;r<e;r++){let s=this.get(n,r),o=this.get(n,this.columns-1-r);this.set(n,r,o),this.set(n,this.columns-1-r,s)}return this}flipColumns(){const e=Math.ceil(this.rows/2);for(let n=0;n<this.columns;n++)for(let r=0;r<e;r++){let s=this.get(r,n),o=this.get(this.rows-1-r,n);this.set(r,n,o),this.set(this.rows-1-r,n,s)}return this}kroneckerProduct(e){e=L.checkMatrix(e);let n=this.rows,r=this.columns,s=e.rows,o=e.columns,l=new L(n*s,r*o);for(let i=0;i<n;i++)for(let a=0;a<r;a++)for(let u=0;u<s;u++)for(let d=0;d<o;d++)l.set(s*i+u,o*a+d,this.get(i,a)*e.get(u,d));return l}kroneckerSum(e){if(e=L.checkMatrix(e),!this.isSquare()||!e.isSquare())throw new Error("Kronecker Sum needs two Square Matrices");let n=this.rows,r=e.rows,s=this.kroneckerProduct(L.eye(r,r)),o=L.eye(n,n).kroneckerProduct(e);return s.add(o)}transpose(){let e=new L(this.columns,this.rows);for(let n=0;n<this.rows;n++)for(let r=0;r<this.columns;r++)e.set(r,n,this.get(n,r));return e}sortRows(e=Va){for(let n=0;n<this.rows;n++)this.setRow(n,this.getRow(n).sort(e));return this}sortColumns(e=Va){for(let n=0;n<this.columns;n++)this.setColumn(n,this.getColumn(n).sort(e));return this}subMatrix(e,n,r,s){jl(this,e,n,r,s);let o=new L(n-e+1,s-r+1);for(let l=e;l<=n;l++)for(let i=r;i<=s;i++)o.set(l-e,i-r,this.get(l,i));return o}subMatrixRow(e,n,r){if(n===void 0&&(n=0),r===void 0&&(r=this.columns-1),n>r||n<0||n>=this.columns||r<0||r>=this.columns)throw new RangeError("Argument out of range");let s=new L(e.length,r-n+1);for(let o=0;o<e.length;o++)for(let l=n;l<=r;l++){if(e[o]<0||e[o]>=this.rows)throw new RangeError(`Row index out of range: ${e[o]}`);s.set(o,l-n,this.get(e[o],l))}return s}subMatrixColumn(e,n,r){if(n===void 0&&(n=0),r===void 0&&(r=this.rows-1),n>r||n<0||n>=this.rows||r<0||r>=this.rows)throw new RangeError("Argument out of range");let s=new L(r-n+1,e.length);for(let o=0;o<e.length;o++)for(let l=n;l<=r;l++){if(e[o]<0||e[o]>=this.columns)throw new RangeError(`Column index out of range: ${e[o]}`);s.set(l-n,o,this.get(l,e[o]))}return s}setSubMatrix(e,n,r){if(e=L.checkMatrix(e),e.isEmpty())return this;let s=n+e.rows-1,o=r+e.columns-1;jl(this,n,s,r,o);for(let l=0;l<e.rows;l++)for(let i=0;i<e.columns;i++)this.set(n+l,r+i,e.get(l,i));return this}selection(e,n){vi(this,e),xi(this,n);let r=new L(e.length,n.length);for(let s=0;s<e.length;s++){let o=e[s];for(let l=0;l<n.length;l++){let i=n[l];r.set(s,l,this.get(o,i))}}return r}trace(){let e=Math.min(this.rows,this.columns),n=0;for(let r=0;r<e;r++)n+=this.get(r,r);return n}clone(){return this.constructor.copy(this,new L(this.rows,this.columns))}static copy(e,n){for(const[r,s,o]of e.entries())n.set(r,s,o);return n}sum(e){switch(e){case"row":return $p(this);case"column":return Op(this);case void 0:return Ap(this);default:throw new Error(`invalid option: ${e}`)}}product(e){switch(e){case"row":return Bp(this);case"column":return bp(this);case void 0:return qp(this);default:throw new Error(`invalid option: ${e}`)}}mean(e){const n=this.sum(e);switch(e){case"row":{for(let r=0;r<this.rows;r++)n[r]/=this.columns;return n}case"column":{for(let r=0;r<this.columns;r++)n[r]/=this.rows;return n}case void 0:return n/this.size;default:throw new Error(`invalid option: ${e}`)}}variance(e,n={}){if(typeof e=="object"&&(n=e,e=void 0),typeof n!="object")throw new TypeError("options must be an object");const{unbiased:r=!0,mean:s=this.mean(e)}=n;if(typeof r!="boolean")throw new TypeError("unbiased must be a boolean");switch(e){case"row":{if(!_e.isAnyArray(s))throw new TypeError("mean must be an array");return Wp(this,r,s)}case"column":{if(!_e.isAnyArray(s))throw new TypeError("mean must be an array");return Qp(this,r,s)}case void 0:{if(typeof s!="number")throw new TypeError("mean must be a number");return Gp(this,r,s)}default:throw new Error(`invalid option: ${e}`)}}standardDeviation(e,n){typeof e=="object"&&(n=e,e=void 0);const r=this.variance(e,n);if(e===void 0)return Math.sqrt(r);for(let s=0;s<r.length;s++)r[s]=Math.sqrt(r[s]);return r}center(e,n={}){if(typeof e=="object"&&(n=e,e=void 0),typeof n!="object")throw new TypeError("options must be an object");const{center:r=this.mean(e)}=n;switch(e){case"row":{if(!_e.isAnyArray(r))throw new TypeError("center must be an array");return Yp(this,r),this}case"column":{if(!_e.isAnyArray(r))throw new TypeError("center must be an array");return Kp(this,r),this}case void 0:{if(typeof r!="number")throw new TypeError("center must be a number");return Xp(this,r),this}default:throw new Error(`invalid option: ${e}`)}}scale(e,n={}){if(typeof e=="object"&&(n=e,e=void 0),typeof n!="object")throw new TypeError("options must be an object");let r=n.scale;switch(e){case"row":{if(r===void 0)r=Zp(this);else if(!_e.isAnyArray(r))throw new TypeError("scale must be an array");return Jp(this,r),this}case"column":{if(r===void 0)r=Hp(this);else if(!_e.isAnyArray(r))throw new TypeError("scale must be an array");return em(this,r),this}case void 0:{if(r===void 0)r=tm(this);else if(typeof r!="number")throw new TypeError("scale must be a number");return nm(this,r),this}default:throw new Error(`invalid option: ${e}`)}}toString(e){return cf(this,e)}[Symbol.iterator](){return this.entries()}*entries(){for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)yield[e,n,this.get(e,n)]}*values(){for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)yield this.get(e,n)}}A.prototype.klass="Matrix";typeof Symbol<"u"&&(A.prototype[Symbol.for("nodejs.util.inspect.custom")]=Fp);function Va(t,e){return t-e}function rm(t){return t.every(e=>typeof e=="number")}A.random=A.rand;A.randomInt=A.randInt;A.diagonal=A.diag;A.prototype.diagonal=A.prototype.diag;A.identity=A.eye;A.prototype.negate=A.prototype.neg;A.prototype.tensorProduct=A.prototype.kroneckerProduct;var kr,Nl,Kt;let L=(Kt=class extends A{constructor(n,r){super();to(this,kr);nt(this,"data");if(Kt.isMatrix(n))no(this,kr,Nl).call(this,n.rows,n.columns),Kt.copy(n,this);else if(Number.isInteger(n)&&n>=0)no(this,kr,Nl).call(this,n,r);else if(_e.isAnyArray(n)){const s=n;if(n=s.length,r=n?s[0].length:0,typeof r!="number")throw new TypeError("Data must be a 2D array with at least one element");this.data=[];for(let o=0;o<n;o++){if(s[o].length!==r)throw new RangeError("Inconsistent array dimensions");if(!rm(s[o]))throw new TypeError("Input data contains non-numeric values");this.data.push(Float64Array.from(s[o]))}this.rows=n,this.columns=r}else throw new TypeError("First argument must be a positive number or an array")}set(n,r,s){return this.data[n][r]=s,this}get(n,r){return this.data[n][r]}removeRow(n){return Oe(this,n),this.data.splice(n,1),this.rows-=1,this}addRow(n,r){return r===void 0&&(r=n,n=this.rows),Oe(this,n,!0),r=Float64Array.from(on(this,r)),this.data.splice(n,0,r),this.rows+=1,this}removeColumn(n){Ae(this,n);for(let r=0;r<this.rows;r++){const s=new Float64Array(this.columns-1);for(let o=0;o<n;o++)s[o]=this.data[r][o];for(let o=n+1;o<this.columns;o++)s[o-1]=this.data[r][o];this.data[r]=s}return this.columns-=1,this}addColumn(n,r){typeof r>"u"&&(r=n,n=this.columns),Ae(this,n,!0),r=ln(this,r);for(let s=0;s<this.rows;s++){const o=new Float64Array(this.columns+1);let l=0;for(;l<n;l++)o[l]=this.data[s][l];for(o[l++]=r[s];l<this.columns+1;l++)o[l]=this.data[s][l-1];this.data[s]=o}return this.columns+=1,this}},kr=new WeakSet,Nl=function(n,r){if(this.data=[],Number.isInteger(r)&&r>=0)for(let s=0;s<n;s++)this.data.push(new Float64Array(r));else throw new TypeError("nColumns must be a positive integer");this.rows=n,this.columns=r},Kt);Up(A,L);var xe;const Ls=class Ls extends A{constructor(n){super();to(this,xe);if(L.isMatrix(n)){if(!n.isSymmetric())throw new TypeError("not symmetric data");_r(this,xe,L.copy(n,new L(n.rows,n.rows)))}else if(Number.isInteger(n)&&n>=0)_r(this,xe,new L(n,n));else if(_r(this,xe,new L(n)),!this.isSymmetric())throw new TypeError("not symmetric data")}get size(){return Ye(this,xe).size}get rows(){return Ye(this,xe).rows}get columns(){return Ye(this,xe).columns}get diagonalSize(){return this.rows}static isSymmetricMatrix(n){return L.isMatrix(n)&&n.klassType==="SymmetricMatrix"}static zeros(n){return new this(n)}static ones(n){return new this(n).fill(1)}clone(){const n=new Ls(this.diagonalSize);for(const[r,s,o]of this.upperRightEntries())n.set(r,s,o);return n}toMatrix(){return new L(this)}get(n,r){return Ye(this,xe).get(n,r)}set(n,r,s){return Ye(this,xe).set(n,r,s),Ye(this,xe).set(r,n,s),this}removeCross(n){return Ye(this,xe).removeRow(n),Ye(this,xe).removeColumn(n),this}addCross(n,r){r===void 0&&(r=n,n=this.diagonalSize);const s=r.slice();return s.splice(n,1),Ye(this,xe).addRow(n,s),Ye(this,xe).addColumn(n,r),this}applyMask(n){if(n.length!==this.diagonalSize)throw new RangeError("Mask size do not match with matrix size");const r=[];for(const[s,o]of n.entries())o||r.push(s);r.reverse();for(const s of r)this.removeCross(s);return this}toCompact(){const{diagonalSize:n}=this,r=new Array(n*(n+1)/2);for(let s=0,o=0,l=0;l<r.length;l++)r[l]=this.get(o,s),++s>=n&&(s=++o);return r}static fromCompact(n){const r=n.length,s=(Math.sqrt(8*r+1)-1)/2;if(!Number.isInteger(s))throw new TypeError(`This array is not a compact representation of a Symmetric Matrix, ${JSON.stringify(n)}`);const o=new Ls(s);for(let l=0,i=0,a=0;a<r;a++)o.set(l,i,n[a]),++l>=s&&(l=++i);return o}*upperRightEntries(){for(let n=0,r=0;n<this.diagonalSize;void 0){const s=this.get(n,r);yield[n,r,s],++r>=this.diagonalSize&&(r=++n)}}*upperRightValues(){for(let n=0,r=0;n<this.diagonalSize;void 0)yield this.get(n,r),++r>=this.diagonalSize&&(r=++n)}};xe=new WeakMap;let Yt=Ls;Yt.prototype.klassType="SymmetricMatrix";class Js extends Yt{static isDistanceMatrix(e){return Yt.isSymmetricMatrix(e)&&e.klassSubType==="DistanceMatrix"}constructor(e){if(super(e),!this.isDistance())throw new TypeError("Provided arguments do no produce a distance matrix")}set(e,n,r){return e===n&&(r=0),super.set(e,n,r)}addCross(e,n){return n===void 0&&(n=e,e=this.diagonalSize),n=n.slice(),n[e]=0,super.addCross(e,n)}toSymmetricMatrix(){return new Yt(this)}clone(){const e=new Js(this.diagonalSize);for(const[n,r,s]of this.upperRightEntries())n!==r&&e.set(n,r,s);return e}toCompact(){const{diagonalSize:e}=this,n=(e-1)*e/2,r=new Array(n);for(let s=1,o=0,l=0;l<r.length;l++)r[l]=this.get(o,s),++s>=e&&(s=++o+1);return r}static fromCompact(e){const n=e.length;if(n===0)return new this(0);const r=(Math.sqrt(8*n+1)+1)/2;if(!Number.isInteger(r))throw new TypeError(`This array is not a compact representation of a DistanceMatrix, ${JSON.stringify(e)}`);const s=new this(r);for(let o=1,l=0,i=0;i<n;i++)s.set(o,l,e[i]),++o>=r&&(o=++l+1);return s}}Js.prototype.klassSubType="DistanceMatrix";class vt extends A{constructor(e,n,r){super(),this.matrix=e,this.rows=n,this.columns=r}}class sm extends vt{constructor(e,n){Ae(e,n),super(e,e.rows,1),this.column=n}set(e,n,r){return this.matrix.set(e,this.column,r),this}get(e){return this.matrix.get(e,this.column)}}class om extends vt{constructor(e,n){xi(e,n),super(e,e.rows,n.length),this.columnIndices=n}set(e,n,r){return this.matrix.set(e,this.columnIndices[n],r),this}get(e,n){return this.matrix.get(e,this.columnIndices[n])}}class lm extends vt{constructor(e){super(e,e.rows,e.columns)}set(e,n,r){return this.matrix.set(e,this.columns-n-1,r),this}get(e,n){return this.matrix.get(e,this.columns-n-1)}}class im extends vt{constructor(e){super(e,e.rows,e.columns)}set(e,n,r){return this.matrix.set(this.rows-e-1,n,r),this}get(e,n){return this.matrix.get(this.rows-e-1,n)}}class am extends vt{constructor(e,n){Oe(e,n),super(e,1,e.columns),this.row=n}set(e,n,r){return this.matrix.set(this.row,n,r),this}get(e,n){return this.matrix.get(this.row,n)}}class um extends vt{constructor(e,n){vi(e,n),super(e,n.length,e.columns),this.rowIndices=n}set(e,n,r){return this.matrix.set(this.rowIndices[e],n,r),this}get(e,n){return this.matrix.get(this.rowIndices[e],n)}}class as extends vt{constructor(e,n,r){vi(e,n),xi(e,r),super(e,n.length,r.length),this.rowIndices=n,this.columnIndices=r}set(e,n,r){return this.matrix.set(this.rowIndices[e],this.columnIndices[n],r),this}get(e,n){return this.matrix.get(this.rowIndices[e],this.columnIndices[n])}}class cm extends vt{constructor(e,n,r,s,o){jl(e,n,r,s,o),super(e,r-n+1,o-s+1),this.startRow=n,this.startColumn=s}set(e,n,r){return this.matrix.set(this.startRow+e,this.startColumn+n,r),this}get(e,n){return this.matrix.get(this.startRow+e,this.startColumn+n)}}let fm=class extends vt{constructor(e){super(e,e.columns,e.rows)}set(e,n,r){return this.matrix.set(n,e,r),this}get(e,n){return this.matrix.get(n,e)}};class ff extends A{constructor(e,n={}){const{rows:r=1}=n;if(e.length%r!==0)throw new Error("the data length is not divisible by the number of rows");super(),this.rows=r,this.columns=e.length/r,this.data=e}set(e,n,r){let s=this._calculateIndex(e,n);return this.data[s]=r,this}get(e,n){let r=this._calculateIndex(e,n);return this.data[r]}_calculateIndex(e,n){return e*this.columns+n}}class Ve extends A{constructor(e){super(),this.data=e,this.rows=e.length,this.columns=e[0].length}set(e,n,r){return this.data[e][n]=r,this}get(e,n){return this.data[e][n]}}function dm(t,e){if(_e.isAnyArray(t))return t[0]&&_e.isAnyArray(t[0])?new Ve(t):new ff(t,e);throw new Error("the argument is not an array")}class Hs{constructor(e){e=Ve.checkMatrix(e);let n=e.clone(),r=n.rows,s=n.columns,o=new Float64Array(r),l=1,i,a,u,d,c,m,x,g,v;for(i=0;i<r;i++)o[i]=i;for(g=new Float64Array(r),a=0;a<s;a++){for(i=0;i<r;i++)g[i]=n.get(i,a);for(i=0;i<r;i++){for(v=Math.min(i,a),c=0,u=0;u<v;u++)c+=n.get(i,u)*g[u];g[i]-=c,n.set(i,a,g[i])}for(d=a,i=a+1;i<r;i++)Math.abs(g[i])>Math.abs(g[d])&&(d=i);if(d!==a){for(u=0;u<s;u++)m=n.get(d,u),n.set(d,u,n.get(a,u)),n.set(a,u,m);x=o[d],o[d]=o[a],o[a]=x,l=-l}if(a<r&&n.get(a,a)!==0)for(i=a+1;i<r;i++)n.set(i,a,n.get(i,a)/n.get(a,a))}this.LU=n,this.pivotVector=o,this.pivotSign=l}isSingular(){let e=this.LU,n=e.columns;for(let r=0;r<n;r++)if(e.get(r,r)===0)return!0;return!1}solve(e){e=L.checkMatrix(e);let n=this.LU;if(n.rows!==e.rows)throw new Error("Invalid matrix dimensions");if(this.isSingular())throw new Error("LU matrix is singular");let s=e.columns,o=e.subMatrixRow(this.pivotVector,0,s-1),l=n.columns,i,a,u;for(u=0;u<l;u++)for(i=u+1;i<l;i++)for(a=0;a<s;a++)o.set(i,a,o.get(i,a)-o.get(u,a)*n.get(i,u));for(u=l-1;u>=0;u--){for(a=0;a<s;a++)o.set(u,a,o.get(u,a)/n.get(u,u));for(i=0;i<u;i++)for(a=0;a<s;a++)o.set(i,a,o.get(i,a)-o.get(u,a)*n.get(i,u))}return o}get determinant(){let e=this.LU;if(!e.isSquare())throw new Error("Matrix must be square");let n=this.pivotSign,r=e.columns;for(let s=0;s<r;s++)n*=e.get(s,s);return n}get lowerTriangularMatrix(){let e=this.LU,n=e.rows,r=e.columns,s=new L(n,r);for(let o=0;o<n;o++)for(let l=0;l<r;l++)o>l?s.set(o,l,e.get(o,l)):o===l?s.set(o,l,1):s.set(o,l,0);return s}get upperTriangularMatrix(){let e=this.LU,n=e.rows,r=e.columns,s=new L(n,r);for(let o=0;o<n;o++)for(let l=0;l<r;l++)o<=l?s.set(o,l,e.get(o,l)):s.set(o,l,0);return s}get pivotPermutationVector(){return Array.from(this.pivotVector)}}function ct(t,e){let n=0;return Math.abs(t)>Math.abs(e)?(n=e/t,Math.abs(t)*Math.sqrt(1+n*n)):e!==0?(n=t/e,Math.abs(e)*Math.sqrt(1+n*n)):0}class Si{constructor(e){e=Ve.checkMatrix(e);let n=e.clone(),r=e.rows,s=e.columns,o=new Float64Array(s),l,i,a,u;for(a=0;a<s;a++){let d=0;for(l=a;l<r;l++)d=ct(d,n.get(l,a));if(d!==0){for(n.get(a,a)<0&&(d=-d),l=a;l<r;l++)n.set(l,a,n.get(l,a)/d);for(n.set(a,a,n.get(a,a)+1),i=a+1;i<s;i++){for(u=0,l=a;l<r;l++)u+=n.get(l,a)*n.get(l,i);for(u=-u/n.get(a,a),l=a;l<r;l++)n.set(l,i,n.get(l,i)+u*n.get(l,a))}}o[a]=-d}this.QR=n,this.Rdiag=o}solve(e){e=L.checkMatrix(e);let n=this.QR,r=n.rows;if(e.rows!==r)throw new Error("Matrix row dimensions must agree");if(!this.isFullRank())throw new Error("Matrix is rank deficient");let s=e.columns,o=e.clone(),l=n.columns,i,a,u,d;for(u=0;u<l;u++)for(a=0;a<s;a++){for(d=0,i=u;i<r;i++)d+=n.get(i,u)*o.get(i,a);for(d=-d/n.get(u,u),i=u;i<r;i++)o.set(i,a,o.get(i,a)+d*n.get(i,u))}for(u=l-1;u>=0;u--){for(a=0;a<s;a++)o.set(u,a,o.get(u,a)/this.Rdiag[u]);for(i=0;i<u;i++)for(a=0;a<s;a++)o.set(i,a,o.get(i,a)-o.get(u,a)*n.get(i,u))}return o.subMatrix(0,l-1,0,s-1)}isFullRank(){let e=this.QR.columns;for(let n=0;n<e;n++)if(this.Rdiag[n]===0)return!1;return!0}get upperTriangularMatrix(){let e=this.QR,n=e.columns,r=new L(n,n),s,o;for(s=0;s<n;s++)for(o=0;o<n;o++)s<o?r.set(s,o,e.get(s,o)):s===o?r.set(s,o,this.Rdiag[s]):r.set(s,o,0);return r}get orthogonalMatrix(){let e=this.QR,n=e.rows,r=e.columns,s=new L(n,r),o,l,i,a;for(i=r-1;i>=0;i--){for(o=0;o<n;o++)s.set(o,i,0);for(s.set(i,i,1),l=i;l<r;l++)if(e.get(i,i)!==0){for(a=0,o=i;o<n;o++)a+=e.get(o,i)*s.get(o,l);for(a=-a/e.get(i,i),o=i;o<n;o++)s.set(o,l,s.get(o,l)+a*e.get(o,i))}}return s}}class In{constructor(e,n={}){if(e=Ve.checkMatrix(e),e.isEmpty())throw new Error("Matrix must be non-empty");let r=e.rows,s=e.columns;const{computeLeftSingularVectors:o=!0,computeRightSingularVectors:l=!0,autoTranspose:i=!1}=n;let a=!!o,u=!!l,d=!1,c;if(r<s)if(!i)c=e.clone(),console.warn("Computing SVD on a matrix with more columns than rows. Consider enabling autoTranspose");else{c=e.transpose(),r=c.rows,s=c.columns,d=!0;let w=a;a=u,u=w}else c=e.clone();let m=Math.min(r,s),x=Math.min(r+1,s),g=new Float64Array(x),v=new L(r,m),N=new L(s,s),f=new Float64Array(s),p=new Float64Array(r),y=new Float64Array(x);for(let w=0;w<x;w++)y[w]=w;let S=Math.min(r-1,s),C=Math.max(0,Math.min(s-2,r)),M=Math.max(S,C);for(let w=0;w<M;w++){if(w<S){g[w]=0;for(let _=w;_<r;_++)g[w]=ct(g[w],c.get(_,w));if(g[w]!==0){c.get(w,w)<0&&(g[w]=-g[w]);for(let _=w;_<r;_++)c.set(_,w,c.get(_,w)/g[w]);c.set(w,w,c.get(w,w)+1)}g[w]=-g[w]}for(let _=w+1;_<s;_++){if(w<S&&g[w]!==0){let R=0;for(let k=w;k<r;k++)R+=c.get(k,w)*c.get(k,_);R=-R/c.get(w,w);for(let k=w;k<r;k++)c.set(k,_,c.get(k,_)+R*c.get(k,w))}f[_]=c.get(w,_)}if(a&&w<S)for(let _=w;_<r;_++)v.set(_,w,c.get(_,w));if(w<C){f[w]=0;for(let _=w+1;_<s;_++)f[w]=ct(f[w],f[_]);if(f[w]!==0){f[w+1]<0&&(f[w]=0-f[w]);for(let _=w+1;_<s;_++)f[_]/=f[w];f[w+1]+=1}if(f[w]=-f[w],w+1<r&&f[w]!==0){for(let _=w+1;_<r;_++)p[_]=0;for(let _=w+1;_<r;_++)for(let R=w+1;R<s;R++)p[_]+=f[R]*c.get(_,R);for(let _=w+1;_<s;_++){let R=-f[_]/f[w+1];for(let k=w+1;k<r;k++)c.set(k,_,c.get(k,_)+R*p[k])}}if(u)for(let _=w+1;_<s;_++)N.set(_,w,f[_])}}let j=Math.min(s,r+1);if(S<s&&(g[S]=c.get(S,S)),r<j&&(g[j-1]=0),C+1<j&&(f[C]=c.get(C,j-1)),f[j-1]=0,a){for(let w=S;w<m;w++){for(let _=0;_<r;_++)v.set(_,w,0);v.set(w,w,1)}for(let w=S-1;w>=0;w--)if(g[w]!==0){for(let _=w+1;_<m;_++){let R=0;for(let k=w;k<r;k++)R+=v.get(k,w)*v.get(k,_);R=-R/v.get(w,w);for(let k=w;k<r;k++)v.set(k,_,v.get(k,_)+R*v.get(k,w))}for(let _=w;_<r;_++)v.set(_,w,-v.get(_,w));v.set(w,w,1+v.get(w,w));for(let _=0;_<w-1;_++)v.set(_,w,0)}else{for(let _=0;_<r;_++)v.set(_,w,0);v.set(w,w,1)}}if(u)for(let w=s-1;w>=0;w--){if(w<C&&f[w]!==0)for(let _=w+1;_<s;_++){let R=0;for(let k=w+1;k<s;k++)R+=N.get(k,w)*N.get(k,_);R=-R/N.get(w+1,w);for(let k=w+1;k<s;k++)N.set(k,_,N.get(k,_)+R*N.get(k,w))}for(let _=0;_<s;_++)N.set(_,w,0);N.set(w,w,1)}let E=j-1,z=Number.EPSILON;for(;j>0;){let w,_;for(w=j-2;w>=-1&&w!==-1;w--){const R=Number.MIN_VALUE+z*Math.abs(g[w]+Math.abs(g[w+1]));if(Math.abs(f[w])<=R||Number.isNaN(f[w])){f[w]=0;break}}if(w===j-2)_=4;else{let R;for(R=j-1;R>=w&&R!==w;R--){let k=(R!==j?Math.abs(f[R]):0)+(R!==w+1?Math.abs(f[R-1]):0);if(Math.abs(g[R])<=z*k){g[R]=0;break}}R===w?_=3:R===j-1?_=1:(_=2,w=R)}switch(w++,_){case 1:{let R=f[j-2];f[j-2]=0;for(let k=j-2;k>=w;k--){let D=ct(g[k],R),F=g[k]/D,O=R/D;if(g[k]=D,k!==w&&(R=-O*f[k-1],f[k-1]=F*f[k-1]),u)for(let W=0;W<s;W++)D=F*N.get(W,k)+O*N.get(W,j-1),N.set(W,j-1,-O*N.get(W,k)+F*N.get(W,j-1)),N.set(W,k,D)}break}case 2:{let R=f[w-1];f[w-1]=0;for(let k=w;k<j;k++){let D=ct(g[k],R),F=g[k]/D,O=R/D;if(g[k]=D,R=-O*f[k],f[k]=F*f[k],a)for(let W=0;W<r;W++)D=F*v.get(W,k)+O*v.get(W,w-1),v.set(W,w-1,-O*v.get(W,k)+F*v.get(W,w-1)),v.set(W,k,D)}break}case 3:{const R=Math.max(Math.abs(g[j-1]),Math.abs(g[j-2]),Math.abs(f[j-2]),Math.abs(g[w]),Math.abs(f[w])),k=g[j-1]/R,D=g[j-2]/R,F=f[j-2]/R,O=g[w]/R,W=f[w]/R,T=((D+k)*(D-k)+F*F)/2,U=k*F*(k*F);let V=0;(T!==0||U!==0)&&(T<0?V=0-Math.sqrt(T*T+U):V=Math.sqrt(T*T+U),V=U/(T+V));let G=(O+k)*(O-k)+V,K=O*W;for(let B=w;B<j-1;B++){let Z=ct(G,K);Z===0&&(Z=Number.MIN_VALUE);let pe=G/Z,ie=K/Z;if(B!==w&&(f[B-1]=Z),G=pe*g[B]+ie*f[B],f[B]=pe*f[B]-ie*g[B],K=ie*g[B+1],g[B+1]=pe*g[B+1],u)for(let ee=0;ee<s;ee++)Z=pe*N.get(ee,B)+ie*N.get(ee,B+1),N.set(ee,B+1,-ie*N.get(ee,B)+pe*N.get(ee,B+1)),N.set(ee,B,Z);if(Z=ct(G,K),Z===0&&(Z=Number.MIN_VALUE),pe=G/Z,ie=K/Z,g[B]=Z,G=pe*f[B]+ie*g[B+1],g[B+1]=-ie*f[B]+pe*g[B+1],K=ie*f[B+1],f[B+1]=pe*f[B+1],a&&B<r-1)for(let ee=0;ee<r;ee++)Z=pe*v.get(ee,B)+ie*v.get(ee,B+1),v.set(ee,B+1,-ie*v.get(ee,B)+pe*v.get(ee,B+1)),v.set(ee,B,Z)}f[j-2]=G;break}case 4:{if(g[w]<=0&&(g[w]=g[w]<0?-g[w]:0,u))for(let R=0;R<=E;R++)N.set(R,w,-N.get(R,w));for(;w<E&&!(g[w]>=g[w+1]);){let R=g[w];if(g[w]=g[w+1],g[w+1]=R,u&&w<s-1)for(let k=0;k<s;k++)R=N.get(k,w+1),N.set(k,w+1,N.get(k,w)),N.set(k,w,R);if(a&&w<r-1)for(let k=0;k<r;k++)R=v.get(k,w+1),v.set(k,w+1,v.get(k,w)),v.set(k,w,R);w++}j--;break}}}if(d){let w=N;N=v,v=w}this.m=r,this.n=s,this.s=g,this.U=v,this.V=N}solve(e){let n=e,r=this.threshold,s=this.s.length,o=L.zeros(s,s);for(let m=0;m<s;m++)Math.abs(this.s[m])<=r?o.set(m,m,0):o.set(m,m,1/this.s[m]);let l=this.U,i=this.rightSingularVectors,a=i.mmul(o),u=i.rows,d=l.rows,c=L.zeros(u,d);for(let m=0;m<u;m++)for(let x=0;x<d;x++){let g=0;for(let v=0;v<s;v++)g+=a.get(m,v)*l.get(x,v);c.set(m,x,g)}return c.mmul(n)}solveForDiagonal(e){return this.solve(L.diag(e))}inverse(){let e=this.V,n=this.threshold,r=e.rows,s=e.columns,o=new L(r,this.s.length);for(let d=0;d<r;d++)for(let c=0;c<s;c++)Math.abs(this.s[c])>n&&o.set(d,c,e.get(d,c)/this.s[c]);let l=this.U,i=l.rows,a=l.columns,u=new L(r,i);for(let d=0;d<r;d++)for(let c=0;c<i;c++){let m=0;for(let x=0;x<a;x++)m+=o.get(d,x)*l.get(c,x);u.set(d,c,m)}return u}get condition(){return this.s[0]/this.s[Math.min(this.m,this.n)-1]}get norm2(){return this.s[0]}get rank(){let e=Math.max(this.m,this.n)*this.s[0]*Number.EPSILON,n=0,r=this.s;for(let s=0,o=r.length;s<o;s++)r[s]>e&&n++;return n}get diagonal(){return Array.from(this.s)}get threshold(){return Number.EPSILON/2*Math.max(this.m,this.n)*this.s[0]}get leftSingularVectors(){return this.U}get rightSingularVectors(){return this.V}get diagonalMatrix(){return L.diag(this.s)}}function hm(t,e=!1){return t=Ve.checkMatrix(t),e?new In(t).inverse():df(t,L.eye(t.rows))}function df(t,e,n=!1){return t=Ve.checkMatrix(t),e=Ve.checkMatrix(e),n?new In(t).solve(e):t.isSquare()?new Hs(t).solve(e):new Si(t).solve(e)}function us(t){if(t=L.checkMatrix(t),t.isSquare()){if(t.columns===0)return 1;let e,n,r,s;if(t.columns===2)return e=t.get(0,0),n=t.get(0,1),r=t.get(1,0),s=t.get(1,1),e*s-n*r;if(t.columns===3){let o,l,i;return o=new as(t,[1,2],[1,2]),l=new as(t,[1,2],[0,2]),i=new as(t,[1,2],[0,1]),e=t.get(0,0),n=t.get(0,1),r=t.get(0,2),e*us(o)-n*us(l)+r*us(i)}else return new Hs(t).determinant}else throw Error("determinant can only be calculated for a square matrix")}function pm(t,e){let n=[];for(let r=0;r<t;r++)r!==e&&n.push(r);return n}function mm(t,e,n,r=1e-9,s=1e-9){if(t>s)return new Array(e.rows+1).fill(0);{let o=e.addRow(n,[0]);for(let l=0;l<o.rows;l++)Math.abs(o.get(l,0))<r&&o.set(l,0,0);return o.to1DArray()}}function gm(t,e={}){const{thresholdValue:n=1e-9,thresholdError:r=1e-9}=e;t=L.checkMatrix(t);let s=t.rows,o=new L(s,s);for(let l=0;l<s;l++){let i=L.columnVector(t.getRow(l)),a=t.subMatrixRow(pm(s,l)).transpose(),d=new In(a).solve(i),c=L.sub(i,a.mmul(d)).abs().max();o.setRow(l,mm(c,d,l,n,r))}return o}function ym(t,e=Number.EPSILON){if(t=L.checkMatrix(t),t.isEmpty())return t.transpose();let n=new In(t,{autoTranspose:!0}),r=n.leftSingularVectors,s=n.rightSingularVectors,o=n.diagonal;for(let l=0;l<o.length;l++)Math.abs(o[l])>e?o[l]=1/o[l]:o[l]=0;return s.mmul(L.diag(o).mmul(r.transpose()))}function wm(t,e=t,n={}){t=new L(t);let r=!1;if(typeof e=="object"&&!L.isMatrix(e)&&!_e.isAnyArray(e)?(n=e,e=t,r=!0):e=new L(e),t.rows!==e.rows)throw new TypeError("Both matrices must have the same number of rows");const{center:s=!0}=n;s&&(t=t.center("column"),r||(e=e.center("column")));const o=t.transpose().mmul(e);for(let l=0;l<o.rows;l++)for(let i=0;i<o.columns;i++)o.set(l,i,o.get(l,i)*(1/(t.rows-1)));return o}function vm(t,e=t,n={}){t=new L(t);let r=!1;if(typeof e=="object"&&!L.isMatrix(e)&&!_e.isAnyArray(e)?(n=e,e=t,r=!0):e=new L(e),t.rows!==e.rows)throw new TypeError("Both matrices must have the same number of rows");const{center:s=!0,scale:o=!0}=n;s&&(t.center("column"),r||e.center("column")),o&&(t.scale("column"),r||e.scale("column"));const l=t.standardDeviation("column",{unbiased:!0}),i=r?l:e.standardDeviation("column",{unbiased:!0}),a=t.transpose().mmul(e);for(let u=0;u<a.rows;u++)for(let d=0;d<a.columns;d++)a.set(u,d,a.get(u,d)*(1/(l[u]*i[d]))*(1/(t.rows-1)));return a}class hf{constructor(e,n={}){const{assumeSymmetric:r=!1}=n;if(e=Ve.checkMatrix(e),!e.isSquare())throw new Error("Matrix is not a square matrix");if(e.isEmpty())throw new Error("Matrix must be non-empty");let s=e.columns,o=new L(s,s),l=new Float64Array(s),i=new Float64Array(s),a=e,u,d,c=!1;if(r?c=!0:c=e.isSymmetric(),c){for(u=0;u<s;u++)for(d=0;d<s;d++)o.set(u,d,a.get(u,d));xm(s,i,l,o),Sm(s,i,l,o)}else{let m=new L(s,s),x=new Float64Array(s);for(d=0;d<s;d++)for(u=0;u<s;u++)m.set(u,d,a.get(u,d));km(s,m,x,o),jm(s,i,l,o,m)}this.n=s,this.e=i,this.d=l,this.V=o}get realEigenvalues(){return Array.from(this.d)}get imaginaryEigenvalues(){return Array.from(this.e)}get eigenvectorMatrix(){return this.V}get diagonalMatrix(){let e=this.n,n=this.e,r=this.d,s=new L(e,e),o,l;for(o=0;o<e;o++){for(l=0;l<e;l++)s.set(o,l,0);s.set(o,o,r[o]),n[o]>0?s.set(o,o+1,n[o]):n[o]<0&&s.set(o,o-1,n[o])}return s}}function xm(t,e,n,r){let s,o,l,i,a,u,d,c;for(a=0;a<t;a++)n[a]=r.get(t-1,a);for(i=t-1;i>0;i--){for(c=0,l=0,u=0;u<i;u++)c=c+Math.abs(n[u]);if(c===0)for(e[i]=n[i-1],a=0;a<i;a++)n[a]=r.get(i-1,a),r.set(i,a,0),r.set(a,i,0);else{for(u=0;u<i;u++)n[u]/=c,l+=n[u]*n[u];for(s=n[i-1],o=Math.sqrt(l),s>0&&(o=-o),e[i]=c*o,l=l-s*o,n[i-1]=s-o,a=0;a<i;a++)e[a]=0;for(a=0;a<i;a++){for(s=n[a],r.set(a,i,s),o=e[a]+r.get(a,a)*s,u=a+1;u<=i-1;u++)o+=r.get(u,a)*n[u],e[u]+=r.get(u,a)*s;e[a]=o}for(s=0,a=0;a<i;a++)e[a]/=l,s+=e[a]*n[a];for(d=s/(l+l),a=0;a<i;a++)e[a]-=d*n[a];for(a=0;a<i;a++){for(s=n[a],o=e[a],u=a;u<=i-1;u++)r.set(u,a,r.get(u,a)-(s*e[u]+o*n[u]));n[a]=r.get(i-1,a),r.set(i,a,0)}}n[i]=l}for(i=0;i<t-1;i++){if(r.set(t-1,i,r.get(i,i)),r.set(i,i,1),l=n[i+1],l!==0){for(u=0;u<=i;u++)n[u]=r.get(u,i+1)/l;for(a=0;a<=i;a++){for(o=0,u=0;u<=i;u++)o+=r.get(u,i+1)*r.get(u,a);for(u=0;u<=i;u++)r.set(u,a,r.get(u,a)-o*n[u])}}for(u=0;u<=i;u++)r.set(u,i+1,0)}for(a=0;a<t;a++)n[a]=r.get(t-1,a),r.set(t-1,a,0);r.set(t-1,t-1,1),e[0]=0}function Sm(t,e,n,r){let s,o,l,i,a,u,d,c,m,x,g,v,N,f,p,y;for(l=1;l<t;l++)e[l-1]=e[l];e[t-1]=0;let S=0,C=0,M=Number.EPSILON;for(u=0;u<t;u++){for(C=Math.max(C,Math.abs(n[u])+Math.abs(e[u])),d=u;d<t&&!(Math.abs(e[d])<=M*C);)d++;if(d>u)do{for(s=n[u],c=(n[u+1]-s)/(2*e[u]),m=ct(c,1),c<0&&(m=-m),n[u]=e[u]/(c+m),n[u+1]=e[u]*(c+m),x=n[u+1],o=s-n[u],l=u+2;l<t;l++)n[l]-=o;for(S=S+o,c=n[d],g=1,v=g,N=g,f=e[u+1],p=0,y=0,l=d-1;l>=u;l--)for(N=v,v=g,y=p,s=g*e[l],o=g*c,m=ct(c,e[l]),e[l+1]=p*m,p=e[l]/m,g=c/m,c=g*n[l]-p*s,n[l+1]=o+p*(g*s+p*n[l]),a=0;a<t;a++)o=r.get(a,l+1),r.set(a,l+1,p*r.get(a,l)+g*o),r.set(a,l,g*r.get(a,l)-p*o);c=-p*y*N*f*e[u]/x,e[u]=p*c,n[u]=g*c}while(Math.abs(e[u])>M*C);n[u]=n[u]+S,e[u]=0}for(l=0;l<t-1;l++){for(a=l,c=n[l],i=l+1;i<t;i++)n[i]<c&&(a=i,c=n[i]);if(a!==l)for(n[a]=n[l],n[l]=c,i=0;i<t;i++)c=r.get(i,l),r.set(i,l,r.get(i,a)),r.set(i,a,c)}}function km(t,e,n,r){let s=0,o=t-1,l,i,a,u,d,c,m;for(c=s+1;c<=o-1;c++){for(m=0,u=c;u<=o;u++)m=m+Math.abs(e.get(u,c-1));if(m!==0){for(a=0,u=o;u>=c;u--)n[u]=e.get(u,c-1)/m,a+=n[u]*n[u];for(i=Math.sqrt(a),n[c]>0&&(i=-i),a=a-n[c]*i,n[c]=n[c]-i,d=c;d<t;d++){for(l=0,u=o;u>=c;u--)l+=n[u]*e.get(u,d);for(l=l/a,u=c;u<=o;u++)e.set(u,d,e.get(u,d)-l*n[u])}for(u=0;u<=o;u++){for(l=0,d=o;d>=c;d--)l+=n[d]*e.get(u,d);for(l=l/a,d=c;d<=o;d++)e.set(u,d,e.get(u,d)-l*n[d])}n[c]=m*n[c],e.set(c,c-1,m*i)}}for(u=0;u<t;u++)for(d=0;d<t;d++)r.set(u,d,u===d?1:0);for(c=o-1;c>=s+1;c--)if(e.get(c,c-1)!==0){for(u=c+1;u<=o;u++)n[u]=e.get(u,c-1);for(d=c;d<=o;d++){for(i=0,u=c;u<=o;u++)i+=n[u]*r.get(u,d);for(i=i/n[c]/e.get(c,c-1),u=c;u<=o;u++)r.set(u,d,r.get(u,d)+i*n[u])}}}function jm(t,e,n,r,s){let o=t-1,l=0,i=t-1,a=Number.EPSILON,u=0,d=0,c=0,m=0,x=0,g=0,v=0,N=0,f,p,y,S,C,M,j,E,z,w,_,R,k,D,F;for(f=0;f<t;f++)for((f<l||f>i)&&(n[f]=s.get(f,f),e[f]=0),p=Math.max(f-1,0);p<t;p++)d=d+Math.abs(s.get(f,p));for(;o>=l;){for(S=o;S>l&&(g=Math.abs(s.get(S-1,S-1))+Math.abs(s.get(S,S)),g===0&&(g=d),!(Math.abs(s.get(S,S-1))<a*g));)S--;if(S===o)s.set(o,o,s.get(o,o)+u),n[o]=s.get(o,o),e[o]=0,o--,N=0;else if(S===o-1){if(j=s.get(o,o-1)*s.get(o-1,o),c=(s.get(o-1,o-1)-s.get(o,o))/2,m=c*c+j,v=Math.sqrt(Math.abs(m)),s.set(o,o,s.get(o,o)+u),s.set(o-1,o-1,s.get(o-1,o-1)+u),E=s.get(o,o),m>=0){for(v=c>=0?c+v:c-v,n[o-1]=E+v,n[o]=n[o-1],v!==0&&(n[o]=E-j/v),e[o-1]=0,e[o]=0,E=s.get(o,o-1),g=Math.abs(E)+Math.abs(v),c=E/g,m=v/g,x=Math.sqrt(c*c+m*m),c=c/x,m=m/x,p=o-1;p<t;p++)v=s.get(o-1,p),s.set(o-1,p,m*v+c*s.get(o,p)),s.set(o,p,m*s.get(o,p)-c*v);for(f=0;f<=o;f++)v=s.get(f,o-1),s.set(f,o-1,m*v+c*s.get(f,o)),s.set(f,o,m*s.get(f,o)-c*v);for(f=l;f<=i;f++)v=r.get(f,o-1),r.set(f,o-1,m*v+c*r.get(f,o)),r.set(f,o,m*r.get(f,o)-c*v)}else n[o-1]=E+c,n[o]=E+c,e[o-1]=v,e[o]=-v;o=o-2,N=0}else{if(E=s.get(o,o),z=0,j=0,S<o&&(z=s.get(o-1,o-1),j=s.get(o,o-1)*s.get(o-1,o)),N===10){for(u+=E,f=l;f<=o;f++)s.set(f,f,s.get(f,f)-E);g=Math.abs(s.get(o,o-1))+Math.abs(s.get(o-1,o-2)),E=z=.75*g,j=-.4375*g*g}if(N===30&&(g=(z-E)/2,g=g*g+j,g>0)){for(g=Math.sqrt(g),z<E&&(g=-g),g=E-j/((z-E)/2+g),f=l;f<=o;f++)s.set(f,f,s.get(f,f)-g);u+=g,E=z=j=.964}for(N=N+1,C=o-2;C>=S&&(v=s.get(C,C),x=E-v,g=z-v,c=(x*g-j)/s.get(C+1,C)+s.get(C,C+1),m=s.get(C+1,C+1)-v-x-g,x=s.get(C+2,C+1),g=Math.abs(c)+Math.abs(m)+Math.abs(x),c=c/g,m=m/g,x=x/g,!(C===S||Math.abs(s.get(C,C-1))*(Math.abs(m)+Math.abs(x))<a*(Math.abs(c)*(Math.abs(s.get(C-1,C-1))+Math.abs(v)+Math.abs(s.get(C+1,C+1))))));)C--;for(f=C+2;f<=o;f++)s.set(f,f-2,0),f>C+2&&s.set(f,f-3,0);for(y=C;y<=o-1&&(D=y!==o-1,y!==C&&(c=s.get(y,y-1),m=s.get(y+1,y-1),x=D?s.get(y+2,y-1):0,E=Math.abs(c)+Math.abs(m)+Math.abs(x),E!==0&&(c=c/E,m=m/E,x=x/E)),E!==0);y++)if(g=Math.sqrt(c*c+m*m+x*x),c<0&&(g=-g),g!==0){for(y!==C?s.set(y,y-1,-g*E):S!==C&&s.set(y,y-1,-s.get(y,y-1)),c=c+g,E=c/g,z=m/g,v=x/g,m=m/c,x=x/c,p=y;p<t;p++)c=s.get(y,p)+m*s.get(y+1,p),D&&(c=c+x*s.get(y+2,p),s.set(y+2,p,s.get(y+2,p)-c*v)),s.set(y,p,s.get(y,p)-c*E),s.set(y+1,p,s.get(y+1,p)-c*z);for(f=0;f<=Math.min(o,y+3);f++)c=E*s.get(f,y)+z*s.get(f,y+1),D&&(c=c+v*s.get(f,y+2),s.set(f,y+2,s.get(f,y+2)-c*x)),s.set(f,y,s.get(f,y)-c),s.set(f,y+1,s.get(f,y+1)-c*m);for(f=l;f<=i;f++)c=E*r.get(f,y)+z*r.get(f,y+1),D&&(c=c+v*r.get(f,y+2),r.set(f,y+2,r.get(f,y+2)-c*x)),r.set(f,y,r.get(f,y)-c),r.set(f,y+1,r.get(f,y+1)-c*m)}}}if(d!==0){for(o=t-1;o>=0;o--)if(c=n[o],m=e[o],m===0)for(S=o,s.set(o,o,1),f=o-1;f>=0;f--){for(j=s.get(f,f)-c,x=0,p=S;p<=o;p++)x=x+s.get(f,p)*s.get(p,o);if(e[f]<0)v=j,g=x;else if(S=f,e[f]===0?s.set(f,o,j!==0?-x/j:-x/(a*d)):(E=s.get(f,f+1),z=s.get(f+1,f),m=(n[f]-c)*(n[f]-c)+e[f]*e[f],M=(E*g-v*x)/m,s.set(f,o,M),s.set(f+1,o,Math.abs(E)>Math.abs(v)?(-x-j*M)/E:(-g-z*M)/v)),M=Math.abs(s.get(f,o)),a*M*M>1)for(p=f;p<=o;p++)s.set(p,o,s.get(p,o)/M)}else if(m<0)for(S=o-1,Math.abs(s.get(o,o-1))>Math.abs(s.get(o-1,o))?(s.set(o-1,o-1,m/s.get(o,o-1)),s.set(o-1,o,-(s.get(o,o)-c)/s.get(o,o-1))):(F=Kr(0,-s.get(o-1,o),s.get(o-1,o-1)-c,m),s.set(o-1,o-1,F[0]),s.set(o-1,o,F[1])),s.set(o,o-1,0),s.set(o,o,1),f=o-2;f>=0;f--){for(w=0,_=0,p=S;p<=o;p++)w=w+s.get(f,p)*s.get(p,o-1),_=_+s.get(f,p)*s.get(p,o);if(j=s.get(f,f)-c,e[f]<0)v=j,x=w,g=_;else if(S=f,e[f]===0?(F=Kr(-w,-_,j,m),s.set(f,o-1,F[0]),s.set(f,o,F[1])):(E=s.get(f,f+1),z=s.get(f+1,f),R=(n[f]-c)*(n[f]-c)+e[f]*e[f]-m*m,k=(n[f]-c)*2*m,R===0&&k===0&&(R=a*d*(Math.abs(j)+Math.abs(m)+Math.abs(E)+Math.abs(z)+Math.abs(v))),F=Kr(E*x-v*w+m*_,E*g-v*_-m*w,R,k),s.set(f,o-1,F[0]),s.set(f,o,F[1]),Math.abs(E)>Math.abs(v)+Math.abs(m)?(s.set(f+1,o-1,(-w-j*s.get(f,o-1)+m*s.get(f,o))/E),s.set(f+1,o,(-_-j*s.get(f,o)-m*s.get(f,o-1))/E)):(F=Kr(-x-z*s.get(f,o-1),-g-z*s.get(f,o),v,m),s.set(f+1,o-1,F[0]),s.set(f+1,o,F[1]))),M=Math.max(Math.abs(s.get(f,o-1)),Math.abs(s.get(f,o))),a*M*M>1)for(p=f;p<=o;p++)s.set(p,o-1,s.get(p,o-1)/M),s.set(p,o,s.get(p,o)/M)}for(f=0;f<t;f++)if(f<l||f>i)for(p=f;p<t;p++)r.set(f,p,s.get(f,p));for(p=t-1;p>=l;p--)for(f=l;f<=i;f++){for(v=0,y=l;y<=Math.min(p,i);y++)v=v+r.get(f,y)*s.get(y,p);r.set(f,p,v)}}}function Kr(t,e,n,r){let s,o;return Math.abs(n)>Math.abs(r)?(s=r/n,o=n+s*r,[(t+s*e)/o,(e-s*t)/o]):(s=n/r,o=r+s*n,[(s*t+e)/o,(s*e-t)/o])}class pf{constructor(e){if(e=Ve.checkMatrix(e),!e.isSymmetric())throw new Error("Matrix is not symmetric");let n=e,r=n.rows,s=new L(r,r),o=!0,l,i,a;for(i=0;i<r;i++){let u=0;for(a=0;a<i;a++){let d=0;for(l=0;l<a;l++)d+=s.get(a,l)*s.get(i,l);d=(n.get(i,a)-d)/s.get(a,a),s.set(i,a,d),u=u+d*d}for(u=n.get(i,i)-u,o&&(o=u>0),s.set(i,i,Math.sqrt(Math.max(u,0))),a=i+1;a<r;a++)s.set(i,a,0)}this.L=s,this.positiveDefinite=o}isPositiveDefinite(){return this.positiveDefinite}solve(e){e=Ve.checkMatrix(e);let n=this.L,r=n.rows;if(e.rows!==r)throw new Error("Matrix dimensions do not match");if(this.isPositiveDefinite()===!1)throw new Error("Matrix is not positive definite");let s=e.columns,o=e.clone(),l,i,a;for(a=0;a<r;a++)for(i=0;i<s;i++){for(l=0;l<a;l++)o.set(a,i,o.get(a,i)-o.get(l,i)*n.get(a,l));o.set(a,i,o.get(a,i)/n.get(a,a))}for(a=r-1;a>=0;a--)for(i=0;i<s;i++){for(l=a+1;l<r;l++)o.set(a,i,o.get(a,i)-o.get(l,i)*n.get(l,a));o.set(a,i,o.get(a,i)/n.get(a,a))}return o}get lowerTriangularMatrix(){return this.L}}class mf{constructor(e,n={}){e=Ve.checkMatrix(e);let{Y:r}=n;const{scaleScores:s=!1,maxIterations:o=1e3,terminationCriteria:l=1e-10}=n;let i;if(r){if(_e.isAnyArray(r)&&typeof r[0]=="number"?r=L.columnVector(r):r=Ve.checkMatrix(r),r.rows!==e.rows)throw new Error("Y should have the same number of rows as X");i=r.getColumnVector(0)}else i=e.getColumnVector(0);let a=1,u,d,c,m;for(let x=0;x<o&&a>l;x++)c=e.transpose().mmul(i).div(i.transpose().mmul(i).get(0,0)),c=c.div(c.norm()),u=e.mmul(c).div(c.transpose().mmul(c).get(0,0)),x>0&&(a=u.clone().sub(m).pow(2).sum()),m=u.clone(),r?(d=r.transpose().mmul(u).div(u.transpose().mmul(u).get(0,0)),d=d.div(d.norm()),i=r.mmul(d).div(d.transpose().mmul(d).get(0,0))):i=u;if(r){let x=e.transpose().mmul(u).div(u.transpose().mmul(u).get(0,0));x=x.div(x.norm());let g=e.clone().sub(u.clone().mmul(x.transpose())),v=i.transpose().mmul(u).div(u.transpose().mmul(u).get(0,0)),N=r.clone().sub(u.clone().mulS(v.get(0,0)).mmul(d.transpose()));this.t=u,this.p=x.transpose(),this.w=c.transpose(),this.q=d,this.u=i,this.s=u.transpose().mmul(u),this.xResidual=g,this.yResidual=N,this.betas=v}else this.w=c.transpose(),this.s=u.transpose().mmul(u).sqrt(),s?this.t=u.clone().div(this.s.get(0,0)):this.t=u,this.xResidual=e.sub(u.mmul(c.transpose()))}}q.AbstractMatrix=A;q.CHO=pf;q.CholeskyDecomposition=pf;q.DistanceMatrix=Js;var Nm=q.EVD=hf;q.EigenvalueDecomposition=hf;q.LU=Hs;q.LuDecomposition=Hs;var gf=q.Matrix=L;q.MatrixColumnSelectionView=om;q.MatrixColumnView=sm;q.MatrixFlipColumnView=lm;q.MatrixFlipRowView=im;q.MatrixRowSelectionView=um;q.MatrixRowView=am;q.MatrixSelectionView=as;q.MatrixSubView=cm;var Em=q.MatrixTransposeView=fm,Cm=q.NIPALS=mf;q.Nipals=mf;q.QR=Si;q.QrDecomposition=Si;var Mm=q.SVD=In;q.SingularValueDecomposition=In;q.SymmetricMatrix=Yt;q.WrapperMatrix1D=ff;q.WrapperMatrix2D=Ve;q.correlation=vm;q.covariance=wm;var Ua=q.default=L;q.determinant=us;q.inverse=hm;q.linearDependencies=gm;q.pseudoInverse=ym;q.solve=df;q.wrap=dm;const _m=Nm,St=gf,Pm=Em,Tm=Cm,Rm=Mm;Ua.Matrix&&Ua.Matrix;class ki{constructor(e,n={},r){if(this.U=null,this.S=null,r){this.center=r.center,this.scale=r.scale,this.means=r.means,this.stdevs=r.stdevs,this.U=St.checkMatrix(r.U),this.S=r.S,this.R=r.R,this.excludedFeatures=r.excludedFeatures||[];return}let s;Array.isArray(e)?s=new St(e):s=new St(e);const{isCovarianceMatrix:o=!1,method:l="SVD",nCompNIPALS:i=2,center:a=!0,scale:u=!1,ignoreZeroVariance:d=!1}=n;if(this.center=a,this.scale=u,this.means=null,this.stdevs=null,this.excludedFeatures=[],o){this._computeFromCovarianceMatrix(s);return}switch(this._adjust(s,d),l){case"covarianceMatrix":{const c=new Pm(s).mmul(s).div(s.rows-1);this._computeFromCovarianceMatrix(c);break}case"NIPALS":{this._computeWithNIPALS(s,i);break}case"SVD":{const c=new Rm(s,{computeLeftSingularVectors:!1,computeRightSingularVectors:!0,autoTranspose:!0});this.U=c.rightSingularVectors;const m=c.diagonal,x=[];for(const g of m)x.push(g*g/(s.rows-1));this.S=x;break}default:throw new Error(`unknown method: ${l}`)}}static load(e){if(typeof e.name!="string")throw new TypeError("model must have a name property");if(e.name!=="PCA")throw new RangeError(`invalid model: ${e.name}`);return new ki(void 0,void 0,e)}predict(e,n={}){const{nComponents:r=this.U.columns}=n;let s;if(Array.isArray(e)?s=new St(e):s=new St(e),this.center&&(s.subRowVector(this.means),this.scale)){for(let l of this.excludedFeatures)s.removeColumn(l);s.divRowVector(this.stdevs)}let o=s.mmul(this.U);return o.subMatrix(0,o.rows-1,0,r-1)}invert(e){e=St.checkMatrix(e);let n=e.mmul(this.U.transpose());return this.center&&(this.scale&&n.mulRowVector(this.stdevs),n.addRowVector(this.means)),n}getExplainedVariance(){let e=0;if(this.S)for(const n of this.S)e+=n;return this.S?this.S.map(n=>n/e):[]}getCumulativeVariance(){let e=this.getExplainedVariance();for(let n=1;n<e.length;n++)e[n]+=e[n-1];return e}getEigenvectors(){return this.U}getEigenvalues(){return this.S}getStandardDeviations(){return this.S.map(e=>Math.sqrt(e))}getLoadings(){return this.U.transpose()}toJSON(){return{name:"PCA",center:this.center,scale:this.scale,means:this.means,stdevs:this.stdevs,U:this.U,S:this.S,excludedFeatures:this.excludedFeatures}}_adjust(e,n){if(this.center){const r=e.mean("column"),s=this.scale?e.standardDeviation("column",{mean:r}):null;if(this.means=r,e.subRowVector(r),this.scale){for(let o=0;o<s.length;o++)if(s[o]===0)if(n)e.removeColumn(o),s.splice(o,1),this.excludedFeatures.push(o),o--;else throw new RangeError(`Cannot scale the dataset (standard deviation is zero at index ${o}`);this.stdevs=s,e.divRowVector(s)}}}_computeFromCovarianceMatrix(e){const n=new _m(e,{assumeSymmetric:!0});this.U=n.eigenvectorMatrix,this.U.flipRows(),this.S=n.realEigenvalues,this.S.reverse()}_computeWithNIPALS(e,n){this.U=new St(n,e.columns),this.S=[];let r=e;for(let s=0;s<n;s++){let o=new Tm(r);this.U.setRow(s,o.w.transpose()),this.S.push(Math.pow(o.s.get(0,0),2)),r=o.xResidual}this.U=this.U.transpose()}}class zm{constructor(e,n){nt(this,"samples");nt(this,"geneExpression");nt(this,"countMatrix");nt(this,"geneNames");nt(this,"sampleNames");nt(this,"normalizedCountsCache",null);nt(this,"vstDataCache",null);console.log("RNASeqAnalyzer: Constructor called with:",{samplesCount:e.length,genesCount:n.length}),this.samples=e,this.geneExpression=n,this.sampleNames=e.map(r=>r.name),this.geneNames=n.map(r=>r.geneName),this.countMatrix=this.buildCountMatrix()}clearCaches(){this.normalizedCountsCache=null,this.vstDataCache=null}buildCountMatrix(){return this.geneExpression.map(e=>this.sampleNames.map(n=>e.samples[n]||0))}normalizeCountsDESeq2(){if(this.normalizedCountsCache)return this.normalizedCountsCache;const e=this.calculateGeometricMeans(),n=this.calculateSizeFactors(e),r=this.countMatrix.map(s=>s.map((o,l)=>o/n[l]));return this.normalizedCountsCache=r,r}calculateGeometricMeans(){return this.countMatrix.map(e=>{const n=e.filter(s=>s>0);if(n.length===0)return 0;const r=n.reduce((s,o)=>s+Math.log(o),0);return Math.exp(r/n.length)})}calculateSizeFactors(e){return this.samples.map((r,s)=>{const o=this.countMatrix.map((l,i)=>{const a=l[s],u=e[i];return u>0&&a>0?a/u:null}).filter(l=>l!==null);return this.median(o)})}median(e){const n=[...e].sort((s,o)=>s-o),r=Math.floor(n.length/2);return n.length%2===0?(n[r-1]+n[r])/2:n[r]}varianceStabilizingTransform(){if(this.vstDataCache)return this.vstDataCache;const n=this.normalizeCountsDESeq2().map(r=>r.map(s=>s<.5?0:Math.log2(s+.5)));return this.vstDataCache=n,n}performPCA(){console.log("Starting PCA analysis...");const e=performance.now(),n=this.varianceStabilizingTransform(),r=Math.min(1e3,n.length);console.log(`Calculating variance for ${n.length} genes...`);const o=n.map((g,v)=>({index:v,variance:this.calculateVariance(g),geneName:this.geneNames[v]})).filter(g=>g.variance>0).sort((g,v)=>v.variance-g.variance).slice(0,r);console.log(`Using top ${o.length} variable genes for PCA`);const l=o.map(g=>n[g.index]),i=this.transposeMatrix(l);console.log("Computing PCA...");const a=new St(i),u=new ki(a,{center:!0,scale:!1}),d=u.predict(a),c=u.getExplainedVariance(),m=this.samples.map((g,v)=>({x:d.get(v,0),y:d.get(v,1),label:g.name,color:this.getConditionColor(g.condition),size:6,metadata:g})),x=performance.now();return console.log(`PCA analysis completed in ${(x-e).toFixed(2)}ms`),{pcaData:m,varianceExplained:c.slice(0,10),loadings:u.getLoadings().to2DArray()}}transposeMatrix(e){return e.length===0?[]:e[0].map((n,r)=>e.map(s=>s[r]))}calculateVariance(e){const n=e.reduce((s,o)=>s+o,0)/e.length;return e.map(s=>Math.pow(s-n,2)).reduce((s,o)=>s+o,0)/e.length}async performDifferentialExpression(e,n,r){console.log("Starting differential expression analysis...");const s=performance.now(),o=this.samples.filter(c=>e(c)===n),l=this.samples.filter(c=>e(c)===r);if(o.length===0||l.length===0)throw new Error("Both conditions must have at least one sample");console.log(`Comparing ${o.length} vs ${l.length} samples`);const i=this.normalizeCountsDESeq2(),a=100,u=[];for(let c=0;c<this.geneExpression.length;c+=a){const x=this.geneExpression.slice(c,c+a).map((g,v)=>{const N=c+v,f=o.map(z=>i[N][this.sampleNames.indexOf(z.name)]),p=l.map(z=>i[N][this.sampleNames.indexOf(z.name)]),y=f.reduce((z,w)=>z+w,0)/f.length,S=p.reduce((z,w)=>z+w,0)/p.length,C=Math.max(y,.1),M=Math.max(S,.1),j=Math.log2(M/C),E=this.calculatePValue(f,p);return{...g,log2FoldChange:j,pValue:E,adjustedPValue:this.adjustPValue(E)}});u.push(...x),c%(a*5)===0&&await new Promise(g=>setTimeout(g,1))}const d=performance.now();return console.log(`Differential expression analysis completed in ${(d-s).toFixed(2)}ms`),u}async performDifferentialExpressionAsync(e,n,r){console.log("Starting async differential expression analysis...");const s=performance.now(),o=this.samples.filter(c=>e(c)===n),l=this.samples.filter(c=>e(c)===r);if(o.length===0||l.length===0)throw new Error("Both conditions must have at least one sample");console.log(`Comparing ${o.length} vs ${l.length} samples`);const i=this.normalizeCountsDESeq2(),a=50,u=[];for(let c=0;c<this.geneExpression.length;c+=a){const x=this.geneExpression.slice(c,c+a).map((g,v)=>{const N=c+v,f=o.map(z=>i[N][this.sampleNames.indexOf(z.name)]),p=l.map(z=>i[N][this.sampleNames.indexOf(z.name)]),y=f.reduce((z,w)=>z+w,0)/f.length,S=p.reduce((z,w)=>z+w,0)/p.length,C=Math.max(y,.1),M=Math.max(S,.1),j=Math.log2(M/C),E=this.calculatePValue(f,p);return{...g,log2FoldChange:j,pValue:E,adjustedPValue:this.adjustPValue(E)}});if(u.push(...x),c%(a*10)===0){const g=(c/this.geneExpression.length*100).toFixed(1);console.log(`DE analysis progress: ${g}%`)}await new Promise(g=>setTimeout(g,1))}const d=performance.now();return console.log(`Async differential expression analysis completed in ${(d-s).toFixed(2)}ms`),u}calculatePValue(e,n){const r=e.reduce((u,d)=>u+d,0)/e.length,s=n.reduce((u,d)=>u+d,0)/n.length,o=this.calculateVariance(e),l=this.calculateVariance(n),i=Math.sqrt(o/e.length+l/n.length);if(i===0)return 1;const a=Math.abs(r-s)/i;return Math.max(.001,2*(1-this.normalCDF(a)))}normalCDF(e){return .5*(1+this.erf(e/Math.sqrt(2)))}erf(e){const n=.254829592,r=-.284496736,s=1.421413741,o=-1.453152027,l=1.061405429,i=.3275911,a=e>=0?1:-1;e=Math.abs(e);const u=1/(1+i*e),d=1-((((l*u+o)*u+s)*u+r)*u+n)*u*Math.exp(-e*e);return a*d}adjustPValue(e){return Math.min(1,e*1.1)}getConditionColor(e){return{Control:"#2563EB",Treatment:"#F97316",Treated:"#F97316",Case:"#DC2626",Healthy:"#059669",Disease:"#DC2626"}[e]||"#6B7280"}async generateVolcanoPlotAsync(e,n,r){console.log("RNASeqAnalyzer: generateVolcanoPlotAsync called");const s=await this.performDifferentialExpressionAsync(e,n,r);return console.log("RNASeqAnalyzer: DE results obtained, generating plot points"),s.map(o=>({x:o.log2FoldChange||0,y:-Math.log10(Math.max(o.pValue||1,1e-10)),label:o.geneName,color:this.getVolcanoColor(o.log2FoldChange||0,o.adjustedPValue||1),size:4,metadata:o}))}getVolcanoColor(e,n){return Math.abs(e)>=1&&n<.05?e>0?"#F97316":"#2563EB":"#6B7280"}async generateMAPlotAsync(e,n,r){console.log("RNASeqAnalyzer: generateMAPlotAsync called");const s=await this.performDifferentialExpressionAsync(e,n,r),o=this.normalizeCountsDESeq2();return console.log("RNASeqAnalyzer: MA plot data generation complete"),s.map((l,i)=>{const a=o[i];return{x:Math.log2(a.reduce((d,c)=>d+c,0)/a.length+1),y:l.log2FoldChange||0,label:l.geneName,color:this.getVolcanoColor(l.log2FoldChange||0,l.adjustedPValue||1),size:4,metadata:l}})}generateVolcanoPlot(e,n,r){return this.performDifferentialExpression(e,n,r).map(o=>({x:o.log2FoldChange||0,y:-Math.log10(Math.max(o.pValue||1,1e-10)),label:o.geneName,color:this.getVolcanoColor(o.log2FoldChange||0,o.adjustedPValue||1),size:4,metadata:o}))}generateMAPlot(e,n,r){const s=this.performDifferentialExpression(e,n,r),o=this.normalizeCountsDESeq2();return s.map((l,i)=>{const a=o[i];return{x:Math.log2(a.reduce((d,c)=>d+c,0)/a.length+1),y:l.log2FoldChange||0,label:l.geneName,color:this.getVolcanoColor(l.log2FoldChange||0,l.adjustedPValue||1),size:4,metadata:l}})}}const Dm=(t,e)=>{const n=e.length,r=e.filter(o=>Object.values(o.samples).some(l=>l>0)).length,s=t.map(o=>{const l=e.reduce((a,u)=>a+(u.samples[o.name]||0),0),i=e.filter(a=>(a.samples[o.name]||0)>0).length;return{sampleName:o.name,totalCounts:l,detectedGenes:i,detectionRate:i/n}});return{totalGenes:n,expressedGenes:r,expressionRate:r/n,sampleMetrics:s}},Lm=({samples:t,geneExpression:e,currentContrast:n,onPCADataGenerated:r,onVolcanoDataGenerated:s,onMADataGenerated:o})=>{const[l,i]=$.useState(null),[a,u]=$.useState(!1),[d,c]=$.useState(!1),[m,x]=$.useState(null),[g,v]=$.useState(null),[N,f]=$.useState(null),[p,y]=$.useState(""),[S,C]=$.useState(!1);$.useEffect(()=>{console.log("AnalysisResults: useEffect triggered with:",{samplesCount:t.length,genesCount:e.length,hasData:t.length>0&&e.length>0}),t.length>0&&e.length>0?M():(c(!1),i(null),x(null))},[t,e]),$.useEffect(()=>{console.log("AnalysisResults: contrast effect triggered with:",{hasAnalyzer:!!l,analysisComplete:d,hasContrast:!!n,contrastDetails:n}),l&&d?j():(!l||!d)&&(s([]),o([]))},[n,l,d]);const M=async()=>{console.log("AnalysisResults: Starting performAnalysis"),u(!0),v(null);try{console.log("AnalysisResults: Creating new analyzer");const E=new zm(t,e);i(E),console.log("AnalysisResults: Calculating QC metrics");const z=Dm(t,e);x(z),console.log("AnalysisResults: Performing PCA");const w=E.performPCA();r(w.pcaData,w.varianceExplained),console.log("AnalysisResults: Analysis complete, setting analysisComplete=true"),c(!0)}catch(E){console.error("AnalysisResults: Analysis failed:",E),v(E instanceof Error?E.message:"Analysis failed")}finally{u(!1),console.log("AnalysisResults: performAnalysis finished")}},j=async()=>{if(console.log("AnalysisResults: Starting generateContrastSpecificPlots"),!l||!n){console.log("AnalysisResults: No analyzer or contrast, clearing plots"),s([]),o([]);return}console.log("AnalysisResults: Generating plots for contrast:",n),C(!0),y("Preparing differential expression analysis..."),f(null);try{const E=_=>{const R=_[n.trait];return R?String(R):"unknown"},z=t.filter(_=>E(_)===n.group1),w=t.filter(_=>E(_)===n.group2);if(console.log("AnalysisResults: Group validation:",{group1Count:z.length,group2Count:w.length}),z.length===0||w.length===0){f(`Cannot create contrast "${n.group1} vs ${n.group2}": one or both groups have no samples (Group 1: ${z.length}, Group 2: ${w.length})`),s([]),o([]);return}try{y("Computing differential expression..."),console.log("AnalysisResults: Starting volcano plot generation");const _=await l.generateVolcanoPlotAsync(E,n.group1,n.group2);console.log("AnalysisResults: Volcano data generated, count:",_.length),y("Generating MA plot data...");const R=await l.generateMAPlotAsync(E,n.group1,n.group2);console.log("AnalysisResults: MA data generated, count:",R.length),console.log("AnalysisResults: Calling plot data handlers"),s(_),o(R),console.log("AnalysisResults: Plot generation complete")}catch(_){console.error("AnalysisResults: Analysis error:",_),f(`Analysis failed: ${_ instanceof Error?_.message:"Unknown error"}`),s([]),o([])}}catch(E){console.error("AnalysisResults: Contrast generation error:",E),f(`Failed to generate contrast plots: ${E instanceof Error?E.message:"Unknown error"}`)}finally{C(!1),y(""),console.log("AnalysisResults: generateContrastSpecificPlots finished")}};return g?h.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[h.jsxs("div",{className:"flex items-center gap-2 text-red-800",children:[h.jsx(kl,{size:20}),h.jsx("span",{className:"font-medium",children:"Analysis Error"})]}),h.jsx("p",{className:"text-red-700 mt-1",children:g}),h.jsx("button",{onClick:M,className:"mt-3 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"Retry Analysis"})]}):h.jsxs("div",{className:"space-y-6",children:[N&&h.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[h.jsxs("div",{className:"flex items-center gap-2 text-yellow-800",children:[h.jsx(kl,{size:20}),h.jsx("span",{className:"font-medium",children:"Contrast Analysis Issue"})]}),h.jsx("p",{className:"text-yellow-700 mt-1",children:N}),h.jsx("p",{className:"text-yellow-600 text-sm mt-2",children:"Please ensure your sample data has sufficient variation in the relevant metadata fields to form comparison groups."})]}),h.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[h.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[h.jsx(tf,{className:"text-blue-600",size:24}),h.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Analysis Status"})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:`w-3 h-3 rounded-full ${a||S?"bg-yellow-500 animate-pulse":d?"bg-green-500":"bg-gray-300"}`}),h.jsx("span",{className:"text-sm font-medium",children:a?"Analyzing...":S?"Generating plots...":d?"Complete":"Pending"})]}),h.jsxs("div",{className:"text-sm text-gray-600",children:[h.jsx("span",{className:"font-medium",children:t.length})," samples"]}),h.jsxs("div",{className:"text-sm text-gray-600",children:[h.jsx("span",{className:"font-medium",children:e.length})," genes"]})]}),(a||S)&&p&&h.jsx("div",{className:"mt-4 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600"}),h.jsx("span",{className:"text-sm text-blue-800",children:p})]})})]}),m&&h.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[h.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[h.jsx(sp,{className:"text-green-600",size:24}),h.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Quality Control"})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[h.jsxs("div",{className:"bg-blue-50 rounded-lg p-4",children:[h.jsx("div",{className:"text-2xl font-bold text-blue-600",children:m.totalGenes.toLocaleString()}),h.jsx("div",{className:"text-sm text-blue-700",children:"Total Genes"})]}),h.jsxs("div",{className:"bg-green-50 rounded-lg p-4",children:[h.jsx("div",{className:"text-2xl font-bold text-green-600",children:m.expressedGenes.toLocaleString()}),h.jsx("div",{className:"text-sm text-green-700",children:"Expressed Genes"})]}),h.jsxs("div",{className:"bg-purple-50 rounded-lg p-4",children:[h.jsxs("div",{className:"text-2xl font-bold text-purple-600",children:[(m.expressionRate*100).toFixed(1),"%"]}),h.jsx("div",{className:"text-sm text-purple-700",children:"Expression Rate"})]}),h.jsxs("div",{className:"bg-orange-50 rounded-lg p-4",children:[h.jsx("div",{className:"text-2xl font-bold text-orange-600",children:m.sampleMetrics.length}),h.jsx("div",{className:"text-sm text-orange-700",children:"Samples Analyzed"})]})]}),h.jsxs("div",{className:"mt-6",children:[h.jsx("h4",{className:"text-md font-medium text-gray-900 mb-3",children:"Sample Metrics"}),h.jsx("div",{className:"overflow-x-auto",children:h.jsxs("table",{className:"w-full text-sm",children:[h.jsx("thead",{children:h.jsxs("tr",{className:"border-b border-gray-200",children:[h.jsx("th",{className:"text-left py-2",children:"Sample"}),h.jsx("th",{className:"text-right py-2",children:"Total Counts"}),h.jsx("th",{className:"text-right py-2",children:"Detected Genes"}),h.jsx("th",{className:"text-right py-2",children:"Detection Rate"})]})}),h.jsx("tbody",{children:m.sampleMetrics.map((E,z)=>h.jsxs("tr",{className:"border-b border-gray-100",children:[h.jsx("td",{className:"py-2 font-medium",children:E.sampleName}),h.jsx("td",{className:"py-2 text-right",children:E.totalCounts.toLocaleString()}),h.jsx("td",{className:"py-2 text-right",children:E.detectedGenes.toLocaleString()}),h.jsx("td",{className:"py-2 text-right",children:h.jsxs("span",{className:`${E.detectionRate>.5?"text-green-600":E.detectionRate>.3?"text-yellow-600":"text-red-600"}`,children:[(E.detectionRate*100).toFixed(1),"%"]})})]},z))})]})})]})]}),h.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[h.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[h.jsx(sf,{className:"text-purple-600",size:24}),h.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Analysis Methods"})]}),h.jsxs("div",{className:"space-y-4 text-sm text-gray-600",children:[h.jsxs("div",{children:[h.jsx("span",{className:"font-medium text-gray-900",children:"Normalization:"})," DESeq2-style median-of-ratios normalization with size factor calculation",e.length>1e3&&h.jsxs("span",{className:"text-blue-600 ml-2",children:["(Optimized for ",e.length.toLocaleString()," genes)"]})]}),h.jsxs("div",{children:[h.jsx("span",{className:"font-medium text-gray-900",children:"Transformation:"})," Variance stabilizing transformation for PCA analysis"]}),h.jsxs("div",{children:[h.jsx("span",{className:"font-medium text-gray-900",children:"PCA:"})," Principal component analysis using top ",Math.min(1e3,e.length)," most variable genes"]}),h.jsxs("div",{children:[h.jsx("span",{className:"font-medium text-gray-900",children:"Differential Expression:"})," Statistical testing with fold change calculation and multiple testing correction",e.length>500&&h.jsx("span",{className:"text-green-600 ml-2",children:"(Batch processing enabled)"})]})]})]})]})},Fm=[{id:"CTRL_1",name:"Control_Rep1",condition:"Control Group - Untreated",replicate:1,batch:"Processing Batch Alpha",librarySize:45e6,mappingRate:92.5,rnaIntegrity:8.2,sequencingDepth:5e7},{id:"CTRL_2",name:"Control_Rep2",condition:"Control Group - Untreated",replicate:2,batch:"Processing Batch Alpha",librarySize:42e6,mappingRate:91.8,rnaIntegrity:8,sequencingDepth:48e6},{id:"CTRL_3",name:"Control_Rep3",condition:"Control Group - Untreated",replicate:3,batch:"Processing Batch Beta",librarySize:47e6,mappingRate:93.2,rnaIntegrity:8.4,sequencingDepth:52e6},{id:"TREAT_1",name:"Treatment_Rep1",condition:"Drug Treatment - High Dose",replicate:1,batch:"Processing Batch Alpha",librarySize:44e6,mappingRate:90.5,rnaIntegrity:7.8,sequencingDepth:49e6},{id:"TREAT_2",name:"Treatment_Rep2",condition:"Drug Treatment - High Dose",replicate:2,batch:"Processing Batch Beta",librarySize:46e6,mappingRate:92,rnaIntegrity:8.1,sequencingDepth:51e6},{id:"TREAT_3",name:"Treatment_Rep3",condition:"Drug Treatment - High Dose",replicate:3,batch:"Processing Batch Beta",librarySize:43e6,mappingRate:91.2,rnaIntegrity:7.9,sequencingDepth:47e6}],$a=[{id:"treat_vs_ctrl",name:"Treatment vs Control",condition1:"Treatment",condition2:"Control",description:"Compare treatment group against control group"},{id:"batch_a_vs_b",name:"Batch A vs Batch B",condition1:"Batch_A",condition2:"Batch_B",description:"Compare samples from different batches"},{id:"high_vs_low_rin",name:"High RIN vs Low RIN",condition1:"High RIN (8.0)",condition2:"Low RIN (<8.0)",description:"Compare samples with different RNA integrity scores"}],Im=[{geneId:"ENSG00000000001",geneName:"ACTB",samples:{CTRL_1:1250.5,CTRL_2:1180.2,CTRL_3:1320.8,TREAT_1:2100.3,TREAT_2:2050.7,TREAT_3:2200.1},log2FoldChange:.75,pValue:.001,adjustedPValue:.01},{geneId:"ENSG00000000002",geneName:"GAPDH",samples:{CTRL_1:3200.1,CTRL_2:3150.4,CTRL_3:3280.7,TREAT_1:3100.2,TREAT_2:3050.8,TREAT_3:3180.5},log2FoldChange:-.05,pValue:.65,adjustedPValue:.75},{geneId:"ENSG00000000003",geneName:"TP53",samples:{CTRL_1:850.3,CTRL_2:920.1,CTRL_3:880.5,TREAT_1:1450.7,TREAT_2:1520.2,TREAT_3:1480.9},log2FoldChange:.68,pValue:.002,adjustedPValue:.015},{geneId:"ENSG00000000004",geneName:"MYC",samples:{CTRL_1:2100.8,CTRL_2:2050.3,CTRL_3:2180.1,TREAT_1:1200.5,TREAT_2:1150.9,TREAT_3:1280.3},log2FoldChange:-.72,pValue:.001,adjustedPValue:.008}],Vm=(t="treat_vs_ctrl")=>{const e=Im.map(n=>({x:n.log2FoldChange||0,y:-Math.log10(n.pValue||1),label:n.geneName,color:Math.abs(n.log2FoldChange||0)>.5&&(n.adjustedPValue||1)<.05?n.log2FoldChange>0?"#F97316":"#2563EB":"#6B7280",metadata:n}));return t==="batch_a_vs_b"?e.map(n=>({...n,x:n.x*.3+(Math.random()-.5)*.2,y:n.y*.7+Math.random()*.5,color:Math.abs(n.x)>.2&&n.y>1.3?n.x>0?"#F97316":"#2563EB":"#6B7280"})):t==="high_vs_low_rin"?e.map(n=>({...n,x:n.x*.4+(Math.random()-.5)*.3,y:n.y*.8+Math.random()*.3,color:Math.abs(n.x)>.3&&n.y>1?n.x>0?"#F97316":"#2563EB":"#6B7280"})):e},Um=[{name:"condition",type:"categorical",values:["Control Group - Untreated","Drug Treatment - High Dose"],uniqueCount:2},{name:"batch",type:"categorical",values:["Processing Batch Alpha","Processing Batch Beta"],uniqueCount:2},{name:"replicate",type:"categorical",values:["1","2","3"],uniqueCount:3},{name:"rnaIntegrity",type:"numerical",values:["7.8","7.9","8.0","8.1","8.2","8.4"],uniqueCount:6}],$m=(t="treat_vs_ctrl")=>Array.from({length:50},(e,n)=>{const r=Math.random()*16-8;let s=Math.random()*4-2;return t==="batch_a_vs_b"?s*=.3:t==="high_vs_low_rin"&&(s*=.4),{x:r,y:s,label:`Gene_${n+1}`,color:Math.abs(s)>1?s>0?"#F97316":"#2563EB":"#6B7280"}}),Om=()=>{const[t,e]=$.useState("pca"),[n,r]=$.useState("treat_vs_ctrl"),[s,o]=$.useState("condition"),[l,i]=$.useState(!1),[a,u]=$.useState({samples:[],geneExpression:[],availableTraits:[],isUploaded:!1}),[d,c]=$.useState({pcaData:[],volcanoData:[],maData:[],varianceExplained:[]}),[m,x]=$.useState(null),g=a.isUploaded?a.samples:Fm,v=a.isUploaded?a.geneExpression:[],N=a.isUploaded?a.availableTraits:Um,f=(k,D)=>{const F=["#2563EB","#F97316","#10B981","#8B5CF6","#EF4444","#F59E0B","#06B6D4","#EC4899","#84CC16","#6366F1"];if(typeof D=="number"){const T=Math.floor(Math.abs(D))%F.length;return F[T]}const W=String(D).split("").reduce((T,U)=>T+U.charCodeAt(0),0);return F[W%F.length]},p=()=>g.map((k,D)=>{const F=k[s];return{x:Math.random()*20-10+(k.condition==="Control"?-2:2),y:Math.random()*15-7.5+(k.batch==="Batch_A"?-1:1),label:k.name,color:f(s,F),metadata:k}}),y=()=>{if(t!=="pca")return[];const k=new Set;return g.forEach(D=>{const F=D[s];F!=null&&k.add(F)}),Array.from(k).sort((D,F)=>typeof D=="string"&&typeof F=="string"?D.localeCompare(F):Number(D)-Number(F)).map(D=>({label:String(D),color:f(s,D)}))},S=()=>{if(t==="pca")return a.isUploaded&&d.pcaData.length>0?d.pcaData.map(k=>{var D;return{...k,color:f(s,(D=k.metadata)==null?void 0:D[s])}}):p();if(!a.isUploaded)switch(t){case"volcano":return Vm(n);case"ma":return $m(n);default:return[]}switch(t){case"volcano":return d.volcanoData.length>0?d.volcanoData:[];case"ma":return d.maData.length>0?d.maData:[];default:return[]}},C=()=>{var D,F;return a.isUploaded&&d.varianceExplained.length>0&&`${(d.varianceExplained[0]*100).toFixed(1)}${(d.varianceExplained[1]*100).toFixed(1)}`,{pca:{title:"Principal Component Analysis",xLabel:a.isUploaded&&d.varianceExplained.length>0?`PC1 (${(d.varianceExplained[0]*100).toFixed(1)}% variance)`:"PC1 (45.2% variance)",yLabel:a.isUploaded&&d.varianceExplained.length>0?`PC2 (${(d.varianceExplained[1]*100).toFixed(1)}% variance)`:"PC2 (23.8% variance)",showGrid:!0,showLegend:!0,width:600,height:400},volcano:{title:`Volcano Plot - ${((D=$a.find(O=>O.id===n))==null?void 0:D.name)||"Differential Expression"}`,xLabel:"log Fold Change",yLabel:"-log P-value",showGrid:!0,showLegend:!0,width:600,height:400},ma:{title:`MA Plot - ${((F=$a.find(O=>O.id===n))==null?void 0:F.name)||"Expression Analysis"}`,xLabel:"log Mean Expression",yLabel:"log Fold Change",showGrid:!0,showLegend:!0,width:600,height:400}}[t]},M=k=>{console.log("Clicked point:",k)},j=(k,D)=>{console.log("Dashboard: handleDataUpload called with:",{samplesCount:k.length,genesCount:D.length});const F={samples:k,geneExpression:D,availableTraits:window.availableTraits||[],isUploaded:!0};u(F);try{sessionStorage.setItem("uploadedRNASeqData",JSON.stringify(F)),console.log("Dashboard: Data backed up to sessionStorage")}catch(O){console.warn("Dashboard: Failed to backup data to sessionStorage:",O)}console.log("Dashboard: uploadedData state set to uploaded=true"),i(!1)};Za.useEffect(()=>{if(!a.isUploaded)try{const k=sessionStorage.getItem("uploadedRNASeqData");if(k){const D=JSON.parse(k);D.isUploaded&&D.samples.length>0&&(console.log("Dashboard: Restoring data from sessionStorage"),u(D))}}catch(k){console.warn("Dashboard: Failed to restore data from sessionStorage:",k)}},[]);const E=(k,D,F)=>{x({trait:k,group1:D,group2:F})},z=(k,D)=>{console.log("Dashboard: PCA data generated, maintaining uploaded state:",a.isUploaded),c(F=>{const O={...F,pcaData:k,varianceExplained:D};return console.log("Dashboard: Setting PCA data, uploaded state should remain:",a.isUploaded),O})},w=k=>{console.log("Dashboard: Volcano data generated, maintaining uploaded state:",a.isUploaded),c(D=>{const F={...D,volcanoData:k};return console.log("Dashboard: Setting volcano data, uploaded state should remain:",a.isUploaded),F})},_=k=>{console.log("Dashboard: MA data generated, maintaining uploaded state:",a.isUploaded),c(D=>{const F={...D,maData:k};return console.log("Dashboard: Setting MA data, uploaded state should remain:",a.isUploaded),F})},R=t==="volcano"||t==="ma";return h.jsxs("div",{className:"min-h-screen bg-gray-50",children:[h.jsx("header",{className:"bg-white shadow-sm border-b border-gray-200",children:h.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:h.jsxs("div",{className:"flex justify-between items-center h-16",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx(tf,{className:"text-blue-600",size:28}),h.jsxs("div",{children:[h.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"RNA-seq Analytics"}),h.jsx("p",{className:"text-sm text-gray-500",children:"Data Visualization Platform"})]})]}),h.jsxs("div",{className:"flex items-center gap-6 text-sm text-gray-600",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(op,{size:16}),h.jsxs("span",{children:[g.length," Samples"]})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(nf,{size:16}),h.jsx("span",{children:"Multiple Plots"})]}),h.jsxs("button",{onClick:()=>i(!0),className:"flex items-center gap-2 px-3 py-1.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm",children:[h.jsx(of,{size:14}),"Upload Data"]})]})]})})}),h.jsx("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:h.jsxs("div",{className:"space-y-8",children:[h.jsx("section",{children:h.jsx(yp,{samples:g,availableTraits:N})}),h.jsxs("section",{className:"grid grid-cols-1 xl:grid-cols-3 gap-8",children:[h.jsxs("div",{className:"xl:col-span-1 space-y-6",children:[h.jsx(vp,{selectedPlot:t,onPlotChange:e}),t==="pca"&&h.jsx(Sp,{availableTraits:N,samples:g,selectedTrait:s,onTraitChange:o}),R&&h.jsx(xp,{availableTraits:N,onContrastChange:E})]}),h.jsx("div",{className:"xl:col-span-2",children:h.jsx(gp,{onError:(k,D)=>{console.error("Plot rendering error:",k,D),console.log("Dashboard: Plot error occurred, uploaded state:",a.isUploaded)},children:h.jsx(wp,{data:S(),config:C(),onPointClick:M,legendData:y()})})})]}),a.isUploaded&&h.jsx("section",{children:h.jsx(Lm,{samples:g,geneExpression:v,currentContrast:m,onPCADataGenerated:z,onVolcanoDataGenerated:w,onMADataGenerated:_})})]})}),l&&h.jsx(Cp,{onDataUpload:j,onClose:()=>i(!1)})]})};function Am(){return h.jsx(Om,{})}ef(document.getElementById("root")).render(h.jsx($.StrictMode,{children:h.jsx(Am,{})}));
